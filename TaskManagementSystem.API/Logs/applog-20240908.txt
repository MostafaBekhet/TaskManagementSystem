2024-09-08 14:28:04.569 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-08 14:28:05.006 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-08 14:28:05.704 +02:00 [DBG] Hosting starting
2024-09-08 14:28:05.722 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-08 14:28:05.763 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-08 14:28:05.784 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-08 14:28:05.793 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 14:28:05.800 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-08 14:28:05.809 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 14:28:05.817 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-08 14:28:05.824 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-08 14:28:05.829 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-08 14:28:05.833 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-08 14:28:06.611 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-08 14:28:06.613 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-08 14:28:06.616 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-08 14:28:06.618 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-08 14:28:06.621 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-08 14:28:06.623 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-08 14:28:06.728 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-08 14:28:06.730 +02:00 [INF] Hosting environment: Development
2024-09-08 14:28:06.732 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-08 14:28:06.734 +02:00 [DBG] Hosting started
2024-09-08 14:28:29.319 +02:00 [DBG] Connection id "0HN6G06VBK930" accepted.
2024-09-08 14:28:29.324 +02:00 [DBG] Connection id "0HN6G06VBK930" started.
2024-09-08 14:28:29.420 +02:00 [DBG] Connection 0HN6G06VBK930 established using the following protocol: "Tls12"
2024-09-08 14:28:29.535 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-08 14:28:29.768 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-08 14:28:29.813 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-08 14:28:29.818 +02:00 [DBG] Request did not match any endpoints
2024-09-08 14:28:29.834 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:28:29.847 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:28:29.851 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:28:30.752 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-08 14:28:30.757 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-08 14:28:30.772 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 487.1079 ms
2024-09-08 14:28:30.781 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-08 14:28:30.785 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-08 14:28:30.794 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 1265.4935ms
2024-09-08 14:28:30.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-08 14:28:30.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-08 14:28:30.848 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-08 14:28:30.855 +02:00 [DBG] Request did not match any endpoints
2024-09-08 14:28:30.859 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:28:30.862 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:28:30.872 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:28:30.876 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 34.8803ms
2024-09-08 14:28:30.879 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.5961 ms
2024-09-08 14:28:30.890 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 48.8928ms
2024-09-08 14:28:31.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_vs/browserLink - null null
2024-09-08 14:28:31.255 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_vs/browserLink - 200 null text/javascript; charset=UTF-8 144.8157ms
2024-09-08 14:28:31.601 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-08 14:28:31.608 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-08 14:28:31.611 +02:00 [DBG] Request did not match any endpoints
2024-09-08 14:28:31.614 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:28:31.618 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:28:31.620 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:28:32.057 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 434.6720 ms
2024-09-08 14:28:32.063 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 462.6506ms
2024-09-08 14:29:10.851 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 123
2024-09-08 14:29:10.874 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-08 14:29:10.879 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 14:29:10.883 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:29:10.886 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:29:10.888 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:29:10.892 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:29:10.897 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 14:29:10.904 +02:00 [DBG] Connection id "0HN6G06VBK930", Request id "0HN6G06VBK930:0000000B": started reading request body.
2024-09-08 14:29:10.910 +02:00 [DBG] Connection id "0HN6G06VBK930", Request id "0HN6G06VBK930:0000000B": done reading request body.
2024-09-08 14:29:11.750 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-08 14:29:12.399 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:29:12.462 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:29:12.732 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:29:12.739 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:29:12.803 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-08 14:29:12.810 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-08 14:29:12.814 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-08 14:29:12.969 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-08 14:29:13.291 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:29:13.796 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-08 14:29:14.134 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:29:14.207 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:29:14.246 +02:00 [DBG] Created DbConnection. (37ms).
2024-09-08 14:29:14.255 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:15.452 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:15.462 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:29:15.476 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-08 14:29:15.495 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2024-09-08 14:29:15.511 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:29:15.666 +02:00 [INF] Executed DbCommand (157ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:29:15.784 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-08 14:29:15.907 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:15.921 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 238ms reading results.
2024-09-08 14:29:15.931 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:15.943 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (11ms).
2024-09-08 14:29:16.142 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-08 14:29:16.191 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 14:29:16.198 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.202 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.205 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:29:16.207 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:29:16.209 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:29:16.211 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 14:29:16.228 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 14:29:16.237 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.240 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-08 14:29:16.243 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.246 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:29:16.262 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-08 14:29:16.290 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 14:29:16.297 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.300 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.302 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:29:16.305 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:29:16.308 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 14:29:16.310 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 14:29:16.323 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 14:29:16.332 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.335 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-08 14:29:16.342 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.346 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-08 14:29:16.353 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-08 14:29:16.365 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:29:16.373 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.376 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.378 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:29:16.380 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:29:16.383 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:29:16.385 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:29:16.393 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:29:16.406 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-08 14:29:16.419 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.424 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 26ms reading results.
2024-09-08 14:29:16.429 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.432 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 14:29:16.440 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-08 14:29:16.447 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 14:29:16.451 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.455 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.457 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:29:16.459 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:29:16.461 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:29:16.464 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 14:29:16.474 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 14:29:16.481 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.485 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-08 14:29:16.490 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.492 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:29:16.507 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-08 14:29:16.522 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 14:29:16.526 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 5634.8352 ms
2024-09-08 14:29:16.536 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:29:16.544 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:29:16.550 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-08 14:29:16.554 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 5703.2069ms
2024-09-08 14:29:32.787 +02:00 [DBG] Connection id "0HN6G06VBK930" received FIN.
2024-09-08 14:29:32.796 +02:00 [DBG] Connection id "0HN6G06VBK930" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-08 14:29:32.798 +02:00 [DBG] Connection id "0HN6G06VBK930" is closed. The last processed stream ID was 11.
2024-09-08 14:29:32.806 +02:00 [DBG] The connection queue processing loop for 0HN6G06VBK930 completed.
2024-09-08 14:29:32.813 +02:00 [DBG] Connection id "0HN6G06VBK930" stopped.
2024-09-08 14:31:32.733 +02:00 [DBG] Connection id "0HN6G06VBK931" accepted.
2024-09-08 14:31:32.747 +02:00 [DBG] Connection id "0HN6G06VBK931" started.
2024-09-08 14:31:32.753 +02:00 [DBG] Connection 0HN6G06VBK931 established using the following protocol: "Tls12"
2024-09-08 14:31:32.768 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - application/json 60
2024-09-08 14:31:32.777 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/userRole'
2024-09-08 14:31:32.781 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)' with route pattern 'api/v1/identity/userRole' is valid for the request path '/api/v1/identity/userRole'
2024-09-08 14:31:32.787 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:31:32.793 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 14:31:32.795 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 14:31:32.798 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:31:32.813 +02:00 [DBG] Authorization was successful.
2024-09-08 14:31:32.815 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:31:32.844 +02:00 [INF] Route matched with {action = "AssignUserRole", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignUserRole(TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand) on controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API).
2024-09-08 14:31:32.851 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 14:31:32.854 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 14:31:32.858 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 14:31:32.863 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 14:31:32.866 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 14:31:32.871 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:31:32.877 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:31:32.885 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:31:32.895 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' using the name '' in request data ...
2024-09-08 14:31:32.901 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 14:31:32.909 +02:00 [DBG] Connection id "0HN6G06VBK931", Request id "0HN6G06VBK931:00000001": started reading request body.
2024-09-08 14:31:32.913 +02:00 [DBG] Connection id "0HN6G06VBK931", Request id "0HN6G06VBK931:00000001": done reading request body.
2024-09-08 14:31:32.920 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'
2024-09-08 14:31:32.925 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:31:32.928 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:31:32.931 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:31:33.170 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:31:33.207 +02:00 [INF] Assigning role for User: {"UserEmail":"string@test.com","RoleName":"string","$type":"AssignUserRoleCommand"}
2024-09-08 14:31:33.306 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:31:33.313 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-08 14:31:33.324 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:31:33.332 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:31:33.333 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 14:31:33.337 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:31:33.341 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:31:33.343 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:31:33.345 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:31:33.348 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:31:33.350 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:31:33.362 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:31:33.371 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 14:31:33.375 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:31:33.377 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-08 14:31:33.382 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:31:33.384 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:31:33.393 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:31:33.397 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:31:33.400 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:31:33.402 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:31:33.404 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:31:33.407 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:31:33.412 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:31:33.417 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:31:33.420 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:31:33.424 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:31:33.426 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:31:33.437 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 14:31:33.448 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-08 14:31:33.451 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 14:31:33.454 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 14:31:33.459 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-08 14:31:33.465 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-09-08 14:31:33.476 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API) in 601.2488ms
2024-09-08 14:31:33.480 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:31:33.482 +02:00 [INF] HTTP PATCH /api/v1/identity/userRole responded 404 in 683.6365 ms
2024-09-08 14:31:33.486 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:31:33.489 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:31:33.492 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 14:31:33.495 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - 404 null text/plain; charset=utf-8 726.9798ms
2024-09-08 14:34:01.308 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-08 14:34:01.546 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-08 14:34:01.702 +02:00 [DBG] Hosting starting
2024-09-08 14:34:01.715 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-08 14:34:01.730 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-08 14:34:01.746 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-08 14:34:01.753 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 14:34:01.758 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-08 14:34:01.762 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 14:34:01.768 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-08 14:34:01.773 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-08 14:34:01.777 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-08 14:34:01.780 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-08 14:34:02.171 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-08 14:34:02.175 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-08 14:34:02.178 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-08 14:34:02.181 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-08 14:34:02.183 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-08 14:34:02.185 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-08 14:34:02.210 +02:00 [DBG] Connection id "0HN6G0A2IAIL6" accepted.
2024-09-08 14:34:02.214 +02:00 [DBG] Connection id "0HN6G0A2IAIL6" started.
2024-09-08 14:34:02.239 +02:00 [DBG] Connection id "0HN6G0A2IAIL7" accepted.
2024-09-08 14:34:02.243 +02:00 [DBG] Connection id "0HN6G0A2IAIL7" started.
2024-09-08 14:34:02.274 +02:00 [DBG] Connection id "0HN6G0A2IAIL6" received FIN.
2024-09-08 14:34:02.310 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-08 14:34:02.313 +02:00 [INF] Hosting environment: Development
2024-09-08 14:34:02.311 +02:00 [DBG] Connection 0HN6G0A2IAIL6 established using the following protocol: "Tls12"
2024-09-08 14:34:02.311 +02:00 [DBG] Connection 0HN6G0A2IAIL7 established using the following protocol: "Tls12"
2024-09-08 14:34:02.317 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-08 14:34:02.328 +02:00 [DBG] Hosting started
2024-09-08 14:34:02.355 +02:00 [DBG] Connection id "0HN6G0A2IAIL6" is closed. The last processed stream ID was 0.
2024-09-08 14:34:02.360 +02:00 [DBG] Connection id "0HN6G0A2IAIL6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-08 14:34:02.370 +02:00 [DBG] The connection queue processing loop for 0HN6G0A2IAIL6 completed.
2024-09-08 14:34:02.380 +02:00 [DBG] Connection id "0HN6G0A2IAIL6" stopped.
2024-09-08 14:34:02.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-08 14:34:02.579 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-08 14:34:02.632 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-08 14:34:02.636 +02:00 [DBG] Request did not match any endpoints
2024-09-08 14:34:02.650 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:34:02.660 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:34:02.663 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:34:02.779 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-08 14:34:02.784 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-08 14:34:02.803 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 129.2374 ms
2024-09-08 14:34:02.812 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-08 14:34:02.817 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-08 14:34:02.825 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 414.3948ms
2024-09-08 14:34:02.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_vs/browserLink - null null
2024-09-08 14:34:02.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-08 14:34:02.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-08 14:34:02.862 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-08 14:34:02.865 +02:00 [DBG] Request did not match any endpoints
2024-09-08 14:34:02.871 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:34:02.882 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:34:02.882 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 53.4789ms
2024-09-08 14:34:02.885 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:34:02.900 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 4.3624 ms
2024-09-08 14:34:02.906 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 77.6458ms
2024-09-08 14:34:02.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.5811ms
2024-09-08 14:34:03.149 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-08 14:34:03.182 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-08 14:34:03.187 +02:00 [DBG] Request did not match any endpoints
2024-09-08 14:34:03.193 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:34:03.200 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:34:03.204 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:34:03.435 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 228.4737 ms
2024-09-08 14:34:03.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 293.7031ms
2024-09-08 14:34:23.068 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 123
2024-09-08 14:34:23.086 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-08 14:34:23.091 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 14:34:23.095 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:34:23.099 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:34:23.103 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:34:23.107 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:34:23.111 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 14:34:23.121 +02:00 [DBG] Connection id "0HN6G0A2IAIL7", Request id "0HN6G0A2IAIL7:0000000B": started reading request body.
2024-09-08 14:34:23.124 +02:00 [DBG] Connection id "0HN6G0A2IAIL7", Request id "0HN6G0A2IAIL7:0000000B": done reading request body.
2024-09-08 14:34:23.340 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-08 14:34:23.806 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:34:23.867 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:34:24.147 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:34:24.154 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:34:24.216 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-08 14:34:24.222 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-08 14:34:24.226 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-08 14:34:24.384 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-08 14:34:24.691 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:34:24.823 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-08 14:34:25.128 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:34:25.199 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:34:25.232 +02:00 [DBG] Created DbConnection. (29ms).
2024-09-08 14:34:25.239 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:25.628 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:25.638 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:34:25.646 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-08 14:34:25.664 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-09-08 14:34:25.679 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:34:25.765 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:34:25.866 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-08 14:34:25.939 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:25.953 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 175ms reading results.
2024-09-08 14:34:25.962 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:25.975 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (13ms).
2024-09-08 14:34:26.171 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-08 14:34:26.229 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 14:34:26.242 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.248 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.253 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:34:26.255 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:34:26.259 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 14:34:26.262 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 14:34:26.281 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 14:34:26.290 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.293 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-08 14:34:26.296 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.299 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 14:34:26.315 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-08 14:34:26.339 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 14:34:26.345 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.348 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.351 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:34:26.353 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:34:26.355 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:34:26.358 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 14:34:26.365 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 14:34:26.371 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.373 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:34:26.377 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.381 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 14:34:26.388 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-08 14:34:26.399 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:34:26.406 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.409 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.412 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:34:26.415 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:34:26.417 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 14:34:26.420 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:34:26.426 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:34:26.441 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-08 14:34:26.455 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.459 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-09-08 14:34:26.463 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.466 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:34:26.474 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-08 14:34:26.485 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 14:34:26.493 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.497 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.503 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:34:26.505 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:34:26.507 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:34:26.510 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 14:34:26.516 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 14:34:26.522 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.525 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:34:26.528 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.531 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 14:34:26.544 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-08 14:34:26.564 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 14:34:26.568 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3462.8456 ms
2024-09-08 14:34:26.575 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:34:26.587 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:34:26.592 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-08 14:34:26.597 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 3529.3793ms
2024-09-08 14:35:19.180 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - application/json 57
2024-09-08 14:35:19.198 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/userRole'
2024-09-08 14:35:19.205 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)' with route pattern 'api/v1/identity/userRole' is valid for the request path '/api/v1/identity/userRole'
2024-09-08 14:35:19.211 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:35:19.221 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 14:35:19.225 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 14:35:19.229 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:35:19.239 +02:00 [DBG] Authorization was successful.
2024-09-08 14:35:19.243 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:35:19.274 +02:00 [INF] Route matched with {action = "AssignUserRole", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignUserRole(TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand) on controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API).
2024-09-08 14:35:19.282 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 14:35:19.285 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 14:35:19.288 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 14:35:19.293 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 14:35:19.296 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 14:35:19.302 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:35:19.308 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:35:19.316 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:35:19.325 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' using the name '' in request data ...
2024-09-08 14:35:19.331 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 14:35:19.340 +02:00 [DBG] Connection id "0HN6G0A2IAIL7", Request id "0HN6G0A2IAIL7:0000000D": started reading request body.
2024-09-08 14:35:19.344 +02:00 [DBG] Connection id "0HN6G0A2IAIL7", Request id "0HN6G0A2IAIL7:0000000D": done reading request body.
2024-09-08 14:35:19.350 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'
2024-09-08 14:35:19.356 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:35:19.359 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:35:19.362 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:35:19.442 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:35:19.452 +02:00 [DBG] The request has model state errors, returning an error response.
2024-09-08 14:35:19.458 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-09-08 14:35:19.464 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 14:35:19.473 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-08 14:35:19.475 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-08 14:35:19.485 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-08 14:35:19.490 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-09-08 14:35:19.529 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API) in 224.3602ms
2024-09-08 14:35:19.533 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:35:19.536 +02:00 [INF] HTTP PATCH /api/v1/identity/userRole responded 400 in 306.8551 ms
2024-09-08 14:35:19.540 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - 400 null application/problem+json; charset=utf-8 361.4319ms
2024-09-08 14:35:40.754 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - application/json 62
2024-09-08 14:35:40.760 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/userRole'
2024-09-08 14:35:40.763 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)' with route pattern 'api/v1/identity/userRole' is valid for the request path '/api/v1/identity/userRole'
2024-09-08 14:35:40.767 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:35:40.772 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 14:35:40.774 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 14:35:40.776 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:35:40.782 +02:00 [DBG] Authorization was successful.
2024-09-08 14:35:40.784 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:35:40.788 +02:00 [INF] Route matched with {action = "AssignUserRole", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignUserRole(TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand) on controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API).
2024-09-08 14:35:40.794 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 14:35:40.798 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 14:35:40.802 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 14:35:40.807 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 14:35:40.810 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 14:35:40.813 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:35:40.817 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:35:40.821 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:35:40.824 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' using the name '' in request data ...
2024-09-08 14:35:40.828 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 14:35:40.833 +02:00 [DBG] Connection id "0HN6G0A2IAIL7", Request id "0HN6G0A2IAIL7:0000000F": started reading request body.
2024-09-08 14:35:40.836 +02:00 [DBG] Connection id "0HN6G0A2IAIL7", Request id "0HN6G0A2IAIL7:0000000F": done reading request body.
2024-09-08 14:35:40.839 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'
2024-09-08 14:35:40.842 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:35:40.847 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:35:40.851 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:35:40.856 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:35:40.885 +02:00 [INF] Assigning role for User: {"UserEmail":"str@test.com","RoleName":"RegulerUser","$type":"AssignUserRoleCommand"}
2024-09-08 14:35:40.997 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:35:41.005 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-08 14:35:41.019 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:35:41.028 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:35:41.031 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-08 14:35:41.033 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:35:41.035 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:35:41.038 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:35:41.041 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:35:41.044 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 14:35:41.048 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STR@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:35:41.056 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='STR@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:35:41.064 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:35:41.066 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:35:41.071 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:35:41.075 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 14:35:41.353 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API) in 539.256ms
2024-09-08 14:35:41.358 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:35:41.363 +02:00 [ERR] HTTP PATCH /api/v1/identity/userRole responded 500 in 587.7242 ms
TMS.Domain.Exceptions.NotFoundException: Entity "User" (str@test.com) was not found.
   at TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommandHandler.Handle(AssignUserRoleCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Users\Commands\AssignUserRoles\AssignUserRoleCommandHandler.cs:line 21
   at TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole(AssignUserRoleCommand command) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\IdentityController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-08 14:35:41.723 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:35:41.728 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:35:41.731 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 14:35:41.735 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - 500 null null 982.4968ms
2024-09-08 14:37:09.884 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-08 14:37:10.095 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-08 14:37:10.218 +02:00 [DBG] Hosting starting
2024-09-08 14:37:10.234 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-08 14:37:10.250 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-08 14:37:10.266 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-08 14:37:10.274 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 14:37:10.281 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-08 14:37:10.286 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 14:37:10.293 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-08 14:37:10.299 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-08 14:37:10.304 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-08 14:37:10.307 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-08 14:37:10.779 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-08 14:37:10.782 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-08 14:37:10.784 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-08 14:37:10.786 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-08 14:37:10.788 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-08 14:37:10.792 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-08 14:37:10.886 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-08 14:37:10.889 +02:00 [INF] Hosting environment: Development
2024-09-08 14:37:10.893 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-08 14:37:10.896 +02:00 [DBG] Hosting started
2024-09-08 14:37:25.511 +02:00 [DBG] Connection id "0HN6G0BV55723" accepted.
2024-09-08 14:37:25.515 +02:00 [DBG] Connection id "0HN6G0BV55723" started.
2024-09-08 14:37:25.582 +02:00 [DBG] Connection 0HN6G0BV55723 established using the following protocol: "Tls12"
2024-09-08 14:37:25.673 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-08 14:37:25.835 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-08 14:37:25.885 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-08 14:37:25.891 +02:00 [DBG] Request did not match any endpoints
2024-09-08 14:37:25.909 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:37:25.920 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:37:25.923 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:37:26.042 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-08 14:37:26.046 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-08 14:37:26.064 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 127.1200 ms
2024-09-08 14:37:26.071 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-08 14:37:26.076 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-08 14:37:26.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_vs/browserLink - null null
2024-09-08 14:37:26.090 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-08 14:37:26.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-08 14:37:26.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 416.8336ms
2024-09-08 14:37:26.127 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-08 14:37:26.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 66.2651ms
2024-09-08 14:37:26.156 +02:00 [DBG] Request did not match any endpoints
2024-09-08 14:37:26.170 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:37:26.175 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:37:26.177 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:37:26.185 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 4.7292 ms
2024-09-08 14:37:26.192 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 108.6039ms
2024-09-08 14:37:26.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.1926ms
2024-09-08 14:37:26.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-08 14:37:26.307 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-08 14:37:26.310 +02:00 [DBG] Request did not match any endpoints
2024-09-08 14:37:26.315 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:37:26.318 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:37:26.325 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:37:26.544 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 215.4085 ms
2024-09-08 14:37:26.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 262.0277ms
2024-09-08 14:37:51.229 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 123
2024-09-08 14:37:51.259 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-08 14:37:51.264 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 14:37:51.270 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 14:37:51.273 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 14:37:51.275 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 14:37:51.279 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:37:51.286 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 14:37:51.296 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:0000000B": started reading request body.
2024-09-08 14:37:51.302 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:0000000B": done reading request body.
2024-09-08 14:37:51.514 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-08 14:37:51.992 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:37:52.047 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:37:52.321 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:37:52.328 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 14:37:52.398 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-08 14:37:52.402 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-08 14:37:52.406 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-08 14:37:52.571 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-08 14:37:52.915 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:37:53.038 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-08 14:37:53.567 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:37:53.635 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:37:53.668 +02:00 [DBG] Created DbConnection. (29ms).
2024-09-08 14:37:53.677 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.054 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.062 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:37:54.076 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-09-08 14:37:54.093 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2024-09-08 14:37:54.109 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:37:54.209 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:37:54.311 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-08 14:37:54.384 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.398 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 171ms reading results.
2024-09-08 14:37:54.407 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.420 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (12ms).
2024-09-08 14:37:54.619 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-08 14:37:54.667 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 14:37:54.676 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.681 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.683 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:37:54.686 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:37:54.688 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:37:54.690 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 14:37:54.707 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 14:37:54.716 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.721 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-08 14:37:54.727 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.730 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:37:54.745 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-08 14:37:54.778 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 14:37:54.786 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.790 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.793 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:37:54.797 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-08 14:37:54.799 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 14:37:54.803 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 14:37:54.816 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 14:37:54.822 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.824 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:37:54.829 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.832 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:37:54.839 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-08 14:37:54.849 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:37:54.857 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.860 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.862 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:37:54.865 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:37:54.867 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 14:37:54.870 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:37:54.878 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:37:54.893 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-08 14:37:54.909 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.913 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-09-08 14:37:54.917 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.920 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 14:37:54.929 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-08 14:37:54.939 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 14:37:54.946 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.949 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.952 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:37:54.954 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:37:54.957 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:37:54.959 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 14:37:54.967 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 14:37:54.973 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.975 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:37:54.979 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:54.983 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-08 14:37:54.998 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-08 14:37:55.018 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 14:37:55.023 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3745.5325 ms
2024-09-08 14:37:55.040 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:37:55.050 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:37:55.056 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-08 14:37:55.060 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 3830.5937ms
2024-09-08 14:38:32.245 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - application/json 60
2024-09-08 14:38:32.259 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/userRole'
2024-09-08 14:38:32.264 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)' with route pattern 'api/v1/identity/userRole' is valid for the request path '/api/v1/identity/userRole'
2024-09-08 14:38:32.267 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:38:32.273 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 14:38:32.276 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 14:38:32.280 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:38:32.290 +02:00 [DBG] Authorization was successful.
2024-09-08 14:38:32.295 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:38:32.323 +02:00 [INF] Route matched with {action = "AssignUserRole", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignUserRole(TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand) on controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API).
2024-09-08 14:38:32.330 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 14:38:32.333 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 14:38:32.336 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 14:38:32.341 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 14:38:32.344 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 14:38:32.349 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:38:32.354 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:38:32.364 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:38:32.373 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' using the name '' in request data ...
2024-09-08 14:38:32.380 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 14:38:32.390 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:0000000D": started reading request body.
2024-09-08 14:38:32.393 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:0000000D": done reading request body.
2024-09-08 14:38:32.400 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'
2024-09-08 14:38:32.406 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:38:32.408 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:38:32.411 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:38:32.479 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:38:32.512 +02:00 [INF] Assigning role for User: {"UserEmail":"string@test.com","RoleName":"string","$type":"AssignUserRoleCommand"}
2024-09-08 14:38:32.608 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:38:32.617 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-08 14:38:32.630 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:38:32.638 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:38:32.640 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 14:38:32.643 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:38:32.648 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:38:32.650 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:38:32.652 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:38:32.654 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:38:32.657 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:38:32.665 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:38:32.675 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 14:38:32.679 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:38:32.682 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-08 14:38:32.685 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:38:32.687 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:38:32.696 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:38:32.700 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:38:32.702 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:38:32.704 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:38:32.708 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 14:38:32.710 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:38:32.715 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:38:32.720 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:38:32.725 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-08 14:38:32.730 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:38:32.733 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:38:32.922 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API) in 570.7133ms
2024-09-08 14:38:32.927 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:38:32.930 +02:00 [ERR] HTTP PATCH /api/v1/identity/userRole responded 500 in 650.5826 ms
TMS.Domain.Exceptions.NotFoundException: Entity "IdentityRole" (string) was not found.
   at TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommandHandler.Handle(AssignUserRoleCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Users\Commands\AssignUserRoles\AssignUserRoleCommandHandler.cs:line 28
   at TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole(AssignUserRoleCommand command) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\IdentityController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-08 14:38:33.255 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:38:33.258 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:38:33.262 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 14:38:33.266 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - 500 null null 1022.6137ms
2024-09-08 14:39:05.666 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - application/json 58
2024-09-08 14:39:05.673 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/userRole'
2024-09-08 14:39:05.675 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)' with route pattern 'api/v1/identity/userRole' is valid for the request path '/api/v1/identity/userRole'
2024-09-08 14:39:05.680 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:39:05.684 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 14:39:05.687 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 14:39:05.690 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:39:05.694 +02:00 [DBG] Authorization was successful.
2024-09-08 14:39:05.698 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:39:05.703 +02:00 [INF] Route matched with {action = "AssignUserRole", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignUserRole(TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand) on controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API).
2024-09-08 14:39:05.710 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 14:39:05.714 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 14:39:05.720 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 14:39:05.725 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 14:39:05.730 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 14:39:05.735 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:39:05.738 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:39:05.741 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:39:05.744 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' using the name '' in request data ...
2024-09-08 14:39:05.747 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 14:39:05.750 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:0000000F": started reading request body.
2024-09-08 14:39:05.752 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:0000000F": done reading request body.
2024-09-08 14:39:05.755 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'
2024-09-08 14:39:05.757 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:39:05.760 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:39:05.763 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:39:05.768 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:39:05.776 +02:00 [INF] Assigning role for User: {"UserEmail":"string@test.com","RoleName":"user","$type":"AssignUserRoleCommand"}
2024-09-08 14:39:05.799 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:39:05.806 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:39:05.807 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 14:39:05.809 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:05.812 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:05.816 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:39:05.818 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:39:05.823 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-08 14:39:05.825 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:39:05.833 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:39:05.841 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 14:39:05.844 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:05.847 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-08 14:39:05.851 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:05.853 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:39:05.856 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:05.858 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:05.860 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:39:05.863 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:39:05.866 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 14:39:05.869 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:39:05.874 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:39:05.879 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:05.882 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-08 14:39:05.885 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:05.888 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:39:06.004 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API) in 269.1485ms
2024-09-08 14:39:06.008 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:39:06.011 +02:00 [ERR] HTTP PATCH /api/v1/identity/userRole responded 500 in 321.3822 ms
TMS.Domain.Exceptions.NotFoundException: Entity "IdentityRole" (user) was not found.
   at TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommandHandler.Handle(AssignUserRoleCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Users\Commands\AssignUserRoles\AssignUserRoleCommandHandler.cs:line 28
   at TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole(AssignUserRoleCommand command) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\IdentityController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-08 14:39:06.264 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:39:06.267 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:06.271 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 14:39:06.274 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - 500 null null 608.4171ms
2024-09-08 14:39:26.066 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - application/json 65
2024-09-08 14:39:26.072 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/userRole'
2024-09-08 14:39:26.075 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)' with route pattern 'api/v1/identity/userRole' is valid for the request path '/api/v1/identity/userRole'
2024-09-08 14:39:26.079 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:39:26.082 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 14:39:26.085 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 14:39:26.089 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:39:26.095 +02:00 [DBG] Authorization was successful.
2024-09-08 14:39:26.099 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:39:26.102 +02:00 [INF] Route matched with {action = "AssignUserRole", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignUserRole(TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand) on controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API).
2024-09-08 14:39:26.106 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 14:39:26.111 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 14:39:26.115 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 14:39:26.120 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 14:39:26.124 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 14:39:26.130 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:39:26.134 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:39:26.138 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:39:26.141 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' using the name '' in request data ...
2024-09-08 14:39:26.145 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 14:39:26.149 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:00000011": started reading request body.
2024-09-08 14:39:26.151 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:00000011": done reading request body.
2024-09-08 14:39:26.155 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'
2024-09-08 14:39:26.158 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:39:26.163 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:39:26.166 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:39:26.172 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:39:26.195 +02:00 [INF] Assigning role for User: {"UserEmail":"string@test.com","RoleName":"regularuser","$type":"AssignUserRoleCommand"}
2024-09-08 14:39:26.204 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:39:26.211 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:39:26.214 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-08 14:39:26.216 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.218 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.221 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:39:26.223 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:39:26.226 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 14:39:26.229 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:39:26.235 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:39:26.243 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 14:39:26.246 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.248 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 14:39:26.251 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.254 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:39:26.257 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.260 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.262 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:39:26.264 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:39:26.267 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:39:26.269 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:39:26.275 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:39:26.280 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-08 14:39:26.283 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.286 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 14:39:26.289 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.292 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 14:39:26.301 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-09-08 14:39:26.310 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:39:26.315 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.318 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.320 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:39:26.322 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:39:26.325 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:39:26.328 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-08 14:39:26.336 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-08 14:39:26.341 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.344 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-08 14:39:26.347 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.350 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:39:26.376 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-09-08 14:39:26.436 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM TMS.AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 14:39:26.450 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.454 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.456 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:39:26.459 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:39:26.465 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-08 14:39:26.468 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450), @__p_1='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [TMS].[AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-09-08 14:39:26.474 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450), @__p_1='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [TMS].[AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-09-08 14:39:26.479 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.482 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:39:26.485 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.487 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:39:26.495 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.499 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.501 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:39:26.503 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:39:26.506 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:39:26.509 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-08 14:39:26.515 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-08 14:39:26.520 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.522 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:39:26.527 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.529 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:39:26.565 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityUserRole' entity with key '{UserId: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed, RoleId: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-08 14:39:26.577 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.581 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.584 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:39:26.586 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:39:26.589 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 14:39:26.592 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:39:26.598 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:39:26.605 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.607 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:39:26.611 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.613 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:39:26.632 +02:00 [DBG] The 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-08 14:39:26.644 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-08 14:39:26.652 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-08 14:39:26.676 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-08 14:39:26.831 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-08 14:39:26.839 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.845 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.851 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-08 14:39:26.866 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-08 14:39:26.876 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:39:26.881 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:39:26.885 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-08 14:39:26.889 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Nullable = false) (Size = 450), @p1='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Nullable = false) (Size = 450), @p18='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Nullable = false) (Size = 450), @p2='0', @p3='fb765a8f-e011-4cfa-97f9-b01112da96f0' (Size = 4000), @p19='671b0e0c-0020-4b39-b9fe-afd69ce1a442' (Size = 4000), @p4='string@test.com' (Size = 256), @p5='False', @p6='test' (Nullable = false) (Size = 4000), @p7='test' (Nullable = false) (Size = 4000), @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='STRING@TEST.COM' (Size = 256), @p11='STRING@TEST.COM' (Size = 256), @p12='AQAAAAIAAYagAAAAEPsj/1fpRTvLu/6wkeC/fNAKRSSwjTR8T0SgojlOa2CAme36y5HdBNpNOr6dIA2dSA==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='A77OALE7IH2FR4HSJHMBQHYATP23MPEZ' (Size = 4000), @p16='False', @p17='string@test.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [TMS].[AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [TMS].[AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-09-08 14:39:26.904 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Nullable = false) (Size = 450), @p1='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Nullable = false) (Size = 450), @p18='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Nullable = false) (Size = 450), @p2='0', @p3='fb765a8f-e011-4cfa-97f9-b01112da96f0' (Size = 4000), @p19='671b0e0c-0020-4b39-b9fe-afd69ce1a442' (Size = 4000), @p4='string@test.com' (Size = 256), @p5='False', @p6='test' (Nullable = false) (Size = 4000), @p7='test' (Nullable = false) (Size = 4000), @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='STRING@TEST.COM' (Size = 256), @p11='STRING@TEST.COM' (Size = 256), @p12='AQAAAAIAAYagAAAAEPsj/1fpRTvLu/6wkeC/fNAKRSSwjTR8T0SgojlOa2CAme36y5HdBNpNOr6dIA2dSA==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='A77OALE7IH2FR4HSJHMBQHYATP23MPEZ' (Size = 4000), @p16='False', @p17='string@test.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [TMS].[AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [TMS].[AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-09-08 14:39:26.921 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.926 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 13ms reading results.
2024-09-08 14:39:26.944 +02:00 [DBG] Committing transaction.
2024-09-08 14:39:26.957 +02:00 [DBG] Committed transaction.
2024-09-08 14:39:26.963 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:26.967 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 14:39:26.972 +02:00 [DBG] Disposing transaction.
2024-09-08 14:39:26.978 +02:00 [DBG] The 'IdentityUserRole' entity with key '{UserId: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed, RoleId: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}' tracked by 'TMSDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-09-08 14:39:26.985 +02:00 [DBG] The 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}' tracked by 'TMSDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-09-08 14:39:26.991 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 2 entities written to the database.
2024-09-08 14:39:27.000 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-09-08 14:39:27.004 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API) in 874.3332ms
2024-09-08 14:39:27.007 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:39:27.010 +02:00 [INF] HTTP PATCH /api/v1/identity/userRole responded 204 in 921.4231 ms
2024-09-08 14:39:27.014 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:39:27.016 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:39:27.020 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 14:39:27.023 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - 204 null null 957.339ms
2024-09-08 14:43:26.015 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - application/json 62
2024-09-08 14:43:26.027 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/userRole'
2024-09-08 14:43:26.029 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)' with route pattern 'api/v1/identity/userRole' is valid for the request path '/api/v1/identity/userRole'
2024-09-08 14:43:26.032 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:43:26.036 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 14:43:26.038 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 14:43:26.042 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:43:26.044 +02:00 [DBG] Authorization was successful.
2024-09-08 14:43:26.046 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:43:26.049 +02:00 [INF] Route matched with {action = "AssignUserRole", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignUserRole(TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand) on controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API).
2024-09-08 14:43:26.054 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 14:43:26.057 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 14:43:26.060 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 14:43:26.064 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 14:43:26.067 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 14:43:26.071 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:43:26.074 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:43:26.079 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:43:26.083 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' using the name '' in request data ...
2024-09-08 14:43:26.089 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 14:43:26.098 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:00000013": started reading request body.
2024-09-08 14:43:26.102 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:00000013": done reading request body.
2024-09-08 14:43:26.106 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'
2024-09-08 14:43:26.108 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:43:26.110 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:43:26.113 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:43:26.116 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:43:26.120 +02:00 [INF] Assigning role for User: {"UserEmail":"string@test.com","RoleName":"teamLEAd","$type":"AssignUserRoleCommand"}
2024-09-08 14:43:26.128 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:43:26.132 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:43:26.134 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 14:43:26.136 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.140 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.142 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:43:26.144 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:43:26.146 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:43:26.148 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:43:26.160 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:43:26.166 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 14:43:26.170 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.172 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-08 14:43:26.175 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.178 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:43:26.181 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.183 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.186 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:43:26.188 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:43:26.191 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:43:26.193 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:43:26.201 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:43:26.207 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-08 14:43:26.210 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.213 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-08 14:43:26.217 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.222 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (5ms).
2024-09-08 14:43:26.225 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.227 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.230 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:43:26.232 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:43:26.236 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 14:43:26.238 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-08 14:43:26.246 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-08 14:43:26.254 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.256 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:43:26.259 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.262 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:43:26.267 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.270 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.272 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:43:26.274 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:43:26.277 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:43:26.279 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450), @__p_1='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [TMS].[AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-09-08 14:43:26.286 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450), @__p_1='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [TMS].[AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-09-08 14:43:26.292 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.295 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-08 14:43:26.299 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.302 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 14:43:26.307 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.310 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.314 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:43:26.316 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:43:26.322 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-08 14:43:26.327 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-08 14:43:26.333 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-08 14:43:26.347 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.350 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-08 14:43:26.354 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.356 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:43:26.360 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityUserRole' entity with key '{UserId: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed, RoleId: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-08 14:43:26.363 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.366 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.369 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:43:26.371 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:43:26.374 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:43:26.376 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:43:26.385 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 14:43:26.392 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.394 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:43:26.397 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.400 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:43:26.404 +02:00 [DBG] The 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-08 14:43:26.408 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-08 14:43:26.410 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-08 14:43:26.412 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-08 14:43:26.415 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-08 14:43:26.417 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.422 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.424 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-08 14:43:26.426 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-08 14:43:26.428 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:43:26.430 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:43:26.432 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:43:26.435 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='6dc6018a-ee55-480c-9c99-440a27c43219' (Nullable = false) (Size = 450), @p1='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Nullable = false) (Size = 450), @p18='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Nullable = false) (Size = 450), @p2='0', @p3='2ea1b830-0d01-4a4f-aea4-c88b6a9bd4ae' (Size = 4000), @p19='fb765a8f-e011-4cfa-97f9-b01112da96f0' (Size = 4000), @p4='string@test.com' (Size = 256), @p5='False', @p6='test' (Nullable = false) (Size = 4000), @p7='test' (Nullable = false) (Size = 4000), @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='STRING@TEST.COM' (Size = 256), @p11='STRING@TEST.COM' (Size = 256), @p12='AQAAAAIAAYagAAAAEPsj/1fpRTvLu/6wkeC/fNAKRSSwjTR8T0SgojlOa2CAme36y5HdBNpNOr6dIA2dSA==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='A77OALE7IH2FR4HSJHMBQHYATP23MPEZ' (Size = 4000), @p16='False', @p17='string@test.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [TMS].[AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [TMS].[AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-09-08 14:43:26.454 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='6dc6018a-ee55-480c-9c99-440a27c43219' (Nullable = false) (Size = 450), @p1='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Nullable = false) (Size = 450), @p18='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Nullable = false) (Size = 450), @p2='0', @p3='2ea1b830-0d01-4a4f-aea4-c88b6a9bd4ae' (Size = 4000), @p19='fb765a8f-e011-4cfa-97f9-b01112da96f0' (Size = 4000), @p4='string@test.com' (Size = 256), @p5='False', @p6='test' (Nullable = false) (Size = 4000), @p7='test' (Nullable = false) (Size = 4000), @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='STRING@TEST.COM' (Size = 256), @p11='STRING@TEST.COM' (Size = 256), @p12='AQAAAAIAAYagAAAAEPsj/1fpRTvLu/6wkeC/fNAKRSSwjTR8T0SgojlOa2CAme36y5HdBNpNOr6dIA2dSA==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='A77OALE7IH2FR4HSJHMBQHYATP23MPEZ' (Size = 4000), @p16='False', @p17='string@test.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [TMS].[AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [TMS].[AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-09-08 14:43:26.461 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.463 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:43:26.466 +02:00 [DBG] Committing transaction.
2024-09-08 14:43:26.471 +02:00 [DBG] Committed transaction.
2024-09-08 14:43:26.472 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.474 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:43:26.477 +02:00 [DBG] Disposing transaction.
2024-09-08 14:43:26.479 +02:00 [DBG] The 'IdentityUserRole' entity with key '{UserId: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed, RoleId: 6dc6018a-ee55-480c-9c99-440a27c43219}' tracked by 'TMSDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-09-08 14:43:26.483 +02:00 [DBG] The 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}' tracked by 'TMSDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-09-08 14:43:26.488 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 2 entities written to the database.
2024-09-08 14:43:26.491 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-09-08 14:43:26.493 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API) in 421.5945ms
2024-09-08 14:43:26.495 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:43:26.498 +02:00 [INF] HTTP PATCH /api/v1/identity/userRole responded 204 in 456.2056 ms
2024-09-08 14:43:26.503 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:43:26.506 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:43:26.511 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-08 14:43:26.514 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - 204 null null 499.3108ms
2024-09-08 14:47:24.738 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - application/json 63
2024-09-08 14:47:24.757 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/userRole'
2024-09-08 14:47:24.760 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)' with route pattern 'api/v1/identity/userRole' is valid for the request path '/api/v1/identity/userRole'
2024-09-08 14:47:24.765 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:47:24.771 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 14:47:24.774 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 14:47:24.777 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 14:47:24.780 +02:00 [DBG] Authorization was successful.
2024-09-08 14:47:24.783 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:47:24.787 +02:00 [INF] Route matched with {action = "AssignUserRole", controller = "Identity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignUserRole(TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand) on controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API).
2024-09-08 14:47:24.793 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 14:47:24.797 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 14:47:24.801 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 14:47:24.805 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 14:47:24.808 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 14:47:24.812 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:47:24.815 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.IdentityController (TaskManagementSystem.API)
2024-09-08 14:47:24.818 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:47:24.821 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' using the name '' in request data ...
2024-09-08 14:47:24.824 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 14:47:24.827 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:00000015": started reading request body.
2024-09-08 14:47:24.831 +02:00 [DBG] Connection id "0HN6G0BV55723", Request id "0HN6G0BV55723:00000015": done reading request body.
2024-09-08 14:47:24.833 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'
2024-09-08 14:47:24.836 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:47:24.838 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:47:24.841 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand' ...
2024-09-08 14:47:24.845 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommand'.
2024-09-08 14:47:24.849 +02:00 [INF] Assigning role for User: {"UserEmail":"string@test.com","RoleName":"teamLEAdd","$type":"AssignUserRoleCommand"}
2024-09-08 14:47:24.855 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 14:47:24.859 +02:00 [DBG] Creating DbConnection.
2024-09-08 14:47:24.861 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 14:47:24.863 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:47:24.883 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:47:24.888 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:47:24.890 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 14:47:24.893 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:47:24.896 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:47:24.906 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-08 14:47:24.912 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 14:47:24.915 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:47:24.918 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 14:47:24.921 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:47:24.923 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:47:24.927 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:47:24.930 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:47:24.932 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 14:47:24.934 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 14:47:24.936 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 14:47:24.939 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:47:24.948 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='TEAMLEADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 14:47:24.952 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:47:24.955 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 14:47:24.958 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:47:24.961 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 14:47:25.107 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API) in 294.8985ms
2024-09-08 14:47:25.111 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole (TaskManagementSystem.API)'
2024-09-08 14:47:25.114 +02:00 [ERR] HTTP PATCH /api/v1/identity/userRole responded 500 in 337.1969 ms
TMS.Domain.Exceptions.NotFoundException: Entity "IdentityRole" (teamLEAdd) was not found.
   at TMS.Application.Users.Commands.AssignUserRoles.AssignUserRoleCommandHandler.Handle(AssignUserRoleCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Users\Commands\AssignUserRoles\AssignUserRoleCommandHandler.cs:line 28
   at TaskManagementSystem.API.Controllers.IdentityController.AssignUserRole(AssignUserRoleCommand command) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\IdentityController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-08 14:47:25.406 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 14:47:25.409 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 14:47:25.412 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 14:47:25.416 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7123/api/v1/identity/userRole - 500 null null 678.8864ms
2024-09-08 19:00:08.125 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-08 19:00:08.323 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-08 19:00:08.441 +02:00 [DBG] Hosting starting
2024-09-08 19:00:08.456 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-08 19:00:08.473 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-08 19:00:08.489 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-08 19:00:08.496 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 19:00:08.502 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-08 19:00:08.506 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 19:00:08.512 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-08 19:00:08.518 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-08 19:00:08.522 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-08 19:00:08.525 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-08 19:00:08.881 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-08 19:00:08.884 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-08 19:00:08.887 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-08 19:00:08.888 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-08 19:00:08.890 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-08 19:00:08.893 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-08 19:00:08.978 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-08 19:00:08.981 +02:00 [INF] Hosting environment: Development
2024-09-08 19:00:08.984 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-08 19:00:08.989 +02:00 [DBG] Hosting started
2024-09-08 19:00:14.268 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ" accepted.
2024-09-08 19:00:14.273 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ" started.
2024-09-08 19:00:14.342 +02:00 [DBG] Connection 0HN6G4UQJO0HQ established using the following protocol: "Tls12"
2024-09-08 19:00:14.456 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-08 19:00:14.629 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-08 19:00:14.687 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-08 19:00:14.690 +02:00 [DBG] Request did not match any endpoints
2024-09-08 19:00:14.705 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:00:14.716 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:00:14.720 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:00:14.828 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-08 19:00:14.833 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-08 19:00:14.848 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 120.5770 ms
2024-09-08 19:00:14.854 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-08 19:00:14.858 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-08 19:00:14.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 415.584ms
2024-09-08 19:00:14.935 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/swagger-ui.css - null null
2024-09-08 19:00:14.936 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.css - null null
2024-09-08 19:00:14.938 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/swagger-ui-standalone-preset.js - null null
2024-09-08 19:00:14.938 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/swagger-ui-bundle.js - null null
2024-09-08 19:00:14.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-08 19:00:14.949 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-08 19:00:14.958 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_vs/browserLink - null null
2024-09-08 19:00:14.972 +02:00 [DBG] No candidates found for the request path '/swagger/index.css'
2024-09-08 19:00:14.977 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-09-08 19:00:15.015 +02:00 [DBG] Request did not match any endpoints
2024-09-08 19:00:14.965 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-09-08 19:00:15.018 +02:00 [DBG] Request did not match any endpoints
2024-09-08 19:00:15.024 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:00:15.024 +02:00 [DBG] Request did not match any endpoints
2024-09-08 19:00:15.036 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:00:15.037 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:00:15.038 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:00:14.983 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-09-08 19:00:14.995 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-08 19:00:15.019 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 82.3535ms
2024-09-08 19:00:15.043 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:00:15.046 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:00:15.048 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:00:15.051 +02:00 [DBG] Request did not match any endpoints
2024-09-08 19:00:15.054 +02:00 [DBG] Request did not match any endpoints
2024-09-08 19:00:15.068 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:00:15.072 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:00:15.075 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:00:15.079 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:00:15.085 +02:00 [INF] The file /index.css was not modified
2024-09-08 19:00:15.085 +02:00 [INF] The file /swagger-ui.css was not modified
2024-09-08 19:00:15.087 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:00:15.089 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:00:15.101 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:00:15.104 +02:00 [DBG] Handled. Status code: 304 File: /index.css
2024-09-08 19:00:15.104 +02:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2024-09-08 19:00:15.104 +02:00 [DBG] Handled. Status code: 304 File: /swagger-ui.css
2024-09-08 19:00:15.104 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:00:15.108 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_vs/browserLink - 200 null text/javascript; charset=UTF-8 149.9654ms
2024-09-08 19:00:15.112 +02:00 [INF] HTTP GET /swagger/index.css responded 304 in 42.1245 ms
2024-09-08 19:00:15.113 +02:00 [DBG] Handled. Status code: 304 File: /swagger-ui-standalone-preset.js
2024-09-08 19:00:15.115 +02:00 [INF] The file /swagger-ui-bundle.js was not modified
2024-09-08 19:00:15.116 +02:00 [INF] HTTP GET /swagger/swagger-ui.css responded 304 in 31.8953 ms
2024-09-08 19:00:15.120 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 0.9457 ms
2024-09-08 19:00:15.133 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.css - 304 null text/css 196.7346ms
2024-09-08 19:00:15.135 +02:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 304 in 53.5756 ms
2024-09-08 19:00:15.137 +02:00 [DBG] Handled. Status code: 304 File: /swagger-ui-bundle.js
2024-09-08 19:00:15.143 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/swagger-ui.css - 304 null text/css 208.8601ms
2024-09-08 19:00:15.148 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 199.4782ms
2024-09-08 19:00:15.159 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 221.6182ms
2024-09-08 19:00:15.162 +02:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 304 in 54.7289 ms
2024-09-08 19:00:15.187 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/swagger-ui-bundle.js - 304 null text/javascript 249.6096ms
2024-09-08 19:00:15.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-08 19:00:15.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/favicon-32x32.png - null null
2024-09-08 19:00:15.647 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-08 19:00:15.653 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-09-08 19:00:15.655 +02:00 [DBG] Request did not match any endpoints
2024-09-08 19:00:15.658 +02:00 [DBG] Request did not match any endpoints
2024-09-08 19:00:15.660 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:00:15.662 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:00:15.665 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:00:15.667 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:00:15.670 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:00:15.672 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:00:15.677 +02:00 [INF] The file /favicon-32x32.png was not modified
2024-09-08 19:00:15.681 +02:00 [DBG] Handled. Status code: 304 File: /favicon-32x32.png
2024-09-08 19:00:15.684 +02:00 [INF] HTTP GET /swagger/favicon-32x32.png responded 304 in 6.5170 ms
2024-09-08 19:00:15.689 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/favicon-32x32.png - 304 null image/png 51.7736ms
2024-09-08 19:00:15.900 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 225.7994 ms
2024-09-08 19:00:15.910 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 273.815ms
2024-09-08 19:00:29.967 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/tasks - application/json 128
2024-09-08 19:00:29.979 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 19:00:29.986 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 19:00:29.993 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:00:29.998 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:00:30.001 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:00:30.003 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:00:30.008 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 19:00:30.015 +02:00 [DBG] Policy authentication schemes  did not succeed
2024-09-08 19:00:30.024 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-08 19:00:30.032 +02:00 [INF] AuthenticationScheme: Identity.Bearer was challenged.
2024-09-08 19:00:30.036 +02:00 [INF] HTTP POST /api/v1/tasks responded 401 in 29.0590 ms
2024-09-08 19:00:30.042 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/tasks - 401 0 null 75.3311ms
2024-09-08 19:00:30.050 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:00000015": started reading request body.
2024-09-08 19:00:30.052 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:00000015": done reading request body.
2024-09-08 19:01:37.593 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 121
2024-09-08 19:01:37.610 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-08 19:01:37.612 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 19:01:37.614 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 19:01:37.617 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 19:01:37.619 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 19:01:37.622 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 19:01:37.626 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 19:01:37.634 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:00000017": started reading request body.
2024-09-08 19:01:37.639 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:00000017": done reading request body.
2024-09-08 19:01:37.855 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-08 19:01:38.322 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 19:01:38.385 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 19:01:38.649 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 19:01:38.659 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 19:01:38.717 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-08 19:01:38.722 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-08 19:01:38.726 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-08 19:01:38.882 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-08 19:01:39.172 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 19:01:39.298 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-08 19:01:39.600 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 19:01:39.674 +02:00 [DBG] Creating DbConnection.
2024-09-08 19:01:39.707 +02:00 [DBG] Created DbConnection. (29ms).
2024-09-08 19:01:39.715 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.103 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.113 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 19:01:40.125 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-08 19:01:40.141 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-09-08 19:01:40.157 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='DUM@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 19:01:40.249 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedUserName_0='DUM@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 19:01:40.360 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 5afaf33a-55ea-48b9-9124-76b2074d066e}'.
2024-09-08 19:01:40.429 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.443 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 173ms reading results.
2024-09-08 19:01:40.452 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.463 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (11ms).
2024-09-08 19:01:40.658 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-08 19:01:40.704 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 19:01:40.711 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.714 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.717 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 19:01:40.719 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 19:01:40.723 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 19:01:40.726 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='5afaf33a-55ea-48b9-9124-76b2074d066e' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 19:01:40.737 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='5afaf33a-55ea-48b9-9124-76b2074d066e' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 19:01:40.751 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.756 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-08 19:01:40.762 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.764 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 19:01:40.779 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-08 19:01:40.805 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 19:01:40.812 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.814 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.816 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 19:01:40.819 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 19:01:40.822 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 19:01:40.825 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='5afaf33a-55ea-48b9-9124-76b2074d066e' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 19:01:40.834 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='5afaf33a-55ea-48b9-9124-76b2074d066e' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 19:01:40.841 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.843 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 19:01:40.846 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.849 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 19:01:40.859 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-08 19:01:40.868 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 19:01:40.876 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.878 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.881 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 19:01:40.883 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 19:01:40.886 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 19:01:40.889 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 19:01:40.896 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 19:01:40.912 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-08 19:01:40.927 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.932 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-09-08 19:01:40.937 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.941 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 19:01:40.950 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-08 19:01:40.958 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 19:01:40.966 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.970 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.973 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 19:01:40.975 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 19:01:40.978 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 19:01:40.980 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 19:01:40.988 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 19:01:40.994 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:40.996 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 19:01:41.000 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:41.003 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 19:01:41.017 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-08 19:01:41.034 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 19:01:41.041 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3418.5293 ms
2024-09-08 19:01:41.048 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 19:01:41.057 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:01:41.062 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-08 19:01:41.066 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 3473.8528ms
2024-09-08 19:02:38.073 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/tasks - application/json 122
2024-09-08 19:02:38.087 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 19:02:38.090 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 19:02:38.094 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:02:38.102 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 19:02:38.107 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 19:02:38.111 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 19:02:38.118 +02:00 [DBG] Authorization was successful.
2024-09-08 19:02:38.121 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:02:38.161 +02:00 [INF] Route matched with {action = "CreateTask", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTask(TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 19:02:38.168 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 19:02:38.171 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 19:02:38.175 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 19:02:38.180 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 19:02:38.183 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 19:02:38.191 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 19:02:38.196 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 19:02:38.203 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' ...
2024-09-08 19:02:38.211 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' using the name '' in request data ...
2024-09-08 19:02:38.216 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 19:02:38.229 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:00000019": started reading request body.
2024-09-08 19:02:38.233 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:00000019": done reading request body.
2024-09-08 19:02:38.244 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'
2024-09-08 19:02:38.247 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-08 19:02:38.250 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-08 19:02:38.253 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' ...
2024-09-08 19:02:38.418 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-08 19:02:38.424 +02:00 [DBG] The request has model state errors, returning an error response.
2024-09-08 19:02:38.428 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-09-08 19:02:38.434 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 19:02:38.443 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-08 19:02:38.445 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-08 19:02:38.452 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-08 19:02:38.454 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-09-08 19:02:38.500 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API) in 297.3684ms
2024-09-08 19:02:38.503 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:02:38.506 +02:00 [INF] HTTP POST /api/v1/tasks responded 400 in 394.5339 ms
2024-09-08 19:02:38.510 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/tasks - 400 null application/problem+json; charset=utf-8 438.0443ms
2024-09-08 19:02:52.337 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/tasks - application/json 123
2024-09-08 19:02:52.344 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 19:02:52.347 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 19:02:52.351 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:02:52.354 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 19:02:52.356 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 19:02:52.359 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 19:02:52.362 +02:00 [DBG] Authorization was successful.
2024-09-08 19:02:52.364 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:02:52.369 +02:00 [INF] Route matched with {action = "CreateTask", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTask(TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 19:02:52.374 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 19:02:52.377 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 19:02:52.380 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 19:02:52.388 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 19:02:52.393 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 19:02:52.397 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 19:02:52.401 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 19:02:52.407 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' ...
2024-09-08 19:02:52.412 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' using the name '' in request data ...
2024-09-08 19:02:52.415 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 19:02:52.418 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:0000001B": started reading request body.
2024-09-08 19:02:52.421 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:0000001B": done reading request body.
2024-09-08 19:02:52.434 +02:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.DateTime. Path: $.dueDate | LineNumber: 3 | BytePositionInLine: 40.
2024-09-08 19:02:52.438 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-08 19:02:52.442 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-08 19:02:52.445 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' ...
2024-09-08 19:02:52.450 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-08 19:02:52.456 +02:00 [DBG] The request has model state errors, returning an error response.
2024-09-08 19:02:52.458 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-09-08 19:02:52.461 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 19:02:52.466 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-08 19:02:52.467 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-08 19:02:52.473 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-08 19:02:52.476 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-09-08 19:02:52.479 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API) in 81.8754ms
2024-09-08 19:02:52.482 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:02:52.484 +02:00 [INF] HTTP POST /api/v1/tasks responded 400 in 125.7682 ms
2024-09-08 19:02:52.489 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/tasks - 400 null application/problem+json; charset=utf-8 151.8626ms
2024-09-08 19:03:21.774 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/tasks - application/json 122
2024-09-08 19:03:21.810 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 19:03:21.814 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 19:03:21.820 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:03:21.823 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 19:03:21.825 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 19:03:21.827 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 19:03:21.828 +02:00 [DBG] Authorization was successful.
2024-09-08 19:03:21.832 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:03:21.835 +02:00 [INF] Route matched with {action = "CreateTask", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTask(TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 19:03:21.838 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 19:03:21.842 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 19:03:21.845 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 19:03:21.852 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 19:03:21.857 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 19:03:21.862 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 19:03:21.868 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 19:03:21.872 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' ...
2024-09-08 19:03:21.877 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' using the name '' in request data ...
2024-09-08 19:03:21.880 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-08 19:03:21.883 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:0000001D": started reading request body.
2024-09-08 19:03:21.885 +02:00 [DBG] Connection id "0HN6G4UQJO0HQ", Request id "0HN6G4UQJO0HQ:0000001D": done reading request body.
2024-09-08 19:03:21.888 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'
2024-09-08 19:03:21.891 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-08 19:03:21.893 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-08 19:03:21.896 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' ...
2024-09-08 19:03:21.901 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-08 19:03:21.920 +02:00 [INF] dum@test.com with Id 5afaf33a-55ea-48b9-9124-76b2074d066e Creating new task {"Title":"lsn","Description":"frs","DueDate":"2024-10-08T17:00:25.9090000Z","Status":1,"PriorityLevel":2,"$type":"CreateTaskCommand"}
2024-09-08 19:03:22.023 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 19:03:22.075 +02:00 [DBG] 'TMSDbContext' generated temporary value '-2147482647' for the property 'TaskItem.TaskId'.
2024-09-08 19:03:22.242 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: -2147482647}'.
2024-09-08 19:03:22.253 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-08 19:03:22.260 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-08 19:03:22.290 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-08 19:03:22.438 +02:00 [DBG] Creating DbConnection.
2024-09-08 19:03:22.441 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-08 19:03:22.443 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:03:22.446 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:03:22.454 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 19:03:22.457 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-08 19:03:22.467 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-08 19:03:22.472 +02:00 [DBG] Executing DbCommand [Parameters=[@p0=NULL (DbType = Int32), @p1=NULL (Size = 450), @p2='5afaf33a-55ea-48b9-9124-76b2074d066e' (Nullable = false) (Size = 450), @p3='frs' (Size = 4000), @p4='2024-10-08T17:00:25.9090000Z', @p5='2', @p6='1', @p7='lsn' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TMS].[Tasks] ([AssignedToTeamId], [AssignedToUserId], [CreatedByUserId], [Description], [DueDate], [PriorityLevel], [Status], [Title])
OUTPUT INSERTED.[TaskId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-09-08 19:03:22.506 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0=NULL (DbType = Int32), @p1=NULL (Size = 450), @p2='5afaf33a-55ea-48b9-9124-76b2074d066e' (Nullable = false) (Size = 450), @p3='frs' (Size = 4000), @p4='2024-10-08T17:00:25.9090000Z', @p5='2', @p6='1', @p7='lsn' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TMS].[Tasks] ([AssignedToTeamId], [AssignedToUserId], [CreatedByUserId], [Description], [DueDate], [PriorityLevel], [Status], [Title])
OUTPUT INSERTED.[TaskId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-09-08 19:03:22.539 +02:00 [DBG] The foreign key property 'TaskItem.TaskId' was detected as changed from '-2147482647' to '11' for entity with key '{TaskId: 11}'.
2024-09-08 19:03:22.561 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:03:22.567 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 47ms reading results.
2024-09-08 19:03:22.572 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:03:22.575 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 19:03:22.595 +02:00 [DBG] The 'TaskItem' entity with key '{TaskId: 11}' tracked by 'TMSDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-09-08 19:03:22.606 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 1 entities written to the database.
2024-09-08 19:03:22.617 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 19:03:22.624 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-08 19:03:22.625 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 19:03:22.627 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 19:03:22.629 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-09-08 19:03:22.633 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'null'.
2024-09-08 19:03:22.661 +02:00 [DBG] Found the endpoints ["TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)"] for address (TaskId=[11],action=[GetTaskDetails],controller=[Tasks])
2024-09-08 19:03:22.671 +02:00 [DBG] Successfully processed template api/v1/tasks/{taskId} for TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) resulting in /api/v1/tasks/11 and 
2024-09-08 19:03:22.677 +02:00 [DBG] Link generation succeeded for endpoints ["TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)"] with result /api/v1/tasks/11
2024-09-08 19:03:22.686 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API) in 823.3847ms
2024-09-08 19:03:22.688 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 19:03:22.691 +02:00 [INF] HTTP POST /api/v1/tasks responded 201 in 864.2168 ms
2024-09-08 19:03:22.695 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 19:03:22.701 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 19:03:22.703 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-08 19:03:22.707 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/tasks - 201 0 null 934.0194ms
2024-09-08 20:09:20.329 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-08 20:09:20.442 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-08 20:09:20.526 +02:00 [DBG] Hosting starting
2024-09-08 20:09:20.538 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-08 20:09:20.552 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-08 20:09:20.568 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-08 20:09:20.577 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 20:09:20.582 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-08 20:09:20.586 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 20:09:20.592 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-08 20:09:20.596 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-08 20:09:20.600 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-08 20:09:20.603 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-08 20:09:20.789 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-08 20:09:20.793 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-08 20:09:20.796 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-08 20:09:20.799 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-08 20:09:20.801 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-08 20:09:20.803 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-08 20:09:20.873 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-08 20:09:20.877 +02:00 [INF] Hosting environment: Development
2024-09-08 20:09:20.882 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-08 20:09:20.884 +02:00 [DBG] Hosting started
2024-09-08 21:39:16.977 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-08 21:39:17.181 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-08 21:39:17.307 +02:00 [DBG] Hosting starting
2024-09-08 21:39:17.322 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-08 21:39:17.338 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-08 21:39:17.355 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-08 21:39:17.363 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 21:39:17.368 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-08 21:39:17.372 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 21:39:17.378 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-08 21:39:17.383 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-08 21:39:17.387 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-08 21:39:17.390 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-08 21:39:17.743 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-08 21:39:17.748 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-08 21:39:17.754 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-08 21:39:17.757 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-08 21:39:17.760 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-08 21:39:17.762 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-08 21:39:17.845 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-08 21:39:17.849 +02:00 [INF] Hosting environment: Development
2024-09-08 21:39:17.851 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-08 21:39:17.853 +02:00 [DBG] Hosting started
2024-09-08 21:39:45.920 +02:00 [DBG] Connection id "0HN6G7NV64CCJ" accepted.
2024-09-08 21:39:45.927 +02:00 [DBG] Connection id "0HN6G7NV64CCJ" started.
2024-09-08 21:39:46.025 +02:00 [DBG] Connection 0HN6G7NV64CCJ established using the following protocol: "Tls12"
2024-09-08 21:39:46.112 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-08 21:39:46.284 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-08 21:39:46.331 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-08 21:39:46.336 +02:00 [DBG] Request did not match any endpoints
2024-09-08 21:39:46.351 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:39:46.361 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:39:46.366 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:39:46.472 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-08 21:39:46.478 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-08 21:39:46.494 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 117.1195 ms
2024-09-08 21:39:46.501 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-08 21:39:46.505 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-08 21:39:46.512 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 406.6404ms
2024-09-08 21:39:46.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-08 21:39:46.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_vs/browserLink - null null
2024-09-08 21:39:46.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-08 21:39:46.555 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-08 21:39:46.559 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 41.5259ms
2024-09-08 21:39:46.560 +02:00 [DBG] Request did not match any endpoints
2024-09-08 21:39:46.574 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:39:46.578 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:39:46.580 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:39:46.585 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.7281 ms
2024-09-08 21:39:46.593 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 76.6637ms
2024-09-08 21:39:46.615 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.14ms
2024-09-08 21:39:46.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-08 21:39:46.904 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-08 21:39:46.907 +02:00 [DBG] Request did not match any endpoints
2024-09-08 21:39:46.912 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:39:46.917 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:39:46.921 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:39:47.152 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 225.7355 ms
2024-09-08 21:39:47.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 269.8154ms
2024-09-08 21:40:13.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks - null null
2024-09-08 21:40:13.860 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 21:40:13.868 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 21:40:13.874 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 21:40:13.877 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:40:13.879 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:40:13.881 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:40:13.886 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 21:40:13.893 +02:00 [DBG] Policy authentication schemes  did not succeed
2024-09-08 21:40:13.902 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-08 21:40:13.907 +02:00 [INF] AuthenticationScheme: Identity.Bearer was challenged.
2024-09-08 21:40:13.910 +02:00 [INF] HTTP GET /api/v1/tasks responded 401 in 25.6427 ms
2024-09-08 21:40:13.914 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks - 401 0 null 89.324ms
2024-09-08 21:42:22.024 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 124
2024-09-08 21:42:22.042 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-08 21:42:22.046 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 21:42:22.048 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:42:22.050 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:42:22.051 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:42:22.055 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 21:42:22.058 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 21:42:22.065 +02:00 [DBG] Connection id "0HN6G7NV64CCJ", Request id "0HN6G7NV64CCJ:0000000D": started reading request body.
2024-09-08 21:42:22.072 +02:00 [DBG] Connection id "0HN6G7NV64CCJ", Request id "0HN6G7NV64CCJ:0000000D": done reading request body.
2024-09-08 21:42:22.286 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-08 21:42:22.759 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 21:42:22.819 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 21:42:23.098 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 21:42:23.107 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 21:42:23.173 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-08 21:42:23.178 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-08 21:42:23.181 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-08 21:42:23.348 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-08 21:42:23.645 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 21:42:23.783 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-08 21:42:24.115 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 21:42:24.195 +02:00 [DBG] Creating DbConnection.
2024-09-08 21:42:24.232 +02:00 [DBG] Created DbConnection. (35ms).
2024-09-08 21:42:24.241 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:24.646 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:24.656 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:42:24.669 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-08 21:42:24.686 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-09-08 21:42:24.701 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 21:42:24.791 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 21:42:24.901 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 21:42:24.984 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.004 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 198ms reading results.
2024-09-08 21:42:25.014 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.029 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (15ms).
2024-09-08 21:42:25.229 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-08 21:42:25.278 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 21:42:25.292 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.298 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.303 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:42:25.307 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-08 21:42:25.310 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 21:42:25.312 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 21:42:25.331 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 21:42:25.339 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.343 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 21:42:25.346 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.349 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:42:25.364 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-08 21:42:25.390 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 21:42:25.397 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.400 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.402 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:42:25.404 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 21:42:25.407 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 21:42:25.409 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 21:42:25.420 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 21:42:25.425 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.427 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 21:42:25.432 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.434 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:42:25.442 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-08 21:42:25.453 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 21:42:25.460 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.462 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.465 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:42:25.466 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 21:42:25.470 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 21:42:25.472 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 21:42:25.483 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 21:42:25.499 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-08 21:42:25.517 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.522 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 32ms reading results.
2024-09-08 21:42:25.526 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.529 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:42:25.538 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-08 21:42:25.548 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 21:42:25.553 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.556 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.558 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:42:25.560 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 21:42:25.563 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 21:42:25.566 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 21:42:25.576 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 21:42:25.584 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.587 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-08 21:42:25.590 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.593 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:42:25.600 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.606 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.608 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:42:25.610 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 21:42:25.612 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 21:42:25.615 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 21:42:25.621 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 21:42:25.626 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-08 21:42:25.629 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.631 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 21:42:25.636 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.638 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:42:25.642 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.645 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.647 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:42:25.649 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 21:42:25.653 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 21:42:25.655 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 21:42:25.661 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 21:42:25.667 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.670 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-08 21:42:25.673 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.676 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:42:25.689 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-08 21:42:25.706 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 21:42:25.710 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3654.7401 ms
2024-09-08 21:42:25.719 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 21:42:25.730 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:42:25.737 +02:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-09-08 21:42:25.743 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 3718.4017ms
2024-09-08 21:43:00.095 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks - null null
2024-09-08 21:43:00.125 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 21:43:00.128 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 21:43:00.133 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 21:43:00.138 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 21:43:00.140 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 21:43:00.144 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 21:43:00.148 +02:00 [DBG] Authorization was successful.
2024-09-08 21:43:00.151 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 21:43:00.175 +02:00 [INF] Route matched with {action = "GetAllTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 21:43:00.186 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 21:43:00.188 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 21:43:00.191 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 21:43:00.198 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 21:43:00.201 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 21:43:00.207 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 21:43:00.213 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 21:53:36.284 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-08 21:53:36.502 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-08 21:53:36.615 +02:00 [DBG] Hosting starting
2024-09-08 21:53:36.629 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-08 21:53:36.645 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-08 21:53:36.662 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-08 21:53:36.668 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 21:53:36.673 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-08 21:53:36.677 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 21:53:36.684 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-08 21:53:36.688 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-08 21:53:36.694 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-08 21:53:36.698 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-08 21:53:37.140 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-08 21:53:37.143 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-08 21:53:37.145 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-08 21:53:37.146 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-08 21:53:37.148 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-08 21:53:37.150 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-08 21:53:37.230 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-08 21:53:37.234 +02:00 [INF] Hosting environment: Development
2024-09-08 21:53:37.237 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-08 21:53:37.240 +02:00 [DBG] Hosting started
2024-09-08 21:53:40.592 +02:00 [DBG] Connection id "0HN6G7VNU5V70" accepted.
2024-09-08 21:53:40.599 +02:00 [DBG] Connection id "0HN6G7VNU5V70" started.
2024-09-08 21:53:40.720 +02:00 [DBG] Connection 0HN6G7VNU5V70 established using the following protocol: "Tls12"
2024-09-08 21:53:40.814 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-08 21:53:40.974 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-08 21:53:41.025 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-08 21:53:41.029 +02:00 [DBG] Request did not match any endpoints
2024-09-08 21:53:41.046 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:53:41.058 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:53:41.062 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:53:41.171 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-08 21:53:41.177 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-08 21:53:41.194 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 121.5286 ms
2024-09-08 21:53:41.202 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-08 21:53:41.205 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-08 21:53:41.215 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_vs/browserLink - null null
2024-09-08 21:53:41.215 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-08 21:53:41.215 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-08 21:53:41.233 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-08 21:53:41.223 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 406.7122ms
2024-09-08 21:53:41.256 +02:00 [DBG] Request did not match any endpoints
2024-09-08 21:53:41.278 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 64.6793ms
2024-09-08 21:53:41.279 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:53:41.291 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:53:41.294 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:53:41.299 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 3.1329 ms
2024-09-08 21:53:41.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 95.0113ms
2024-09-08 21:53:41.323 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_vs/browserLink - 200 null text/javascript; charset=UTF-8 110.2662ms
2024-09-08 21:53:41.616 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-08 21:53:41.635 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-08 21:53:41.637 +02:00 [DBG] Request did not match any endpoints
2024-09-08 21:53:41.650 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:53:41.653 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:53:41.656 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:53:41.902 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 241.7691 ms
2024-09-08 21:53:41.911 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 294.9037ms
2024-09-08 21:57:26.422 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/tasks - application/json 128
2024-09-08 21:57:26.445 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 21:57:26.453 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 21:57:26.460 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-08 21:57:26.466 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:57:26.469 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:57:26.473 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:57:26.478 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 21:57:26.484 +02:00 [DBG] Policy authentication schemes  did not succeed
2024-09-08 21:57:26.493 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-08 21:57:26.499 +02:00 [INF] AuthenticationScheme: Identity.Bearer was challenged.
2024-09-08 21:57:26.502 +02:00 [INF] HTTP POST /api/v1/tasks responded 401 in 24.7204 ms
2024-09-08 21:57:26.506 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/tasks - 401 0 null 89.4042ms
2024-09-08 21:57:26.515 +02:00 [DBG] Connection id "0HN6G7VNU5V70", Request id "0HN6G7VNU5V70:0000000B": started reading request body.
2024-09-08 21:57:26.519 +02:00 [DBG] Connection id "0HN6G7VNU5V70", Request id "0HN6G7VNU5V70:0000000B": done reading request body.
2024-09-08 21:57:53.172 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 124
2024-09-08 21:57:53.181 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-08 21:57:53.185 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 21:57:53.187 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 21:57:53.189 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 21:57:53.193 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 21:57:53.195 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 21:57:53.198 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 21:57:53.206 +02:00 [DBG] Connection id "0HN6G7VNU5V70", Request id "0HN6G7VNU5V70:0000000D": started reading request body.
2024-09-08 21:57:53.211 +02:00 [DBG] Connection id "0HN6G7VNU5V70", Request id "0HN6G7VNU5V70:0000000D": done reading request body.
2024-09-08 21:57:53.434 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-08 21:57:53.956 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 21:57:54.018 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 21:57:54.293 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 21:57:54.303 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 21:57:54.360 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-08 21:57:54.366 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-08 21:57:54.373 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-08 21:57:54.533 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-08 21:57:54.845 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 21:57:54.966 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-08 21:57:55.275 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 21:57:55.344 +02:00 [DBG] Creating DbConnection.
2024-09-08 21:57:55.377 +02:00 [DBG] Created DbConnection. (30ms).
2024-09-08 21:57:55.385 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:55.817 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:55.825 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:57:55.838 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-08 21:57:55.855 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-09-08 21:57:55.871 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 21:57:55.970 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 21:57:56.067 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 21:57:56.146 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.160 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 177ms reading results.
2024-09-08 21:57:56.172 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.187 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (14ms).
2024-09-08 21:57:56.387 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-08 21:57:56.441 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 21:57:56.449 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.454 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.460 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:57:56.465 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-08 21:57:56.468 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-08 21:57:56.470 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 21:57:56.490 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 21:57:56.502 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.505 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-08 21:57:56.510 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.513 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 21:57:56.529 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-08 21:57:56.558 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 21:57:56.566 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.569 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.571 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:57:56.573 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 21:57:56.575 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 21:57:56.578 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 21:57:56.587 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 21:57:56.593 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.596 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 21:57:56.599 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.602 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:57:56.608 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-08 21:57:56.618 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 21:57:56.624 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.626 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.629 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:57:56.631 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 21:57:56.634 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 21:57:56.636 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 21:57:56.645 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 21:57:56.659 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-08 21:57:56.675 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.678 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 27ms reading results.
2024-09-08 21:57:56.681 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.683 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:57:56.691 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-08 21:57:56.699 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 21:57:56.704 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.707 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.709 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:57:56.711 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 21:57:56.714 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 21:57:56.716 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 21:57:56.724 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 21:57:56.729 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.732 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 21:57:56.735 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.740 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (5ms).
2024-09-08 21:57:56.749 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.753 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.756 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:57:56.758 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 21:57:56.763 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 21:57:56.767 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 21:57:56.774 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 21:57:56.789 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-08 21:57:56.793 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.796 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-08 21:57:56.801 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.803 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:57:56.808 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.811 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.815 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:57:56.817 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 21:57:56.820 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 21:57:56.822 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 21:57:56.828 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 21:57:56.833 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.835 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 21:57:56.839 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.841 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:57:56.853 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-08 21:57:56.870 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 21:57:56.874 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3679.6805 ms
2024-09-08 21:57:56.884 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 21:57:56.893 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:57:56.899 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-08 21:57:56.902 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 3730.9774ms
2024-09-08 21:58:36.608 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks - null null
2024-09-08 21:58:36.622 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 21:58:36.625 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 21:58:36.629 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 21:58:36.633 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 21:58:36.637 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 21:58:36.640 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 21:58:36.644 +02:00 [DBG] Authorization was successful.
2024-09-08 21:58:36.646 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 21:58:36.667 +02:00 [INF] Route matched with {action = "GetAllTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 21:58:36.676 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 21:58:36.678 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 21:58:36.682 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 21:58:36.688 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 21:58:36.692 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 21:58:36.698 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 21:58:36.705 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 21:58:36.828 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 21:58:36.834 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()'
2024-09-08 21:58:36.845 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TaskItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
        SELECT t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
        FROM TMS.Tasks AS t), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 21:58:36.851 +02:00 [DBG] Creating DbConnection.
2024-09-08 21:58:36.855 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-08 21:58:36.858 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:58:36.862 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:58:36.864 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 21:58:36.866 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 21:58:36.868 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 21:58:36.872 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
2024-09-08 21:58:36.880 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
2024-09-08 21:58:36.910 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 9}'.
2024-09-08 21:58:36.946 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 10}'.
2024-09-08 21:58:36.950 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 11}'.
2024-09-08 21:58:36.954 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:58:36.957 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 72ms reading results.
2024-09-08 21:58:36.960 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:58:36.962 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 21:58:37.020 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 21:58:37.032 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-08 21:58:37.038 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-08 21:58:37.041 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 21:58:37.044 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 21:58:37.046 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-08 21:58:37.049 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-08 21:58:37.073 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API) in 372.4666ms
2024-09-08 21:58:37.077 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 21:58:37.080 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 439.3775 ms
2024-09-08 21:58:37.084 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 21:58:37.087 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 21:58:37.091 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 21:58:37.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks - 200 null application/json; charset=utf-8 486.1544ms
2024-09-08 22:03:21.208 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-08 22:03:21.413 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-08 22:03:21.544 +02:00 [DBG] Hosting starting
2024-09-08 22:03:21.558 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-08 22:03:21.575 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-08 22:03:21.591 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-08 22:03:21.598 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 22:03:21.603 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-08 22:03:21.607 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 22:03:21.613 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-08 22:03:21.618 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-08 22:03:21.622 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-08 22:03:21.628 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-08 22:03:21.971 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-08 22:03:21.974 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-08 22:03:21.978 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-08 22:03:21.981 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-08 22:03:21.983 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-08 22:03:21.985 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-08 22:03:22.066 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-08 22:03:22.070 +02:00 [INF] Hosting environment: Development
2024-09-08 22:03:22.073 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-08 22:03:22.075 +02:00 [DBG] Hosting started
2024-09-08 22:03:32.778 +02:00 [DBG] Connection id "0HN6G858DMOUN" accepted.
2024-09-08 22:03:32.783 +02:00 [DBG] Connection id "0HN6G858DMOUN" started.
2024-09-08 22:03:32.855 +02:00 [DBG] Connection 0HN6G858DMOUN established using the following protocol: "Tls12"
2024-09-08 22:03:32.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-08 22:03:33.122 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-08 22:03:33.174 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-08 22:03:33.178 +02:00 [DBG] Request did not match any endpoints
2024-09-08 22:03:33.192 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 22:03:33.204 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 22:03:33.207 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 22:03:33.316 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-08 22:03:33.322 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-08 22:03:33.339 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 122.5904 ms
2024-09-08 22:03:33.346 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-08 22:03:33.350 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-08 22:03:33.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-08 22:03:33.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_vs/browserLink - null null
2024-09-08 22:03:33.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-08 22:03:33.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 408.4253ms
2024-09-08 22:03:33.393 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-08 22:03:33.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 52.4795ms
2024-09-08 22:03:33.422 +02:00 [DBG] Request did not match any endpoints
2024-09-08 22:03:33.438 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 22:03:33.442 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 22:03:33.444 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 22:03:33.454 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 3.8188 ms
2024-09-08 22:03:33.459 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 103.001ms
2024-09-08 22:03:33.481 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_vs/browserLink - 200 null text/javascript; charset=UTF-8 123.7389ms
2024-09-08 22:03:33.776 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-08 22:03:33.789 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-08 22:03:33.793 +02:00 [DBG] Request did not match any endpoints
2024-09-08 22:03:33.797 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 22:03:33.804 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 22:03:33.806 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 22:03:34.015 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 207.0904 ms
2024-09-08 22:03:34.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 250.3161ms
2024-09-08 22:03:53.361 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 124
2024-09-08 22:03:53.378 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-08 22:03:53.383 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 22:03:53.387 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 22:03:53.390 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 22:03:53.392 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 22:03:53.398 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:03:53.403 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 22:03:53.413 +02:00 [DBG] Connection id "0HN6G858DMOUN", Request id "0HN6G858DMOUN:0000000B": started reading request body.
2024-09-08 22:03:53.417 +02:00 [DBG] Connection id "0HN6G858DMOUN", Request id "0HN6G858DMOUN:0000000B": done reading request body.
2024-09-08 22:03:53.628 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-08 22:03:54.091 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 22:03:54.146 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 22:03:54.464 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 22:03:54.473 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 22:03:54.537 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-08 22:03:54.541 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-08 22:03:54.548 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-08 22:03:54.726 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-08 22:03:55.037 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:03:55.163 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-08 22:03:55.486 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 22:03:55.572 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:03:55.607 +02:00 [DBG] Created DbConnection. (31ms).
2024-09-08 22:03:55.616 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.013 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.023 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:03:56.036 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-08 22:03:56.053 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-09-08 22:03:56.069 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 22:03:56.170 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 22:03:56.274 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 22:03:56.346 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.360 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 173ms reading results.
2024-09-08 22:03:56.369 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.383 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (13ms).
2024-09-08 22:03:56.597 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-08 22:03:56.662 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 22:03:56.670 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.674 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.678 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:03:56.682 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:03:56.685 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-08 22:03:56.688 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 22:03:56.699 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 22:03:56.708 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.713 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-08 22:03:56.717 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.720 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:03:56.736 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-08 22:03:56.772 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 22:03:56.782 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.787 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.789 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:03:56.791 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 22:03:56.794 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:03:56.796 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 22:03:56.806 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 22:03:56.815 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.819 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-08 22:03:56.823 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.828 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-08 22:03:56.837 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-08 22:03:56.851 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 22:03:56.857 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.860 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.865 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:03:56.868 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-08 22:03:56.872 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-08 22:03:56.875 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 22:03:56.884 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 22:03:56.898 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-08 22:03:56.914 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.918 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-09-08 22:03:56.921 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.925 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 22:03:56.933 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-08 22:03:56.941 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 22:03:56.948 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.951 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.953 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:03:56.955 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 22:03:56.958 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:03:56.961 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 22:03:56.968 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 22:03:56.974 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.980 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 22:03:56.983 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.985 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:03:56.993 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.996 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:56.998 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:03:57.000 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 22:03:57.003 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:03:57.005 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 22:03:57.013 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 22:03:57.018 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-08 22:03:57.023 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:57.025 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-08 22:03:57.028 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:57.031 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:03:57.035 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:57.039 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:57.043 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:03:57.046 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-08 22:03:57.049 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 22:03:57.053 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 22:03:57.063 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 22:03:57.069 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:57.071 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 22:03:57.075 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:57.078 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:03:57.090 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-08 22:03:57.106 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 22:03:57.110 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3714.6756 ms
2024-09-08 22:03:57.121 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:03:57.131 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:03:57.136 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-08 22:03:57.142 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 3780.9113ms
2024-09-08 22:04:31.333 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks - null null
2024-09-08 22:04:31.342 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 22:04:31.347 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 22:04:31.351 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 22:04:31.357 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:04:31.360 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:04:31.363 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:04:31.372 +02:00 [DBG] Authorization was successful.
2024-09-08 22:04:31.375 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 22:04:31.395 +02:00 [INF] Route matched with {action = "GetAllTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:04:31.403 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:04:31.407 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:04:31.411 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:04:31.414 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:04:31.417 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:04:31.423 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:04:31.428 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:04:31.527 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:04:31.534 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()'
2024-09-08 22:04:31.544 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TaskItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
        SELECT t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
        FROM TMS.Tasks AS t), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 22:04:31.552 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:04:31.557 +02:00 [DBG] Created DbConnection. (4ms).
2024-09-08 22:04:31.559 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:31.562 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:31.564 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:04:31.566 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 22:04:31.570 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 22:04:31.573 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
2024-09-08 22:04:31.580 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
2024-09-08 22:04:31.612 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 9}'.
2024-09-08 22:04:31.644 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 10}'.
2024-09-08 22:04:31.649 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 11}'.
2024-09-08 22:04:31.652 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:31.655 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 66ms reading results.
2024-09-08 22:04:31.658 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:31.660 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:04:31.698 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 22:04:31.712 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-08 22:04:31.718 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-08 22:04:31.721 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 22:04:31.723 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 22:04:31.725 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-08 22:04:31.728 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-08 22:04:31.750 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API) in 324.2806ms
2024-09-08 22:04:31.755 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 22:04:31.758 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 395.2525 ms
2024-09-08 22:04:31.762 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:04:31.764 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:31.768 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-08 22:04:31.771 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks - 200 null application/json; charset=utf-8 440.1262ms
2024-09-08 22:04:54.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks/20 - null null
2024-09-08 22:04:54.415 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/20'
2024-09-08 22:04:54.422 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/20'
2024-09-08 22:04:54.429 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:04:54.435 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:04:54.439 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:04:54.442 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:04:54.448 +02:00 [DBG] Authorization was successful.
2024-09-08 22:04:54.452 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:04:54.470 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:04:54.476 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:04:54.479 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:04:54.482 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:04:54.486 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:04:54.489 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:04:54.492 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:04:54.495 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:04:54.505 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:04:54.511 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-08 22:04:54.517 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:04:54.519 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:04:54.522 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:04:54.551 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:04:54.579 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:04:54.587 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()
    .FirstOrDefault(t => t.TaskId == __taskId_0)'
2024-09-08 22:04:54.595 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TaskItem>(
    asyncEnumerable: new SingleQueryingEnumerable<TaskItem>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
            SELECT TOP(1) t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
            FROM TMS.Tasks AS t
            WHERE t.TaskId == @__taskId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 22:04:54.605 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:04:54.607 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-08 22:04:54.610 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:54.614 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:54.618 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:04:54.621 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-08 22:04:54.625 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-08 22:04:54.630 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='20'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:04:54.641 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__taskId_0='20'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:04:54.648 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:54.650 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-08 22:04:54.653 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:54.656 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:04:54.663 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 22:04:54.669 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-08 22:04:54.672 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-08 22:04:54.675 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-09-08 22:04:54.677 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 185.2462ms
2024-09-08 22:04:54.683 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:04:54.685 +02:00 [INF] HTTP GET /api/v1/tasks/20 responded 404 in 243.8951 ms
2024-09-08 22:04:54.689 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:04:54.691 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:04:54.694 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-08 22:04:54.697 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks/20 - 404 null text/plain; charset=utf-8 305.1686ms
2024-09-08 22:05:10.817 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks/11 - null null
2024-09-08 22:05:10.823 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/11'
2024-09-08 22:05:10.840 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/11'
2024-09-08 22:05:10.849 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:10.853 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:05:10.855 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:05:10.858 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:05:10.864 +02:00 [DBG] Authorization was successful.
2024-09-08 22:05:10.866 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:10.868 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:05:10.872 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:05:10.876 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:05:10.880 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:05:10.884 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:05:10.887 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:05:10.890 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:05:10.895 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:05:10.898 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:05:10.900 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-08 22:05:10.903 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:10.905 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:10.909 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:05:10.916 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:10.921 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:05:10.929 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:05:10.931 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-08 22:05:10.935 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:10.940 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:10.948 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:05:10.950 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 22:05:10.952 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:05:10.955 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:05:10.964 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__taskId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:05:10.969 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 11}'.
2024-09-08 22:05:10.972 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:10.974 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 22:05:10.978 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:10.981 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:05:10.986 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 22:05:10.991 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-08 22:05:10.994 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-08 22:05:10.997 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 22:05:10.999 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 22:05:11.001 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-08 22:05:11.004 +02:00 [INF] Executing OkObjectResult, writing value of type 'TMS.Application.Tasks.Dtos.TaskDto'.
2024-09-08 22:05:11.007 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 117.215ms
2024-09-08 22:05:11.011 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:11.013 +02:00 [INF] HTTP GET /api/v1/tasks/11 responded 200 in 155.7973 ms
2024-09-08 22:05:11.017 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:05:11.021 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:11.024 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-08 22:05:11.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks/11 - 200 null application/json; charset=utf-8 211.3033ms
2024-09-08 22:05:36.457 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks/9 - null null
2024-09-08 22:05:36.483 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/9'
2024-09-08 22:05:36.488 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/9'
2024-09-08 22:05:36.495 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:36.500 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:05:36.502 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:05:36.507 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:05:36.508 +02:00 [DBG] Authorization was successful.
2024-09-08 22:05:36.509 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:36.512 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:05:36.515 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:05:36.519 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:05:36.523 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:05:36.527 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:05:36.529 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:05:36.532 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:05:36.537 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:05:36.540 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:05:36.542 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-08 22:05:36.545 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:36.547 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:36.550 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:05:36.554 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:36.560 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:05:36.566 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:05:36.568 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 22:05:36.570 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:36.573 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:36.575 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:05:36.577 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 22:05:36.579 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:05:36.584 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='9'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:05:36.595 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__taskId_0='9'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:05:36.605 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 9}'.
2024-09-08 22:05:36.608 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:36.610 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 22:05:36.615 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:36.618 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 22:05:36.624 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 22:05:36.633 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-08 22:05:36.636 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-08 22:05:36.642 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 22:05:36.644 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 22:05:36.646 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-08 22:05:36.649 +02:00 [INF] Executing OkObjectResult, writing value of type 'TMS.Application.Tasks.Dtos.TaskDto'.
2024-09-08 22:05:36.652 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 119.6264ms
2024-09-08 22:05:36.656 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:36.660 +02:00 [INF] HTTP GET /api/v1/tasks/9 responded 200 in 153.4120 ms
2024-09-08 22:05:36.665 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:05:36.668 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:36.671 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 22:05:36.675 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks/9 - 200 null application/json; charset=utf-8 219.3012ms
2024-09-08 22:05:42.142 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks/10 - null null
2024-09-08 22:05:42.150 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/10'
2024-09-08 22:05:42.153 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/10'
2024-09-08 22:05:42.157 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:42.160 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:05:42.162 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:05:42.165 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:05:42.167 +02:00 [DBG] Authorization was successful.
2024-09-08 22:05:42.169 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:42.172 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:05:42.176 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:05:42.179 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:05:42.181 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:05:42.186 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:05:42.189 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:05:42.192 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:05:42.195 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:05:42.201 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:05:42.204 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-08 22:05:42.206 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:42.209 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:42.212 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:05:42.215 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:42.219 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:05:42.224 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:05:42.226 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 22:05:42.228 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:42.231 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:42.233 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:05:42.235 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 22:05:42.239 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 22:05:42.241 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:05:42.250 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__taskId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:05:42.255 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 10}'.
2024-09-08 22:05:42.258 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:42.261 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 22:05:42.264 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:42.266 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:05:42.270 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 22:05:42.275 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-08 22:05:42.279 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-08 22:05:42.281 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 22:05:42.285 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 22:05:42.288 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-08 22:05:42.293 +02:00 [INF] Executing OkObjectResult, writing value of type 'TMS.Application.Tasks.Dtos.TaskDto'.
2024-09-08 22:05:42.297 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 105.3304ms
2024-09-08 22:05:42.302 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:42.308 +02:00 [INF] HTTP GET /api/v1/tasks/10 responded 200 in 142.6280 ms
2024-09-08 22:05:42.312 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:05:42.315 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:42.318 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 22:05:42.323 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks/10 - 200 null application/json; charset=utf-8 180.7505ms
2024-09-08 22:05:48.136 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks/11 - null null
2024-09-08 22:05:48.143 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/11'
2024-09-08 22:05:48.145 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/11'
2024-09-08 22:05:48.149 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:48.154 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:05:48.157 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:05:48.162 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:05:48.165 +02:00 [DBG] Authorization was successful.
2024-09-08 22:05:48.169 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:48.174 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:05:48.182 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:05:48.185 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:05:48.188 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:05:48.192 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:05:48.195 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:05:48.202 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:05:48.207 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:05:48.212 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:05:48.214 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-08 22:05:48.217 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:48.220 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:48.222 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:05:48.225 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:05:48.228 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:05:48.232 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:05:48.234 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-08 22:05:48.236 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:48.239 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:48.241 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:05:48.244 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-08 22:05:48.246 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 22:05:48.249 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:05:48.255 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__taskId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:05:48.263 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 11}'.
2024-09-08 22:05:48.265 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:48.268 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 22:05:48.271 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:48.274 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 22:05:48.278 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 22:05:48.283 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-08 22:05:48.286 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-08 22:05:48.288 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 22:05:48.291 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 22:05:48.292 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-08 22:05:48.295 +02:00 [INF] Executing OkObjectResult, writing value of type 'TMS.Application.Tasks.Dtos.TaskDto'.
2024-09-08 22:05:48.298 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 96.2058ms
2024-09-08 22:05:48.302 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:05:48.304 +02:00 [INF] HTTP GET /api/v1/tasks/11 responded 200 in 142.5012 ms
2024-09-08 22:05:48.309 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:05:48.311 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:05:48.314 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-08 22:05:48.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks/11 - 200 null application/json; charset=utf-8 181.0646ms
2024-09-08 22:24:45.524 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-08 22:24:45.779 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-08 22:24:45.905 +02:00 [DBG] Hosting starting
2024-09-08 22:24:45.918 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-08 22:24:45.935 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-08 22:24:45.952 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-08 22:24:45.960 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 22:24:45.965 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-08 22:24:45.969 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-08 22:24:45.976 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-08 22:24:45.981 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-08 22:24:45.985 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-08 22:24:45.988 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-08 22:24:46.344 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-08 22:24:46.348 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-08 22:24:46.350 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-08 22:24:46.352 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-08 22:24:46.354 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-08 22:24:46.355 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-08 22:24:46.440 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-08 22:24:46.443 +02:00 [INF] Hosting environment: Development
2024-09-08 22:24:46.446 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-08 22:24:46.448 +02:00 [DBG] Hosting started
2024-09-08 22:25:01.586 +02:00 [DBG] Connection id "0HN6G8H8GNQ9U" accepted.
2024-09-08 22:25:01.591 +02:00 [DBG] Connection id "0HN6G8H8GNQ9U" started.
2024-09-08 22:25:01.665 +02:00 [DBG] Connection 0HN6G8H8GNQ9U established using the following protocol: "Tls12"
2024-09-08 22:25:01.782 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-08 22:25:01.959 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-08 22:25:02.011 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-08 22:25:02.015 +02:00 [DBG] Request did not match any endpoints
2024-09-08 22:25:02.032 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 22:25:02.045 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 22:25:02.048 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 22:25:02.168 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-08 22:25:02.173 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-08 22:25:02.192 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 129.8298 ms
2024-09-08 22:25:02.199 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-08 22:25:02.203 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-08 22:25:02.212 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 435.5487ms
2024-09-08 22:25:02.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-08 22:25:02.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-08 22:25:02.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_vs/browserLink - null null
2024-09-08 22:25:02.243 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-08 22:25:02.264 +02:00 [DBG] Request did not match any endpoints
2024-09-08 22:25:02.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 50.4283ms
2024-09-08 22:25:02.270 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 22:25:02.291 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 22:25:02.295 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 22:25:02.301 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.6340 ms
2024-09-08 22:25:02.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 93.2544ms
2024-09-08 22:25:02.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.331ms
2024-09-08 22:25:02.595 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-08 22:25:02.605 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-08 22:25:02.609 +02:00 [DBG] Request did not match any endpoints
2024-09-08 22:25:02.613 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 22:25:02.618 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 22:25:02.620 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 22:25:02.832 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 209.7252 ms
2024-09-08 22:25:02.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 245.6632ms
2024-09-08 22:25:42.710 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 124
2024-09-08 22:25:42.735 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-08 22:25:42.740 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 22:25:42.745 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-08 22:25:42.749 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-08 22:25:42.752 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-08 22:25:42.755 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:25:42.759 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 22:25:42.770 +02:00 [DBG] Connection id "0HN6G8H8GNQ9U", Request id "0HN6G8H8GNQ9U:0000000B": started reading request body.
2024-09-08 22:25:42.773 +02:00 [DBG] Connection id "0HN6G8H8GNQ9U", Request id "0HN6G8H8GNQ9U:0000000B": done reading request body.
2024-09-08 22:25:43.051 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-08 22:25:43.776 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 22:25:43.830 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 22:25:44.178 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 22:25:44.185 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-08 22:25:44.252 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-08 22:25:44.259 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-08 22:25:44.263 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-08 22:25:44.487 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-08 22:25:44.900 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:25:45.061 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-08 22:25:45.458 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 22:25:45.531 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:25:45.578 +02:00 [DBG] Created DbConnection. (41ms).
2024-09-08 22:25:45.589 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:45.990 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.001 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:25:46.017 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-09-08 22:25:46.033 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2024-09-08 22:25:46.047 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 22:25:46.141 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-08 22:25:46.242 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-08 22:25:46.319 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.334 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 179ms reading results.
2024-09-08 22:25:46.343 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.357 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (12ms).
2024-09-08 22:25:46.587 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-08 22:25:46.635 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 22:25:46.643 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.648 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.652 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:25:46.654 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 22:25:46.657 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 22:25:46.659 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 22:25:46.679 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-08 22:25:46.690 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.693 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-08 22:25:46.697 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.701 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 22:25:46.721 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-08 22:25:46.757 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 22:25:46.764 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.767 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.769 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:25:46.771 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 22:25:46.773 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:25:46.776 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 22:25:46.787 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-08 22:25:46.793 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.796 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 22:25:46.800 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.802 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:25:46.809 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-08 22:25:46.822 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 22:25:46.828 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.832 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.837 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:25:46.839 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 22:25:46.842 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 22:25:46.845 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 22:25:46.853 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 22:25:46.866 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-08 22:25:46.881 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.883 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 26ms reading results.
2024-09-08 22:25:46.886 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.889 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:25:46.898 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-08 22:25:46.904 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 22:25:46.911 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.915 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.918 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:25:46.920 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 22:25:46.923 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:25:46.926 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 22:25:46.934 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 22:25:46.941 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.944 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-08 22:25:46.948 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.951 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:25:46.960 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.965 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.969 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:25:46.972 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 22:25:46.976 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 22:25:46.979 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 22:25:46.986 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-08 22:25:46.991 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-08 22:25:46.995 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:46.998 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-08 22:25:47.002 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:47.005 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:25:47.010 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:47.012 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:47.016 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:25:47.018 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 22:25:47.021 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:25:47.023 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 22:25:47.029 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-08 22:25:47.041 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:47.043 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 22:25:47.046 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:47.051 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-08 22:25:47.067 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-08 22:25:47.082 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-08 22:25:47.086 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 4332.3301 ms
2024-09-08 22:25:47.094 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:25:47.102 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:25:47.107 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-08 22:25:47.110 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 4400.9106ms
2024-09-08 22:26:17.068 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks - null null
2024-09-08 22:26:17.087 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-08 22:26:17.095 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-08 22:26:17.098 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 22:26:17.102 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:26:17.105 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:26:17.110 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:26:17.118 +02:00 [DBG] Authorization was successful.
2024-09-08 22:26:17.120 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 22:26:17.141 +02:00 [INF] Route matched with {action = "GetAllTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:26:17.150 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:26:17.153 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:26:17.157 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:26:17.161 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:26:17.164 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:26:17.169 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:26:17.175 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:26:17.276 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:26:17.282 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()'
2024-09-08 22:26:17.292 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TaskItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
        SELECT t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
        FROM TMS.Tasks AS t), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-08 22:26:17.299 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:26:17.301 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 22:26:17.304 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:17.306 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:17.309 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:26:17.311 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 22:26:17.313 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:26:17.316 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
2024-09-08 22:26:17.325 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
2024-09-08 22:26:17.356 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 9}'.
2024-09-08 22:26:17.388 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 10}'.
2024-09-08 22:26:17.394 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 11}'.
2024-09-08 22:26:17.399 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:17.401 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 69ms reading results.
2024-09-08 22:26:17.404 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:17.407 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:26:17.440 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 22:26:17.450 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-08 22:26:17.455 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-08 22:26:17.460 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 22:26:17.462 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 22:26:17.465 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-08 22:26:17.469 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-08 22:26:17.496 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API) in 323.9385ms
2024-09-08 22:26:17.500 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-08 22:26:17.502 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 392.8470 ms
2024-09-08 22:26:17.507 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:26:17.512 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:17.515 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-08 22:26:17.517 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks - 200 null application/json; charset=utf-8 449.8794ms
2024-09-08 22:26:30.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks/120 - null null
2024-09-08 22:26:30.406 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/120'
2024-09-08 22:26:30.409 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/120'
2024-09-08 22:26:30.414 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:26:30.417 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:26:30.419 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:26:30.423 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:26:30.428 +02:00 [DBG] Authorization was successful.
2024-09-08 22:26:30.429 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:26:30.446 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:26:30.451 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:26:30.454 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:26:30.459 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:26:30.462 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:26:30.465 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:26:30.468 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:26:30.473 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:26:30.480 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:26:30.489 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-08 22:26:30.495 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:26:30.497 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:26:30.500 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:26:30.531 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:26:30.544 +02:00 [INF] Getting task with Id: 120.
2024-09-08 22:26:30.567 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:26:30.576 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()
    .FirstOrDefault(t => t.TaskId == __taskId_0)'
2024-09-08 22:26:30.586 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TaskItem>(
    asyncEnumerable: new SingleQueryingEnumerable<TaskItem>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
            SELECT TOP(1) t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
            FROM TMS.Tasks AS t
            WHERE t.TaskId == @__taskId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-08 22:26:30.598 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:26:30.599 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 22:26:30.602 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:30.606 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:30.608 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:26:30.610 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 22:26:30.613 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 22:26:30.619 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='120'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:26:30.627 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__taskId_0='120'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:26:30.632 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:30.634 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-08 22:26:30.639 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:30.641 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:26:30.957 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 489.4633ms
2024-09-08 22:26:30.962 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:26:30.965 +02:00 [ERR] HTTP GET /api/v1/tasks/120 responded 500 in 543.0494 ms
TMS.Domain.Exceptions.NotFoundException: "TaskItem" with givin (120) was not found.
   at TMS.Application.Tasks.Queries.GetByIdQuery.GetTaskByIdQueryHandler.Handle(GetTaskByIdQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Tasks\Queries\GetByIdQuery\GetTaskByIdQueryHandler.cs:line 28
   at TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails(Int32 taskId) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TasksController.cs:line 47
   at lambda_method274(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-08 22:26:31.316 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:26:31.321 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:31.325 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-08 22:26:31.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks/120 - 404 null null 927.6886ms
2024-09-08 22:26:46.015 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks/9 - null null
2024-09-08 22:26:46.022 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/9'
2024-09-08 22:26:46.025 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/9'
2024-09-08 22:26:46.031 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:26:46.036 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:26:46.041 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:26:46.045 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:26:46.051 +02:00 [DBG] Authorization was successful.
2024-09-08 22:26:46.055 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:26:46.060 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:26:46.065 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:26:46.069 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:26:46.075 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:26:46.081 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:26:46.086 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:26:46.089 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:26:46.093 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:26:46.096 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:26:46.099 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-08 22:26:46.103 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:26:46.105 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:26:46.108 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:26:46.111 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:26:46.115 +02:00 [INF] Getting task with Id: 9.
2024-09-08 22:26:46.120 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:26:46.124 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:26:46.125 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 22:26:46.128 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:46.130 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:46.135 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:26:46.138 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-08 22:26:46.141 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-08 22:26:46.143 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='9'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:26:46.153 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__taskId_0='9'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:26:46.159 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 9}'.
2024-09-08 22:26:46.162 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:46.165 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-08 22:26:46.170 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:46.173 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:26:46.179 +02:00 [INF] Authorizing User string@test.com , to "Read" for the task first task
2024-09-08 22:26:46.183 +02:00 [INF] Task Owner - Successful Authorization - Create/Read/Update/Delete Operation.
2024-09-08 22:26:46.316 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 226.3975ms
2024-09-08 22:26:46.320 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:26:46.324 +02:00 [ERR] HTTP GET /api/v1/tasks/9 responded 500 in 279.2416 ms
TMS.Domain.Exceptions.ForbiddenException: Exception of type 'TMS.Domain.Exceptions.ForbiddenException' was thrown.
   at TMS.Application.Tasks.Queries.GetByIdQuery.GetTaskByIdQueryHandler.Handle(GetTaskByIdQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Tasks\Queries\GetByIdQuery\GetTaskByIdQueryHandler.cs:line 33
   at TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails(Int32 taskId) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TasksController.cs:line 47
   at lambda_method274(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-08 22:26:46.601 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:26:46.604 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:46.607 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-08 22:26:46.610 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks/9 - 403 0 null 595.812ms
2024-09-08 22:26:54.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks/10 - null null
2024-09-08 22:26:54.308 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/10'
2024-09-08 22:26:54.311 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/10'
2024-09-08 22:26:54.317 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:26:54.322 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:26:54.327 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:26:54.330 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:26:54.333 +02:00 [DBG] Authorization was successful.
2024-09-08 22:26:54.336 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:26:54.339 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:26:54.344 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:26:54.347 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:26:54.351 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:26:54.355 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:26:54.358 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:26:54.361 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:26:54.366 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:26:54.371 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:26:54.374 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-08 22:26:54.377 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:26:54.380 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:26:54.383 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:26:54.388 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:26:54.398 +02:00 [INF] Getting task with Id: 10.
2024-09-08 22:26:54.402 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:26:54.409 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:26:54.411 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 22:26:54.415 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:54.420 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:54.424 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:26:54.427 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-08 22:26:54.429 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-08 22:26:54.432 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:26:54.440 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__taskId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:26:54.444 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 10}'.
2024-09-08 22:26:54.447 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:54.451 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-08 22:26:54.455 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:54.457 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-08 22:26:54.460 +02:00 [INF] Authorizing User string@test.com , to "Read" for the task second task
2024-09-08 22:26:54.462 +02:00 [INF] Task Owner - Successful Authorization - Create/Read/Update/Delete Operation.
2024-09-08 22:26:54.572 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 210.6003ms
2024-09-08 22:26:54.576 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:26:54.581 +02:00 [ERR] HTTP GET /api/v1/tasks/10 responded 500 in 251.3755 ms
TMS.Domain.Exceptions.ForbiddenException: Exception of type 'TMS.Domain.Exceptions.ForbiddenException' was thrown.
   at TMS.Application.Tasks.Queries.GetByIdQuery.GetTaskByIdQueryHandler.Handle(GetTaskByIdQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Tasks\Queries\GetByIdQuery\GetTaskByIdQueryHandler.cs:line 33
   at TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails(Int32 taskId) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TasksController.cs:line 47
   at lambda_method274(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-08 22:26:54.879 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:26:54.882 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:26:54.888 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-08 22:26:54.891 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks/10 - 403 0 null 589.2681ms
2024-09-08 22:27:03.231 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/api/v1/tasks/11 - null null
2024-09-08 22:27:03.238 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/11'
2024-09-08 22:27:03.241 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/11'
2024-09-08 22:27:03.245 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:27:03.248 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-08 22:27:03.250 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-08 22:27:03.252 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-08 22:27:03.254 +02:00 [DBG] Authorization was successful.
2024-09-08 22:27:03.256 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:27:03.260 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-08 22:27:03.265 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-08 22:27:03.268 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-08 22:27:03.271 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-08 22:27:03.276 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-08 22:27:03.279 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-08 22:27:03.284 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:27:03.286 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-08 22:27:03.289 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:27:03.295 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-08 22:27:03.298 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:27:03.301 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:27:03.303 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-08 22:27:03.306 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-08 22:27:03.308 +02:00 [INF] Getting task with Id: 11.
2024-09-08 22:27:03.311 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-08 22:27:03.316 +02:00 [DBG] Creating DbConnection.
2024-09-08 22:27:03.317 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-08 22:27:03.319 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:27:03.322 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:27:03.324 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-08 22:27:03.326 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-08 22:27:03.329 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-08 22:27:03.333 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:27:03.342 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__taskId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-08 22:27:03.352 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 11}'.
2024-09-08 22:27:03.356 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:27:03.360 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-08 22:27:03.367 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:27:03.371 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-08 22:27:03.374 +02:00 [INF] Authorizing User string@test.com , to "Read" for the task lsn
2024-09-08 22:27:03.380 +02:00 [INF] Authorization Faild.
2024-09-08 22:27:03.385 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-08 22:27:03.390 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-08 22:27:03.393 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-08 22:27:03.396 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-08 22:27:03.402 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-08 22:27:03.404 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-08 22:27:03.406 +02:00 [INF] Executing OkObjectResult, writing value of type 'TMS.Application.Tasks.Dtos.TaskDto'.
2024-09-08 22:27:03.409 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 125.5714ms
2024-09-08 22:27:03.415 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-08 22:27:03.419 +02:00 [INF] HTTP GET /api/v1/tasks/11 responded 200 in 166.2801 ms
2024-09-08 22:27:03.422 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-08 22:27:03.425 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-08 22:27:03.427 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-08 22:27:03.431 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/api/v1/tasks/11 - 200 null application/json; charset=utf-8 199.4107ms
