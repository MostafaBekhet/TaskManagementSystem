2024-09-11 12:23:25.245 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 12:23:25.392 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 12:23:26.690 +02:00 [DBG] Hosting starting
2024-09-11 12:23:26.706 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 12:23:26.746 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 12:23:26.763 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 12:23:26.769 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 12:23:26.775 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 12:23:26.779 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 12:23:26.785 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 12:23:26.791 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 12:23:26.795 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 12:23:26.799 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 12:23:28.056 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 12:23:28.059 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 12:23:28.061 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 12:23:28.064 +02:00 [INF] Hosting environment: Development
2024-09-11 12:23:28.066 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 12:23:28.068 +02:00 [DBG] Hosting started
2024-09-11 12:23:42.632 +02:00 [INF] Application is shutting down...
2024-09-11 12:23:42.633 +02:00 [DBG] Hosting stopping
2024-09-11 12:23:42.647 +02:00 [DBG] Hosting stopped
2024-09-11 12:23:59.021 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 12:23:59.137 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 12:23:59.224 +02:00 [DBG] Hosting starting
2024-09-11 12:23:59.236 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 12:23:59.252 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 12:23:59.269 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 12:23:59.276 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 12:23:59.283 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 12:23:59.288 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 12:23:59.295 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 12:23:59.302 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 12:23:59.308 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 12:23:59.311 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 12:23:59.408 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 12:23:59.412 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 12:23:59.415 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 12:23:59.416 +02:00 [INF] Hosting environment: Development
2024-09-11 12:23:59.419 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 12:23:59.421 +02:00 [DBG] Hosting started
2024-09-11 12:24:23.836 +02:00 [DBG] Connection id "0HN6I9FK1PTOL" accepted.
2024-09-11 12:24:23.840 +02:00 [DBG] Connection id "0HN6I9FK1PTOL" started.
2024-09-11 12:24:23.840 +02:00 [DBG] Connection id "0HN6I9FK1PTOM" accepted.
2024-09-11 12:24:23.848 +02:00 [DBG] Connection id "0HN6I9FK1PTOM" started.
2024-09-11 12:24:23.905 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 12:24:23.915 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 12:24:23.956 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 12:24:23.960 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:24:23.975 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:24:23.985 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:24:23.987 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:24:24.104 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 108.6105 ms
2024-09-11 12:24:24.121 +02:00 [DBG] Connection id "0HN6I9FK1PTOL" completed keep alive response.
2024-09-11 12:24:24.127 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 223.3067ms
2024-09-11 12:24:24.139 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/swagger-ui.css - null null
2024-09-11 12:24:24.148 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-09-11 12:24:24.151 +02:00 [DBG] Connection id "0HN6I9FK1PTON" accepted.
2024-09-11 12:24:24.151 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:24:24.154 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.css - null null
2024-09-11 12:24:24.155 +02:00 [DBG] Connection id "0HN6I9FK1PTON" started.
2024-09-11 12:24:24.156 +02:00 [DBG] Connection id "0HN6I9FK1PTOO" accepted.
2024-09-11 12:24:24.164 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:24:24.169 +02:00 [DBG] No candidates found for the request path '/swagger/index.css'
2024-09-11 12:24:24.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/swagger-ui-bundle.js - null null
2024-09-11 12:24:24.174 +02:00 [DBG] Connection id "0HN6I9FK1PTOO" started.
2024-09-11 12:24:24.175 +02:00 [DBG] Connection id "0HN6I9FK1PTOP" accepted.
2024-09-11 12:24:24.179 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:24:24.180 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:24:24.186 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-09-11 12:24:24.188 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/swagger-ui-standalone-preset.js - null null
2024-09-11 12:24:24.190 +02:00 [DBG] Connection id "0HN6I9FK1PTOP" started.
2024-09-11 12:24:24.192 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:24:24.195 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:24:24.196 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:24:24.201 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-09-11 12:24:24.203 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 12:24:24.209 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:24:24.209 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:24:24.211 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:24:24.215 +02:00 [INF] The file /swagger-ui.css was not modified
2024-09-11 12:24:24.216 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 12:24:24.218 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:24:24.220 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:24:24.222 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:24:24.227 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:24:24.230 +02:00 [DBG] Handled. Status code: 304 File: /swagger-ui.css
2024-09-11 12:24:24.230 +02:00 [INF] The file /index.css was not modified
2024-09-11 12:24:24.231 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:24:24.233 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:24:24.235 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:24:24.238 +02:00 [INF] HTTP GET /swagger/swagger-ui.css responded 304 in 32.7061 ms
2024-09-11 12:24:24.239 +02:00 [DBG] Handled. Status code: 304 File: /index.css
2024-09-11 12:24:24.241 +02:00 [INF] The file /swagger-ui-bundle.js was not modified
2024-09-11 12:24:24.244 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:24:24.246 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:24:24.250 +02:00 [DBG] Connection id "0HN6I9FK1PTOL" completed keep alive response.
2024-09-11 12:24:24.252 +02:00 [INF] HTTP GET /swagger/index.css responded 304 in 23.0698 ms
2024-09-11 12:24:24.254 +02:00 [DBG] Handled. Status code: 304 File: /swagger-ui-bundle.js
2024-09-11 12:24:24.256 +02:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2024-09-11 12:24:24.258 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:24:24.261 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/swagger-ui.css - 304 null text/css 121.3686ms
2024-09-11 12:24:24.264 +02:00 [DBG] Connection id "0HN6I9FK1PTOM" completed keep alive response.
2024-09-11 12:24:24.266 +02:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 304 in 25.1897 ms
2024-09-11 12:24:24.268 +02:00 [DBG] Handled. Status code: 304 File: /swagger-ui-standalone-preset.js
2024-09-11 12:24:24.270 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 0.7112 ms
2024-09-11 12:24:24.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.css - 304 null text/css 124.0396ms
2024-09-11 12:24:24.282 +02:00 [DBG] Connection id "0HN6I9FK1PTON" completed keep alive response.
2024-09-11 12:24:24.284 +02:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 304 in 28.6074 ms
2024-09-11 12:24:24.288 +02:00 [DBG] Connection id "0HN6I9FK1PTOP" completed keep alive response.
2024-09-11 12:24:24.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/swagger-ui-bundle.js - 304 null text/javascript 125.4463ms
2024-09-11 12:24:24.301 +02:00 [DBG] Connection id "0HN6I9FK1PTOO" completed keep alive response.
2024-09-11 12:24:24.303 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 99.914ms
2024-09-11 12:24:24.312 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 123.2216ms
2024-09-11 12:24:25.000 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 12:24:25.007 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 12:24:25.009 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:24:25.012 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:24:25.014 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:24:25.016 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:24:25.221 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 203.6770 ms
2024-09-11 12:24:25.227 +02:00 [DBG] Connection id "0HN6I9FK1PTOO" completed keep alive response.
2024-09-11 12:24:25.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 230.2645ms
2024-09-11 12:25:21.644 +02:00 [DBG] Connection id "0HN6I9FK1PTOL" received FIN.
2024-09-11 12:25:21.644 +02:00 [DBG] Connection id "0HN6I9FK1PTOM" received FIN.
2024-09-11 12:25:21.644 +02:00 [DBG] Connection id "0HN6I9FK1PTON" received FIN.
2024-09-11 12:25:21.644 +02:00 [DBG] Connection id "0HN6I9FK1PTOP" received FIN.
2024-09-11 12:25:21.645 +02:00 [DBG] Connection id "0HN6I9FK1PTOO" received FIN.
2024-09-11 12:25:21.649 +02:00 [DBG] Connection id "0HN6I9FK1PTOL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:25:21.650 +02:00 [DBG] Connection id "0HN6I9FK1PTOM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:25:21.652 +02:00 [DBG] Connection id "0HN6I9FK1PTON" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:25:21.654 +02:00 [DBG] Connection id "0HN6I9FK1PTOP" disconnecting.
2024-09-11 12:25:21.659 +02:00 [DBG] Connection id "0HN6I9FK1PTOL" disconnecting.
2024-09-11 12:25:21.661 +02:00 [DBG] Connection id "0HN6I9FK1PTOM" disconnecting.
2024-09-11 12:25:21.663 +02:00 [DBG] Connection id "0HN6I9FK1PTON" disconnecting.
2024-09-11 12:25:21.665 +02:00 [DBG] Connection id "0HN6I9FK1PTOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:25:21.668 +02:00 [DBG] Connection id "0HN6I9FK1PTOO" disconnecting.
2024-09-11 12:25:21.668 +02:00 [DBG] Connection id "0HN6I9FK1PTOL" stopped.
2024-09-11 12:25:21.669 +02:00 [DBG] Connection id "0HN6I9FK1PTOM" stopped.
2024-09-11 12:25:21.671 +02:00 [DBG] Connection id "0HN6I9FK1PTON" stopped.
2024-09-11 12:25:21.677 +02:00 [DBG] Connection id "0HN6I9FK1PTOO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:25:21.688 +02:00 [DBG] Connection id "0HN6I9FK1PTOP" stopped.
2024-09-11 12:25:21.688 +02:00 [DBG] Connection id "0HN6I9FK1PTOO" stopped.
2024-09-11 12:25:55.273 +02:00 [DBG] Connection id "0HN6I9FK1PTOQ" accepted.
2024-09-11 12:25:55.276 +02:00 [DBG] Connection id "0HN6I9FK1PTOQ" started.
2024-09-11 12:25:55.281 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 12:25:55.291 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 12:25:55.295 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:25:55.300 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:25:55.304 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:25:55.307 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:25:55.311 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:25:55.314 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 12:25:55.318 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:25:55.329 +02:00 [DBG] Connection id "0HN6I9FK1PTOQ", Request id "0HN6I9FK1PTOQ:00000001": started reading request body.
2024-09-11 12:25:55.332 +02:00 [DBG] Connection id "0HN6I9FK1PTOQ", Request id "0HN6I9FK1PTOQ:00000001": done reading request body.
2024-09-11 12:25:55.996 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 12:25:56.530 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:25:56.595 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:25:56.878 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:25:56.885 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:25:56.947 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 12:25:56.952 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 12:25:56.955 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 12:25:57.108 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 12:25:57.406 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:25:57.961 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 12:25:58.245 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 12:25:58.313 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:25:58.363 +02:00 [DBG] Created DbConnection. (45ms).
2024-09-11 12:25:58.371 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:25:59.289 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:25:59.298 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:25:59.310 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-11 12:25:59.327 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-09-11 12:25:59.343 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:26:00.387 +02:00 [INF] Executed DbCommand (1,047ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:26:00.483 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 12:26:00.557 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:00.570 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 170ms reading results.
2024-09-11 12:26:00.578 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:00.588 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (9ms).
2024-09-11 12:26:00.768 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 12:26:00.816 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:26:00.823 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:00.830 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:00.833 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:26:00.837 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 12:26:00.840 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 12:26:00.843 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:26:00.853 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:26:00.862 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:00.866 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 12:26:00.869 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:00.873 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:26:00.889 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 12:26:00.916 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:26:00.924 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:00.928 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:00.931 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:26:00.934 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:26:00.938 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 12:26:00.942 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:26:00.993 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:26:01.013 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.022 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-09-11 12:26:01.027 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.030 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:26:01.039 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 12:26:01.048 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 12:26:01.054 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.058 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.062 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:26:01.064 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:26:01.068 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:26:01.071 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:26:01.187 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:26:01.209 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 12:26:01.225 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.229 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-09-11 12:26:01.233 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.237 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 12:26:01.248 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 12:26:01.257 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:26:01.262 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.265 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.268 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:26:01.272 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 12:26:01.275 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 12:26:01.279 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:26:01.289 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:26:01.294 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.298 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:26:01.302 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.306 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 12:26:01.313 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.319 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.323 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:26:01.326 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:26:01.329 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:26:01.332 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:26:01.338 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:26:01.342 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 12:26:01.346 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.349 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 12:26:01.354 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.357 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:26:01.363 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.368 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.372 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:26:01.375 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:26:01.379 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 12:26:01.383 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:26:01.389 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:26:01.395 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.398 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:26:01.402 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.405 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:26:01.416 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 12:26:01.432 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:26:01.437 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 6126.3722 ms
2024-09-11 12:26:01.444 +02:00 [DBG] Connection id "0HN6I9FK1PTOQ" completed keep alive response.
2024-09-11 12:26:01.451 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:26:01.461 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:26:01.468 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-11 12:26:01.473 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 6191.7283ms
2024-09-11 12:28:11.656 +02:00 [DBG] Connection id "0HN6I9FK1PTOQ" disconnecting.
2024-09-11 12:28:11.665 +02:00 [DBG] Connection id "0HN6I9FK1PTOQ" stopped.
2024-09-11 12:28:11.675 +02:00 [DBG] Connection id "0HN6I9FK1PTOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:29:17.018 +02:00 [INF] Application is shutting down...
2024-09-11 12:29:17.019 +02:00 [DBG] Hosting stopping
2024-09-11 12:29:17.034 +02:00 [DBG] Hosting stopped
2024-09-11 12:29:51.859 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 12:29:51.977 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 12:29:52.060 +02:00 [DBG] Hosting starting
2024-09-11 12:29:52.072 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 12:29:52.089 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 12:29:52.106 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 12:29:52.116 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 12:29:52.123 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 12:29:52.128 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 12:29:52.136 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 12:29:52.142 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 12:29:52.149 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 12:29:52.152 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 12:29:52.262 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 12:29:52.266 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 12:29:52.269 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 12:29:52.271 +02:00 [INF] Hosting environment: Development
2024-09-11 12:29:52.274 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 12:29:52.277 +02:00 [DBG] Hosting started
2024-09-11 12:30:40.765 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" accepted.
2024-09-11 12:30:40.770 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" started.
2024-09-11 12:30:40.770 +02:00 [DBG] Connection id "0HN6I9J4CFLCS" accepted.
2024-09-11 12:30:40.777 +02:00 [DBG] Connection id "0HN6I9J4CFLCS" started.
2024-09-11 12:30:40.817 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 12:30:40.827 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 12:30:40.866 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 12:30:40.871 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:30:40.885 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:30:40.895 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:30:40.898 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:30:41.005 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 95.4909 ms
2024-09-11 12:30:41.018 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:30:41.023 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 207.2299ms
2024-09-11 12:30:41.035 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 12:30:41.041 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 12:30:41.044 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:30:41.048 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:30:41.053 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:30:41.055 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:30:41.060 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.0361 ms
2024-09-11 12:30:41.067 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:30:41.071 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 36.1061ms
2024-09-11 12:30:41.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 12:30:41.347 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 12:30:41.352 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:30:41.354 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/favicon-32x32.png - null null
2024-09-11 12:30:41.357 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:30:41.363 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-09-11 12:30:41.366 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:30:41.368 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:30:41.371 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:30:41.374 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:30:41.380 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:30:41.383 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:30:41.392 +02:00 [INF] The file /favicon-32x32.png was not modified
2024-09-11 12:30:41.400 +02:00 [DBG] Handled. Status code: 304 File: /favicon-32x32.png
2024-09-11 12:30:41.404 +02:00 [INF] HTTP GET /swagger/favicon-32x32.png responded 304 in 17.5629 ms
2024-09-11 12:30:41.409 +02:00 [DBG] Connection id "0HN6I9J4CFLCS" completed keep alive response.
2024-09-11 12:30:41.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/favicon-32x32.png - 304 null image/png 57.417ms
2024-09-11 12:30:41.588 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 211.5204 ms
2024-09-11 12:30:41.594 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:30:41.597 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 256.1005ms
2024-09-11 12:30:56.127 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 12:30:56.138 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 12:30:56.142 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:30:56.146 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:30:56.151 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:30:56.155 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:30:56.157 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:30:56.160 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 12:30:56.166 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:30:56.175 +02:00 [DBG] Connection id "0HN6I9J4CFLCR", Request id "0HN6I9J4CFLCR:00000004": started reading request body.
2024-09-11 12:30:56.180 +02:00 [DBG] Connection id "0HN6I9J4CFLCR", Request id "0HN6I9J4CFLCR:00000004": done reading request body.
2024-09-11 12:30:56.308 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 12:30:56.668 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:30:56.717 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:30:56.965 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:30:56.972 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:30:57.030 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 12:30:57.036 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 12:30:57.039 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 12:30:57.182 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 12:30:57.432 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:30:57.516 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 12:30:57.768 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 12:30:57.827 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:30:57.856 +02:00 [DBG] Created DbConnection. (26ms).
2024-09-11 12:30:57.865 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.078 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.087 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:30:58.100 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 12:30:58.114 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-09-11 12:30:58.129 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:30:58.197 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:30:58.284 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 12:30:58.351 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.364 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 154ms reading results.
2024-09-11 12:30:58.373 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.383 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (9ms).
2024-09-11 12:30:58.553 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 12:30:58.599 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:30:58.606 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.611 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.614 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:30:58.617 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 12:30:58.619 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:30:58.622 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:30:58.632 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:30:58.639 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.643 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 12:30:58.646 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.648 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:30:58.663 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 12:30:58.687 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:30:58.694 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.697 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.701 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:30:58.703 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:30:58.705 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:30:58.708 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:30:58.751 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:30:58.757 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.760 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:30:58.764 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.767 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:30:58.774 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 12:30:58.785 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 12:30:58.792 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.797 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.799 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:30:58.802 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:30:58.805 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:30:58.807 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:30:58.815 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:30:58.830 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 12:30:58.844 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.848 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 27ms reading results.
2024-09-11 12:30:58.851 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.854 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:30:58.862 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 12:30:58.871 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:30:58.877 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.880 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.883 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:30:58.885 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:30:58.889 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:30:58.891 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:30:58.898 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:30:58.904 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.907 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:30:58.910 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.914 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:30:58.922 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.926 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.929 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:30:58.933 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:30:58.935 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 12:30:58.939 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:30:58.944 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:30:58.949 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 12:30:58.954 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.956 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 12:30:58.959 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.962 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:30:58.969 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.973 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:58.976 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:30:58.978 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:30:58.981 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:30:58.984 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:30:58.989 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:30:58.996 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:59.000 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 12:30:59.003 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:59.006 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:30:59.017 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 12:30:59.032 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:30:59.038 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 2880.4683 ms
2024-09-11 12:30:59.042 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:30:59.050 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:30:59.058 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:30:59.065 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-11 12:30:59.070 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 2942.1575ms
2024-09-11 12:31:23.889 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks/all - null null
2024-09-11 12:31:23.899 +02:00 [DBG] 2 candidate(s) found for the request path '/api/v1/tasks/all'
2024-09-11 12:31:23.903 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/all' is valid for the request path '/api/v1/tasks/all'
2024-09-11 12:31:23.908 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/all'
2024-09-11 12:31:23.914 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-11 12:31:23.918 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:31:23.921 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:31:23.924 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:31:23.933 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2024-09-11 12:31:23.939 +02:00 [INF] AuthenticationScheme: Identity.Bearer was forbidden.
2024-09-11 12:31:23.944 +02:00 [INF] HTTP GET /api/v1/tasks/all responded 403 in 19.7174 ms
2024-09-11 12:31:23.948 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:31:23.951 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks/all - 403 0 null 61.4691ms
2024-09-11 12:31:41.570 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks - null null
2024-09-11 12:31:41.577 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-11 12:31:41.580 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-11 12:31:41.584 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:31:41.588 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:31:41.592 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:31:41.595 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:31:41.600 +02:00 [DBG] Authorization was successful.
2024-09-11 12:31:41.602 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:31:41.622 +02:00 [INF] Route matched with {action = "GetAllUserTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllUserTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:31:41.629 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:31:41.633 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:31:41.639 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:31:41.643 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:31:41.647 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:31:41.653 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:31:41.656 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:31:41.678 +02:00 [INF] Getting all string@test.com Tasks.
2024-09-11 12:31:41.765 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:31:41.774 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()
    .Where(t => t.CreatedByUserId == __userId_0 || t.AssignedToUserId == __userId_0)'
2024-09-11 12:31:41.786 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TaskItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
        SELECT t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
        FROM TMS.Tasks AS t
        WHERE (t.CreatedByUserId == @__userId_0) || (t.AssignedToUserId == @__userId_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:31:41.795 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:31:41.798 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 12:31:41.800 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:31:41.805 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:31:41.809 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:31:41.811 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:31:41.815 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:31:41.818 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:31:41.833 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:31:41.865 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 9}'.
2024-09-11 12:31:41.900 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:31:41.905 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 65ms reading results.
2024-09-11 12:31:41.909 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:31:41.912 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:31:41.942 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 12:31:41.951 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 12:31:41.956 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 12:31:41.961 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 12:31:41.963 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 12:31:41.966 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 12:31:41.969 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 12:31:42.002 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API) in 347.2398ms
2024-09-11 12:31:42.007 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:31:42.010 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 415.2658 ms
2024-09-11 12:31:42.014 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:31:42.017 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:31:42.019 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:31:42.023 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 12:31:42.027 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks - 200 null application/json; charset=utf-8 457.1585ms
2024-09-11 12:32:46.919 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 122
2024-09-11 12:32:46.929 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 12:32:46.933 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:32:46.936 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:32:46.939 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:32:46.942 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:32:46.946 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:32:46.950 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:32:46.952 +02:00 [DBG] Connection id "0HN6I9J4CFLCR", Request id "0HN6I9J4CFLCR:00000007": started reading request body.
2024-09-11 12:32:46.956 +02:00 [DBG] Connection id "0HN6I9J4CFLCR", Request id "0HN6I9J4CFLCR:00000007": done reading request body.
2024-09-11 12:32:46.985 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:32:46.993 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:32:46.995 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 12:32:46.998 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.001 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.005 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:32:47.008 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:32:47.010 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:32:47.012 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='LEAD@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:32:47.022 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='LEAD@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:32:47.027 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: b018de2e-7622-49cf-8392-c3ffbe73143b}'.
2024-09-11 12:32:47.030 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.034 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 12:32:47.037 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.040 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:32:47.184 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.189 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.192 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:32:47.195 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:32:47.198 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:32:47.200 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:32:47.209 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:32:47.215 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.218 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:32:47.223 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.226 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:32:47.231 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.234 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.238 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:32:47.242 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 12:32:47.244 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 12:32:47.247 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:32:47.258 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:32:47.264 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.267 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:32:47.272 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.275 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:32:47.279 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.282 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.285 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:32:47.287 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:32:47.290 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:32:47.293 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:32:47.301 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:32:47.307 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 12:32:47.311 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.315 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 12:32:47.318 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.321 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:32:47.325 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.328 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.333 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:32:47.336 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:32:47.339 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 12:32:47.342 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:32:47.350 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:32:47.355 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.359 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:32:47.362 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.365 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:32:47.368 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 12:32:47.373 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:32:47.376 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 429.7917 ms
2024-09-11 12:32:47.380 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:32:47.383 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:32:47.385 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:32:47.388 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 12:32:47.391 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 472.6218ms
2024-09-11 12:32:52.091 +02:00 [DBG] Connection id "0HN6I9J4CFLCS" disconnecting.
2024-09-11 12:32:52.105 +02:00 [DBG] Connection id "0HN6I9J4CFLCS" stopped.
2024-09-11 12:32:52.117 +02:00 [DBG] Connection id "0HN6I9J4CFLCS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:33:07.718 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks/all - null null
2024-09-11 12:33:07.725 +02:00 [DBG] 2 candidate(s) found for the request path '/api/v1/tasks/all'
2024-09-11 12:33:07.728 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/all' is valid for the request path '/api/v1/tasks/all'
2024-09-11 12:33:07.733 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/all'
2024-09-11 12:33:07.737 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-11 12:33:07.740 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:33:07.744 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:33:07.747 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:33:07.752 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2024-09-11 12:33:07.756 +02:00 [INF] AuthenticationScheme: Identity.Bearer was forbidden.
2024-09-11 12:33:07.760 +02:00 [INF] HTTP GET /api/v1/tasks/all responded 403 in 12.7036 ms
2024-09-11 12:33:07.764 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:33:07.767 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks/all - 403 0 null 48.915ms
2024-09-11 12:33:23.249 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks - null null
2024-09-11 12:33:23.257 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-11 12:33:23.260 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-11 12:33:23.264 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:33:23.266 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:33:23.269 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:33:23.272 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:33:23.277 +02:00 [DBG] Authorization was successful.
2024-09-11 12:33:23.280 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:33:23.285 +02:00 [INF] Route matched with {action = "GetAllUserTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllUserTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:33:23.290 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:33:23.292 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:33:23.296 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:33:23.300 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:33:23.304 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:33:23.307 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:33:23.310 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:33:23.315 +02:00 [INF] Getting all lead@test.com Tasks.
2024-09-11 12:33:23.320 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:33:23.325 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:33:23.327 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 12:33:23.330 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:33:23.334 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:33:23.336 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:33:23.339 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:33:23.341 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:33:23.344 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:33:23.354 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:33:23.359 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:33:23.364 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 12:33:23.369 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:33:23.372 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:33:23.376 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 12:33:23.382 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 12:33:23.386 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 12:33:23.389 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 12:33:23.390 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 12:33:23.392 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 12:33:23.396 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 12:33:23.401 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API) in 94.2031ms
2024-09-11 12:33:23.405 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:33:23.407 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 134.8397 ms
2024-09-11 12:33:23.411 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:33:23.415 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:33:23.418 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:33:23.421 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 12:33:23.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks - 200 null application/json; charset=utf-8 174.8649ms
2024-09-11 12:34:03.194 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/tasks - application/json 129
2024-09-11 12:34:03.201 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-11 12:34:03.205 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-11 12:34:03.209 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-11 12:34:03.211 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:34:03.214 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:34:03.216 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:34:03.220 +02:00 [DBG] Authorization was successful.
2024-09-11 12:34:03.223 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-11 12:34:03.238 +02:00 [INF] Route matched with {action = "CreateTask", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTask(TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:34:03.243 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:34:03.246 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:34:03.250 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:34:03.257 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:34:03.260 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:34:03.263 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:34:03.266 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:34:03.274 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' ...
2024-09-11 12:34:03.281 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' using the name '' in request data ...
2024-09-11 12:34:03.286 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 12:34:03.293 +02:00 [DBG] Connection id "0HN6I9J4CFLCR", Request id "0HN6I9J4CFLCR:0000000A": started reading request body.
2024-09-11 12:34:03.296 +02:00 [DBG] Connection id "0HN6I9J4CFLCR", Request id "0HN6I9J4CFLCR:0000000A": done reading request body.
2024-09-11 12:34:03.305 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'
2024-09-11 12:34:03.309 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-11 12:34:03.312 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-11 12:34:03.315 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand' ...
2024-09-11 12:34:03.512 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Tasks.Commands.CreateTask.CreateTaskCommand'.
2024-09-11 12:34:03.526 +02:00 [INF] lead@test.com with Id b018de2e-7622-49cf-8392-c3ffbe73143b Creating new task {"Title":"ld task","Description":"string","DueDate":"2024-09-15T10:33:40.4130000Z","Status":1,"PriorityLevel":0,"$type":"CreateTaskCommand"}
2024-09-11 12:34:03.543 +02:00 [INF] Authorizing User lead@test.com , to "Create" for the task ld task
2024-09-11 12:34:03.549 +02:00 [INF] Successful Authorization - Create Operation.
2024-09-11 12:34:03.555 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:34:03.597 +02:00 [DBG] 'TMSDbContext' generated temporary value '-2147482647' for the property 'TaskItem.TaskId'.
2024-09-11 12:34:03.616 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: -2147482647}'.
2024-09-11 12:34:03.627 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 12:34:03.633 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 12:34:03.661 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 12:34:03.779 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:34:03.781 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 12:34:03.783 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:34:03.788 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:34:03.794 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:34:03.797 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:34:03.805 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-11 12:34:03.809 +02:00 [DBG] Executing DbCommand [Parameters=[@p0=NULL (DbType = Int32), @p1=NULL (Size = 450), @p2='b018de2e-7622-49cf-8392-c3ffbe73143b' (Nullable = false) (Size = 450), @p3='string' (Size = 4000), @p4='2024-09-15T10:33:40.4130000Z', @p5='0', @p6='1', @p7='ld task' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TMS].[Tasks] ([AssignedToTeamId], [AssignedToUserId], [CreatedByUserId], [Description], [DueDate], [PriorityLevel], [Status], [Title])
OUTPUT INSERTED.[TaskId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-09-11 12:34:03.909 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@p0=NULL (DbType = Int32), @p1=NULL (Size = 450), @p2='b018de2e-7622-49cf-8392-c3ffbe73143b' (Nullable = false) (Size = 450), @p3='string' (Size = 4000), @p4='2024-09-15T10:33:40.4130000Z', @p5='0', @p6='1', @p7='ld task' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TMS].[Tasks] ([AssignedToTeamId], [AssignedToUserId], [CreatedByUserId], [Description], [DueDate], [PriorityLevel], [Status], [Title])
OUTPUT INSERTED.[TaskId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-09-11 12:34:03.940 +02:00 [DBG] The foreign key property 'TaskItem.TaskId' was detected as changed from '-2147482647' to '13' for entity with key '{TaskId: 13}'.
2024-09-11 12:34:03.955 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:34:03.960 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 38ms reading results.
2024-09-11 12:34:03.964 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:34:03.967 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:34:03.989 +02:00 [DBG] The 'TaskItem' entity with key '{TaskId: 13}' tracked by 'TMSDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-09-11 12:34:03.996 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 1 entities written to the database.
2024-09-11 12:34:04.002 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 12:34:04.009 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 12:34:04.012 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 12:34:04.013 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 12:34:04.016 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-09-11 12:34:04.019 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'null'.
2024-09-11 12:34:04.042 +02:00 [DBG] Found the endpoints ["TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)"] for address (TaskId=[13],action=[GetTaskDetails],controller=[Tasks])
2024-09-11 12:34:04.048 +02:00 [DBG] Successfully processed template api/v1/tasks/{taskId} for TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) resulting in /api/v1/tasks/13 and 
2024-09-11 12:34:04.053 +02:00 [DBG] Link generation succeeded for endpoints ["TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)"] with result /api/v1/tasks/13
2024-09-11 12:34:04.056 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API) in 793.7051ms
2024-09-11 12:34:04.059 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.CreateTask (TaskManagementSystem.API)'
2024-09-11 12:34:04.061 +02:00 [INF] HTTP POST /api/v1/tasks responded 201 in 844.8448 ms
2024-09-11 12:34:04.065 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:34:04.068 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:34:04.072 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:34:04.075 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 12:34:04.079 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/tasks - 201 0 null 884.9393ms
2024-09-11 12:35:14.915 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks/all - null null
2024-09-11 12:35:14.923 +02:00 [DBG] 2 candidate(s) found for the request path '/api/v1/tasks/all'
2024-09-11 12:35:14.926 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/all' is valid for the request path '/api/v1/tasks/all'
2024-09-11 12:35:14.930 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/all'
2024-09-11 12:35:14.933 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllTasks (TaskManagementSystem.API)'
2024-09-11 12:35:14.938 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:35:14.941 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:35:14.945 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:35:14.946 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2024-09-11 12:35:14.948 +02:00 [INF] AuthenticationScheme: Identity.Bearer was forbidden.
2024-09-11 12:35:14.951 +02:00 [INF] HTTP GET /api/v1/tasks/all responded 403 in 6.1279 ms
2024-09-11 12:35:14.955 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:35:14.958 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks/all - 403 0 null 42.6006ms
2024-09-11 12:35:21.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks - null null
2024-09-11 12:35:21.828 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-11 12:35:21.831 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-11 12:35:21.835 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:35:21.839 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:35:21.843 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:35:21.846 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:35:21.848 +02:00 [DBG] Authorization was successful.
2024-09-11 12:35:21.850 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:35:21.854 +02:00 [INF] Route matched with {action = "GetAllUserTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllUserTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:35:21.859 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:35:21.862 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:35:21.865 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:35:21.870 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:35:21.874 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:35:21.877 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:35:21.879 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:35:21.887 +02:00 [INF] Getting all lead@test.com Tasks.
2024-09-11 12:35:21.891 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:35:21.895 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:35:21.897 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 12:35:21.901 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:35:21.906 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:35:21.910 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:35:21.911 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 12:35:21.914 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:35:21.917 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:35:21.925 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:35:21.931 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 13}'.
2024-09-11 12:35:21.937 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:35:21.939 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 12:35:21.943 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:35:21.945 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:35:21.948 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 12:35:21.955 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 12:35:21.958 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 12:35:21.961 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 12:35:21.962 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 12:35:21.964 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 12:35:21.968 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 12:35:21.972 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API) in 95.3071ms
2024-09-11 12:35:21.976 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:35:21.979 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 133.2553 ms
2024-09-11 12:35:21.984 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:35:21.988 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:35:21.991 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:35:21.994 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 12:35:21.997 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks - 200 null application/json; charset=utf-8 176.5344ms
2024-09-11 12:36:00.662 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 12:36:00.668 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 12:36:00.672 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:36:00.675 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:36:00.678 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:36:00.681 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:36:00.683 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:36:00.685 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:36:00.687 +02:00 [DBG] Connection id "0HN6I9J4CFLCR", Request id "0HN6I9J4CFLCR:0000000D": started reading request body.
2024-09-11 12:36:00.691 +02:00 [DBG] Connection id "0HN6I9J4CFLCR", Request id "0HN6I9J4CFLCR:0000000D": done reading request body.
2024-09-11 12:36:00.715 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:36:00.722 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:36:00.726 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 12:36:00.729 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.732 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.734 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:36:00.737 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:36:00.740 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:36:00.745 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:36:00.755 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:36:00.762 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 12:36:00.765 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.769 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 12:36:00.772 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.774 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:36:00.919 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.924 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.927 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:36:00.930 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:36:00.932 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:36:00.934 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:36:00.942 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:36:00.948 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.950 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 12:36:00.953 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.956 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:36:00.962 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.965 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.968 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:36:00.970 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:36:00.972 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:36:00.976 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:36:00.986 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:36:00.992 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:00.996 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:36:00.999 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.002 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:36:01.006 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.009 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.012 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:36:01.014 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:36:01.017 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:36:01.020 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:36:01.028 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:36:01.033 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 12:36:01.038 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.041 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 12:36:01.044 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.047 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:36:01.051 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.054 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.056 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:36:01.059 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:36:01.062 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:36:01.064 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:36:01.071 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:36:01.076 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.079 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 12:36:01.083 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.086 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:36:01.091 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.094 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.097 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:36:01.099 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:36:01.102 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:36:01.105 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:36:01.112 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:36:01.118 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 12:36:01.121 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.123 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 12:36:01.127 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.130 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:36:01.134 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.136 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.139 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:36:01.143 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 12:36:01.145 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 12:36:01.148 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:36:01.152 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:36:01.156 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.161 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 12:36:01.165 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.168 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:36:01.171 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 12:36:01.173 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:36:01.176 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 493.1077 ms
2024-09-11 12:36:01.181 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:36:01.184 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:36:01.187 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:01.189 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 12:36:01.193 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 530.4278ms
2024-09-11 12:36:28.801 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks - null null
2024-09-11 12:36:28.808 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-11 12:36:28.811 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-11 12:36:28.814 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:36:28.816 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:36:28.820 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:36:28.824 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:36:28.826 +02:00 [DBG] Authorization was successful.
2024-09-11 12:36:28.829 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:36:28.831 +02:00 [INF] Route matched with {action = "GetAllUserTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllUserTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:36:28.835 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:36:28.840 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:36:28.843 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:36:28.846 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:36:28.850 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:36:28.855 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:36:28.858 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:36:28.861 +02:00 [INF] Getting all string@test.com Tasks.
2024-09-11 12:36:28.865 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:36:28.871 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:36:28.872 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 12:36:28.875 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:28.877 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:28.880 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:36:28.882 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:36:28.886 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 12:36:28.889 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:36:28.896 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:36:28.902 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 9}'.
2024-09-11 12:36:28.906 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 13}'.
2024-09-11 12:36:28.910 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:28.913 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-09-11 12:36:28.916 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:28.919 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:36:28.922 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 12:36:28.927 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 12:36:28.930 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 12:36:28.933 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 12:36:28.935 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 12:36:28.938 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 12:36:28.941 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 12:36:28.944 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API) in 88.8555ms
2024-09-11 12:36:28.947 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:36:28.949 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 125.6458 ms
2024-09-11 12:36:28.954 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" completed keep alive response.
2024-09-11 12:36:28.957 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:36:28.959 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:36:28.962 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 12:36:28.965 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks - 200 null application/json; charset=utf-8 164.1006ms
2024-09-11 12:38:39.399 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" disconnecting.
2024-09-11 12:38:39.403 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" stopped.
2024-09-11 12:38:39.406 +02:00 [DBG] Connection id "0HN6I9J4CFLCR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:39:14.675 +02:00 [DBG] Connection id "0HN6I9J4CFLCT" accepted.
2024-09-11 12:39:14.679 +02:00 [DBG] Connection id "0HN6I9J4CFLCT" started.
2024-09-11 12:39:14.682 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5091/api/v1/tasks/13 - application/json 17
2024-09-11 12:39:14.687 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/13'
2024-09-11 12:39:14.690 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/13'
2024-09-11 12:39:14.694 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API)'
2024-09-11 12:39:14.698 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:39:14.700 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:39:14.703 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:39:14.705 +02:00 [DBG] Authorization was successful.
2024-09-11 12:39:14.707 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API)'
2024-09-11 12:39:14.718 +02:00 [INF] Route matched with {action = "UpdateTask", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateTask(Int32, TMS.Application.Tasks.Dtos.UpdateTaskDto) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:39:14.723 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:39:14.726 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:39:14.729 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:39:14.734 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:39:14.738 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:39:14.741 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:39:14.743 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:39:14.747 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-11 12:39:14.751 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-11 12:39:14.754 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:39:14.757 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:39:14.759 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-11 12:39:14.763 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:39:14.767 +02:00 [DBG] Attempting to bind parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto' ...
2024-09-11 12:39:14.770 +02:00 [DBG] Attempting to bind parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto' using the name '' in request data ...
2024-09-11 12:39:14.773 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 12:39:14.782 +02:00 [DBG] Connection id "0HN6I9J4CFLCT", Request id "0HN6I9J4CFLCT:00000001": started reading request body.
2024-09-11 12:39:14.786 +02:00 [DBG] Connection id "0HN6I9J4CFLCT", Request id "0HN6I9J4CFLCT:00000001": done reading request body.
2024-09-11 12:39:14.790 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Tasks.Dtos.UpdateTaskDto'
2024-09-11 12:39:14.792 +02:00 [DBG] Done attempting to bind parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto'.
2024-09-11 12:39:14.795 +02:00 [DBG] Done attempting to bind parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto'.
2024-09-11 12:39:14.798 +02:00 [DBG] Attempting to validate the bound parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto' ...
2024-09-11 12:39:14.831 +02:00 [DBG] Done attempting to validate the bound parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto'.
2024-09-11 12:39:14.841 +02:00 [INF] Updating Task with Id: 13 with {"Command":{"Title":null,"Description":null,"DueDate":"0001-01-01T00:00:00.0000000","Status":2,"PriorityLevel":null,"$type":"UpdateTaskDto"},"TaskId":13,"$type":"UpdateTaskCommand"}
2024-09-11 12:39:14.858 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:39:14.867 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()
    .FirstOrDefault(t => t.TaskId == __taskId_0)'
2024-09-11 12:39:14.876 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TaskItem>(
    asyncEnumerable: new SingleQueryingEnumerable<TaskItem>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
            SELECT TOP(1) t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
            FROM TMS.Tasks AS t
            WHERE t.TaskId == @__taskId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 12:39:14.885 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:39:14.888 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 12:39:14.890 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:39:14.893 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:39:14.898 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:39:14.900 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 12:39:14.902 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:39:14.904 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-11 12:39:14.913 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__taskId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-11 12:39:14.919 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 13}'.
2024-09-11 12:39:14.922 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:39:14.925 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 12:39:14.928 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:39:14.932 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:39:14.935 +02:00 [INF] Authorizing User string@test.com , to "Update" for the task ld task
2024-09-11 12:39:14.938 +02:00 [INF] Authorization Faild.
2024-09-11 12:39:14.944 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API) in 203.0645ms
2024-09-11 12:39:14.949 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API)'
2024-09-11 12:39:14.951 +02:00 [ERR] HTTP PUT /api/v1/tasks/13 responded 500 in 247.8646 ms
TMS.Domain.Exceptions.ForbiddenException: Exception of type 'TMS.Domain.Exceptions.ForbiddenException' was thrown.
   at TMS.Application.Tasks.Commands.UpdateTask.UpdateTaskCommandHandler.Handle(UpdateTaskCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Tasks\Commands\UpdateTask\UpdateTaskCommandHandler.cs:line 31
   at TaskManagementSystem.API.Controllers.TasksController.UpdateTask(Int32 taskId, UpdateTaskDto commandDto) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TasksController.cs:line 77
   at lambda_method367(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 12:39:15.002 +02:00 [DBG] Connection id "0HN6I9J4CFLCT" completed keep alive response.
2024-09-11 12:39:15.005 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:39:15.008 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:39:15.011 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 12:39:15.015 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5091/api/v1/tasks/13 - 403 0 null 333.5587ms
2024-09-11 12:41:26.013 +02:00 [DBG] Connection id "0HN6I9J4CFLCT" disconnecting.
2024-09-11 12:41:26.017 +02:00 [DBG] Connection id "0HN6I9J4CFLCT" stopped.
2024-09-11 12:41:26.019 +02:00 [DBG] Connection id "0HN6I9J4CFLCT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:42:06.873 +02:00 [DBG] Connection id "0HN6I9J4CFLCU" accepted.
2024-09-11 12:42:06.875 +02:00 [DBG] Connection id "0HN6I9J4CFLCU" started.
2024-09-11 12:42:06.879 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks/13 - null null
2024-09-11 12:42:06.885 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/13'
2024-09-11 12:42:06.889 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/13'
2024-09-11 12:42:06.895 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-11 12:42:06.899 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:42:06.902 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:42:06.904 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:42:06.908 +02:00 [DBG] Authorization was successful.
2024-09-11 12:42:06.911 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-11 12:42:06.920 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:42:06.926 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:42:06.929 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:42:06.932 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:42:06.938 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:42:06.944 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:42:06.946 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:42:06.949 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:42:06.952 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-11 12:42:06.956 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-11 12:42:06.959 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:42:06.962 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:42:06.964 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-11 12:42:06.966 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:42:06.976 +02:00 [INF] Getting task with Id: 13.
2024-09-11 12:42:06.979 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:42:06.983 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:42:06.986 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 12:42:06.989 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:42:06.991 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:42:06.994 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:42:06.995 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 12:42:06.998 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:42:07.000 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-11 12:42:07.008 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__taskId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-11 12:42:07.012 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 13}'.
2024-09-11 12:42:07.015 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:42:07.018 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 12:42:07.022 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:42:07.024 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:42:07.027 +02:00 [INF] Authorizing User string@test.com , to "Read" for the task ld task
2024-09-11 12:42:07.032 +02:00 [INF] Successful Authorization - Read Operation.
2024-09-11 12:42:07.036 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 12:42:07.041 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 12:42:07.043 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 12:42:07.047 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 12:42:07.048 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 12:42:07.050 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 12:42:07.052 +02:00 [INF] Executing OkObjectResult, writing value of type 'TMS.Application.Tasks.Dtos.TaskDto'.
2024-09-11 12:42:07.056 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 109.2631ms
2024-09-11 12:42:07.058 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-11 12:42:07.060 +02:00 [INF] HTTP GET /api/v1/tasks/13 responded 200 in 155.6327 ms
2024-09-11 12:42:07.063 +02:00 [DBG] Connection id "0HN6I9J4CFLCU" completed keep alive response.
2024-09-11 12:42:07.066 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:42:07.068 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:42:07.071 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 12:42:07.074 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks/13 - 200 null application/json; charset=utf-8 194.7065ms
2024-09-11 12:42:57.466 +02:00 [INF] Application is shutting down...
2024-09-11 12:42:57.468 +02:00 [DBG] Hosting stopping
2024-09-11 12:42:57.487 +02:00 [DBG] Connection id "0HN6I9J4CFLCU" disconnecting.
2024-09-11 12:42:57.491 +02:00 [DBG] Connection id "0HN6I9J4CFLCU" stopped.
2024-09-11 12:42:57.495 +02:00 [DBG] Connection id "0HN6I9J4CFLCU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:42:57.502 +02:00 [DBG] Hosting stopped
2024-09-11 12:44:21.360 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 12:44:21.477 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 12:44:21.560 +02:00 [DBG] Hosting starting
2024-09-11 12:44:21.572 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 12:44:21.586 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 12:44:21.600 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 12:44:21.609 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 12:44:21.615 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 12:44:21.619 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 12:44:21.626 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 12:44:21.630 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 12:44:21.635 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 12:44:21.637 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 12:44:21.735 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 12:44:21.738 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 12:44:21.741 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 12:44:21.744 +02:00 [INF] Hosting environment: Development
2024-09-11 12:44:21.746 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 12:44:21.749 +02:00 [DBG] Hosting started
2024-09-11 12:44:26.342 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" accepted.
2024-09-11 12:44:26.346 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" started.
2024-09-11 12:44:26.347 +02:00 [DBG] Connection id "0HN6I9QQDPMMV" accepted.
2024-09-11 12:44:26.352 +02:00 [DBG] Connection id "0HN6I9QQDPMMV" started.
2024-09-11 12:44:26.394 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 12:44:26.403 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 12:44:26.445 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 12:44:26.449 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:44:26.463 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:44:26.474 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:44:26.477 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:44:26.582 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 95.4458 ms
2024-09-11 12:44:26.595 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" completed keep alive response.
2024-09-11 12:44:26.601 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 207.9833ms
2024-09-11 12:44:26.613 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 12:44:26.618 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 12:44:26.621 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:44:26.626 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:44:26.629 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:44:26.632 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:44:26.638 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 3.0842 ms
2024-09-11 12:44:26.644 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" completed keep alive response.
2024-09-11 12:44:26.647 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 33.6249ms
2024-09-11 12:44:26.899 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 12:44:26.909 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 12:44:26.913 +02:00 [DBG] Request did not match any endpoints
2024-09-11 12:44:26.917 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:44:26.922 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:44:26.928 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:44:27.143 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 212.6661 ms
2024-09-11 12:44:27.149 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" completed keep alive response.
2024-09-11 12:44:27.152 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 253.2177ms
2024-09-11 12:44:45.061 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 12:44:45.076 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 12:44:45.080 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:44:45.086 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 12:44:45.091 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 12:44:45.093 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 12:44:45.097 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:44:45.100 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 12:44:45.107 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:44:45.115 +02:00 [DBG] Connection id "0HN6I9QQDPMMU", Request id "0HN6I9QQDPMMU:00000004": started reading request body.
2024-09-11 12:44:45.121 +02:00 [DBG] Connection id "0HN6I9QQDPMMU", Request id "0HN6I9QQDPMMU:00000004": done reading request body.
2024-09-11 12:44:45.252 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 12:44:45.626 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:44:45.676 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:44:45.935 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:44:45.942 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 12:44:45.999 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 12:44:46.005 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 12:44:46.008 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 12:44:46.153 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 12:44:46.414 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:44:46.500 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 12:44:46.766 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 12:44:46.826 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:44:46.855 +02:00 [DBG] Created DbConnection. (26ms).
2024-09-11 12:44:46.863 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.086 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.095 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:44:47.108 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-11 12:44:47.123 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-09-11 12:44:47.142 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:44:47.209 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 12:44:47.301 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 12:44:47.369 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.383 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 160ms reading results.
2024-09-11 12:44:47.391 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.403 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (12ms).
2024-09-11 12:44:47.575 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 12:44:47.622 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:44:47.630 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.636 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.640 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:44:47.642 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:44:47.647 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 12:44:47.651 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:44:47.659 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 12:44:47.668 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.672 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 12:44:47.676 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.679 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:44:47.693 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 12:44:47.718 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:44:47.725 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.730 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.733 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:44:47.735 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:44:47.738 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:44:47.742 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:44:47.752 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 12:44:47.760 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.763 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:44:47.767 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.769 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:44:47.776 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 12:44:47.789 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 12:44:47.795 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.799 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.802 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:44:47.805 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:44:47.808 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:44:47.810 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:44:47.819 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:44:47.836 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 12:44:47.851 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.855 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 29ms reading results.
2024-09-11 12:44:47.858 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.861 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 12:44:47.869 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 12:44:47.878 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:44:47.884 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.888 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.891 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:44:47.893 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 12:44:47.895 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:44:47.901 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:44:47.908 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:44:47.913 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.918 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 12:44:47.921 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.924 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:44:47.931 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.935 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.938 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:44:47.940 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:44:47.942 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:44:47.946 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:44:47.953 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 12:44:47.958 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 12:44:47.962 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.966 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 12:44:47.969 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.972 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:44:47.977 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.982 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:47.987 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:44:47.989 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:44:47.992 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:44:47.996 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:44:48.001 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 12:44:48.006 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:48.010 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 12:44:48.013 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:48.017 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 12:44:48.032 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 12:44:48.047 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 12:44:48.053 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 2957.4305 ms
2024-09-11 12:44:48.060 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" completed keep alive response.
2024-09-11 12:44:48.067 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:44:48.076 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:44:48.082 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-11 12:44:48.087 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3026.0433ms
2024-09-11 12:45:15.154 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks - null null
2024-09-11 12:45:15.178 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-11 12:45:15.184 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-11 12:45:15.189 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:45:15.199 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:45:15.202 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:45:15.205 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:45:15.215 +02:00 [DBG] Authorization was successful.
2024-09-11 12:45:15.218 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:45:15.237 +02:00 [INF] Route matched with {action = "GetAllUserTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllUserTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:45:15.245 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:45:15.248 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:45:15.252 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:45:15.256 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:45:15.260 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:45:15.266 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:45:15.269 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:45:15.284 +02:00 [INF] Getting all string@test.com Tasks.
2024-09-11 12:45:15.375 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:45:15.383 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()
    .Where(t => t.CreatedByUserId == __userId_0 || t.AssignedToUserId == __userId_0)'
2024-09-11 12:45:15.396 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TaskItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
        SELECT t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
        FROM TMS.Tasks AS t
        WHERE (t.CreatedByUserId == @__userId_0) || (t.AssignedToUserId == @__userId_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 12:45:15.408 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:45:15.412 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 12:45:15.416 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:45:15.419 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:45:15.422 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:45:15.424 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 12:45:15.427 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 12:45:15.432 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:45:15.439 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 12:45:15.472 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 9}'.
2024-09-11 12:45:15.513 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 13}'.
2024-09-11 12:45:15.516 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:45:15.519 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 73ms reading results.
2024-09-11 12:45:15.522 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:45:15.525 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:45:15.555 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 12:45:15.563 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 12:45:15.567 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 12:45:15.571 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 12:45:15.573 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 12:45:15.577 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 12:45:15.581 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 12:45:15.614 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API) in 345.8492ms
2024-09-11 12:45:15.618 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 12:45:15.620 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 415.0791 ms
2024-09-11 12:45:15.624 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" completed keep alive response.
2024-09-11 12:45:15.628 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:45:15.631 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:45:15.634 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 12:45:15.637 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks - 200 null application/json; charset=utf-8 483.1487ms
2024-09-11 12:46:38.063 +02:00 [DBG] Connection id "0HN6I9QQDPMMV" disconnecting.
2024-09-11 12:46:38.070 +02:00 [DBG] Connection id "0HN6I9QQDPMMV" stopped.
2024-09-11 12:46:38.073 +02:00 [DBG] Connection id "0HN6I9QQDPMMV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:47:26.536 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" disconnecting.
2024-09-11 12:47:26.539 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" stopped.
2024-09-11 12:47:26.542 +02:00 [DBG] Connection id "0HN6I9QQDPMMU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:47:33.281 +02:00 [DBG] Connection id "0HN6I9QQDPMN0" accepted.
2024-09-11 12:47:33.285 +02:00 [DBG] Connection id "0HN6I9QQDPMN0" started.
2024-09-11 12:47:33.289 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks/13 - null null
2024-09-11 12:47:33.295 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/13'
2024-09-11 12:47:33.298 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/13'
2024-09-11 12:47:33.301 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-11 12:47:33.305 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:47:33.308 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:47:33.312 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:47:33.316 +02:00 [DBG] Authorization was successful.
2024-09-11 12:47:33.319 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-11 12:47:33.336 +02:00 [INF] Route matched with {action = "GetTaskDetails", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Tasks.Dtos.TaskDto]] GetTaskDetails(Int32) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:47:33.341 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:47:33.345 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:47:33.348 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:47:33.353 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:47:33.356 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:47:33.360 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:47:33.363 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:47:33.370 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-11 12:47:33.377 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-11 12:47:33.382 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:47:33.386 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:47:33.388 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-11 12:47:33.405 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:47:33.417 +02:00 [INF] Getting task with Id: 13.
2024-09-11 12:47:33.438 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:47:33.447 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()
    .FirstOrDefault(t => t.TaskId == __taskId_0)'
2024-09-11 12:47:33.458 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TaskItem>(
    asyncEnumerable: new SingleQueryingEnumerable<TaskItem>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
            SELECT TOP(1) t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
            FROM TMS.Tasks AS t
            WHERE t.TaskId == @__taskId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 12:47:33.465 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:47:33.468 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 12:47:33.471 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:47:33.474 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:47:33.478 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:47:33.482 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 12:47:33.485 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 12:47:33.489 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-11 12:47:33.498 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__taskId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-11 12:47:33.503 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 13}'.
2024-09-11 12:47:33.507 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:47:33.511 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 12:47:33.515 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:47:33.518 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:47:33.522 +02:00 [INF] Authorizing User string@test.com , to "Read" for the task ld task
2024-09-11 12:47:33.529 +02:00 [INF] Successful Authorization - Read/Update Operation.
2024-09-11 12:47:33.536 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 12:47:33.542 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 12:47:33.546 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 12:47:33.549 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 12:47:33.551 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 12:47:33.553 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 12:47:33.555 +02:00 [INF] Executing OkObjectResult, writing value of type 'TMS.Application.Tasks.Dtos.TaskDto'.
2024-09-11 12:47:33.560 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API) in 200.0647ms
2024-09-11 12:47:33.565 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetTaskDetails (TaskManagementSystem.API)'
2024-09-11 12:47:33.567 +02:00 [INF] HTTP GET /api/v1/tasks/13 responded 200 in 255.9430 ms
2024-09-11 12:47:33.572 +02:00 [DBG] Connection id "0HN6I9QQDPMN0" completed keep alive response.
2024-09-11 12:47:33.575 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:47:33.578 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:47:33.581 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 12:47:33.585 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks/13 - 200 null application/json; charset=utf-8 295.7736ms
2024-09-11 12:48:25.037 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5091/api/v1/tasks/13 - application/json 17
2024-09-11 12:48:25.045 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks/13'
2024-09-11 12:48:25.048 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API)' with route pattern 'api/v1/tasks/{taskId}' is valid for the request path '/api/v1/tasks/13'
2024-09-11 12:48:25.052 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API)'
2024-09-11 12:48:25.055 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 12:48:25.059 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 12:48:25.062 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 12:48:25.067 +02:00 [DBG] Authorization was successful.
2024-09-11 12:48:25.070 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API)'
2024-09-11 12:48:25.079 +02:00 [INF] Route matched with {action = "UpdateTask", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateTask(Int32, TMS.Application.Tasks.Dtos.UpdateTaskDto) on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 12:48:25.085 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 12:48:25.088 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 12:48:25.091 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 12:48:25.096 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 12:48:25.100 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 12:48:25.103 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:48:25.106 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 12:48:25.110 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' ...
2024-09-11 12:48:25.116 +02:00 [DBG] Attempting to bind parameter 'taskId' of type 'System.Int32' using the name 'taskId' in request data ...
2024-09-11 12:48:25.119 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:48:25.122 +02:00 [DBG] Done attempting to bind parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:48:25.125 +02:00 [DBG] Attempting to validate the bound parameter 'taskId' of type 'System.Int32' ...
2024-09-11 12:48:25.129 +02:00 [DBG] Done attempting to validate the bound parameter 'taskId' of type 'System.Int32'.
2024-09-11 12:48:25.134 +02:00 [DBG] Attempting to bind parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto' ...
2024-09-11 12:48:25.138 +02:00 [DBG] Attempting to bind parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto' using the name '' in request data ...
2024-09-11 12:48:25.142 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 12:48:25.150 +02:00 [DBG] Connection id "0HN6I9QQDPMN0", Request id "0HN6I9QQDPMN0:00000002": started reading request body.
2024-09-11 12:48:25.153 +02:00 [DBG] Connection id "0HN6I9QQDPMN0", Request id "0HN6I9QQDPMN0:00000002": done reading request body.
2024-09-11 12:48:25.160 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Tasks.Dtos.UpdateTaskDto'
2024-09-11 12:48:25.164 +02:00 [DBG] Done attempting to bind parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto'.
2024-09-11 12:48:25.168 +02:00 [DBG] Done attempting to bind parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto'.
2024-09-11 12:48:25.171 +02:00 [DBG] Attempting to validate the bound parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto' ...
2024-09-11 12:48:25.236 +02:00 [DBG] Done attempting to validate the bound parameter 'commandDto' of type 'TMS.Application.Tasks.Dtos.UpdateTaskDto'.
2024-09-11 12:48:25.251 +02:00 [INF] Updating Task with Id: 13 with {"Command":{"Title":null,"Description":null,"DueDate":"0001-01-01T00:00:00.0000000","Status":2,"PriorityLevel":null,"$type":"UpdateTaskDto"},"TaskId":13,"$type":"UpdateTaskCommand"}
2024-09-11 12:48:25.268 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 12:48:25.272 +02:00 [DBG] Creating DbConnection.
2024-09-11 12:48:25.273 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 12:48:25.276 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:48:25.280 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:48:25.283 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:48:25.285 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 12:48:25.288 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:48:25.290 +02:00 [DBG] Executing DbCommand [Parameters=[@__taskId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-11 12:48:25.297 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__taskId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[TaskId] = @__taskId_0
2024-09-11 12:48:25.304 +02:00 [DBG] Context 'TMSDbContext' started tracking 'TaskItem' entity with key '{TaskId: 13}'.
2024-09-11 12:48:25.307 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:48:25.310 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 12:48:25.315 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:48:25.317 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:48:25.321 +02:00 [INF] Authorizing User string@test.com , to "Update" for the task ld task
2024-09-11 12:48:25.323 +02:00 [INF] Successful Authorization - Read/Update Operation.
2024-09-11 12:48:25.340 +02:00 [DBG] The 'TaskItem' entity with key '{TaskId: 13}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 12:48:25.349 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 12:48:25.354 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 12:48:25.378 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 12:48:25.486 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:48:25.490 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:48:25.496 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 12:48:25.500 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-11 12:48:25.507 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-11 12:48:25.511 +02:00 [DBG] Executing DbCommand [Parameters=[@p8='13', @p0=NULL (DbType = Int32), @p1='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450), @p2='b018de2e-7622-49cf-8392-c3ffbe73143b' (Nullable = false) (Size = 450), @p3='string' (Size = 4000), @p4='2024-09-15T10:33:40.4130000', @p5='0', @p6='2', @p7='ld task' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [TMS].[Tasks] SET [AssignedToTeamId] = @p0, [AssignedToUserId] = @p1, [CreatedByUserId] = @p2, [Description] = @p3, [DueDate] = @p4, [PriorityLevel] = @p5, [Status] = @p6, [Title] = @p7
OUTPUT 1
WHERE [TaskId] = @p8;
2024-09-11 12:48:25.526 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p8='13', @p0=NULL (DbType = Int32), @p1='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450), @p2='b018de2e-7622-49cf-8392-c3ffbe73143b' (Nullable = false) (Size = 450), @p3='string' (Size = 4000), @p4='2024-09-15T10:33:40.4130000', @p5='0', @p6='2', @p7='ld task' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [TMS].[Tasks] SET [AssignedToTeamId] = @p0, [AssignedToUserId] = @p1, [CreatedByUserId] = @p2, [Description] = @p3, [DueDate] = @p4, [PriorityLevel] = @p5, [Status] = @p6, [Title] = @p7
OUTPUT 1
WHERE [TaskId] = @p8;
2024-09-11 12:48:25.541 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:48:25.547 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 12ms reading results.
2024-09-11 12:48:25.553 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:48:25.556 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 12:48:25.567 +02:00 [DBG] The 'TaskItem' entity with key '{TaskId: 13}' tracked by 'TMSDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-09-11 12:48:25.574 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 1 entities written to the database.
2024-09-11 12:48:25.581 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-09-11 12:48:25.584 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API) in 481.4891ms
2024-09-11 12:48:25.588 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.UpdateTask (TaskManagementSystem.API)'
2024-09-11 12:48:25.590 +02:00 [INF] HTTP PUT /api/v1/tasks/13 responded 204 in 528.1380 ms
2024-09-11 12:48:25.594 +02:00 [DBG] Connection id "0HN6I9QQDPMN0" completed keep alive response.
2024-09-11 12:48:25.596 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 12:48:25.599 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 12:48:25.603 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 12:48:25.606 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5091/api/v1/tasks/13 - 204 null null 568.7801ms
2024-09-11 12:50:36.222 +02:00 [DBG] Connection id "0HN6I9QQDPMN0" disconnecting.
2024-09-11 12:50:36.231 +02:00 [DBG] Connection id "0HN6I9QQDPMN0" stopped.
2024-09-11 12:50:36.240 +02:00 [DBG] Connection id "0HN6I9QQDPMN0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 12:58:21.852 +02:00 [INF] Application is shutting down...
2024-09-11 12:58:21.853 +02:00 [DBG] Hosting stopping
2024-09-11 12:58:21.867 +02:00 [DBG] Hosting stopped
2024-09-11 14:33:22.446 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 14:33:22.566 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 14:33:22.915 +02:00 [DBG] Hosting starting
2024-09-11 14:33:22.927 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 14:33:22.962 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 14:33:22.980 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 14:33:22.988 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 14:33:22.994 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 14:33:22.999 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 14:33:23.007 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 14:33:23.013 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 14:33:23.018 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 14:33:23.021 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 14:33:23.128 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 14:33:23.132 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 14:33:23.134 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 14:33:23.136 +02:00 [INF] Hosting environment: Development
2024-09-11 14:33:23.138 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 14:33:23.141 +02:00 [DBG] Hosting started
2024-09-11 14:33:29.260 +02:00 [DBG] Connection id "0HN6IBNOBTL88" accepted.
2024-09-11 14:33:29.265 +02:00 [DBG] Connection id "0HN6IBNOBTL88" started.
2024-09-11 14:33:29.265 +02:00 [DBG] Connection id "0HN6IBNOBTL89" accepted.
2024-09-11 14:33:29.271 +02:00 [DBG] Connection id "0HN6IBNOBTL89" started.
2024-09-11 14:33:29.313 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 14:33:29.322 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 14:33:29.363 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 14:33:29.367 +02:00 [DBG] Request did not match any endpoints
2024-09-11 14:33:29.382 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 14:33:29.391 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 14:33:29.396 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 14:33:29.502 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 96.6805 ms
2024-09-11 14:33:29.514 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:33:29.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 207.6986ms
2024-09-11 14:33:29.553 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 14:33:29.560 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 14:33:29.562 +02:00 [DBG] Request did not match any endpoints
2024-09-11 14:33:29.567 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 14:33:29.571 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 14:33:29.574 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 14:33:29.580 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.8054 ms
2024-09-11 14:33:29.585 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:33:29.588 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 35.236ms
2024-09-11 14:33:29.869 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 14:33:29.881 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 14:33:29.885 +02:00 [DBG] Request did not match any endpoints
2024-09-11 14:33:29.890 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 14:33:29.896 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 14:33:29.901 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 14:33:30.116 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 211.9619 ms
2024-09-11 14:33:30.120 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:33:30.123 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 254.5544ms
2024-09-11 14:33:54.223 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams/11 - null null
2024-09-11 14:33:54.238 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/11'
2024-09-11 14:33:54.246 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}' is valid for the request path '/api/v1/teams/11'
2024-09-11 14:33:54.251 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)'
2024-09-11 14:33:54.257 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 14:33:54.260 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 14:33:54.264 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 14:33:54.268 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 14:33:54.272 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 14:33:54.278 +02:00 [DBG] Policy authentication schemes  did not succeed
2024-09-11 14:33:54.284 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2024-09-11 14:33:54.290 +02:00 [INF] AuthenticationScheme: Identity.Bearer was challenged.
2024-09-11 14:33:54.293 +02:00 [INF] HTTP GET /api/v1/teams/11 responded 401 in 26.3991 ms
2024-09-11 14:33:54.298 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:33:54.301 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams/11 - 401 0 null 78.1333ms
2024-09-11 14:34:13.116 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 14:34:13.124 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 14:34:13.127 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 14:34:13.130 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 14:34:13.134 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 14:34:13.137 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 14:34:13.140 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 14:34:13.145 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 14:34:13.156 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:00000005": started reading request body.
2024-09-11 14:34:13.160 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:00000005": done reading request body.
2024-09-11 14:34:13.620 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 14:34:13.997 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 14:34:14.056 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 14:34:14.347 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 14:34:14.354 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 14:34:14.409 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 14:34:14.414 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 14:34:14.418 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 14:34:14.573 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 14:34:14.840 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 14:34:15.185 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 14:34:15.458 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 14:34:15.518 +02:00 [DBG] Creating DbConnection.
2024-09-11 14:34:15.546 +02:00 [DBG] Created DbConnection. (25ms).
2024-09-11 14:34:15.555 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:16.378 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:16.387 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:34:16.397 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-11 14:34:16.412 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-09-11 14:34:16.427 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 14:34:16.582 +02:00 [INF] Executed DbCommand (157ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 14:34:16.672 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 14:34:16.742 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:16.756 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 161ms reading results.
2024-09-11 14:34:16.766 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:16.777 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (10ms).
2024-09-11 14:34:16.951 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 14:34:17.000 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 14:34:17.008 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.014 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.018 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:34:17.020 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 14:34:17.024 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 14:34:17.027 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 14:34:17.036 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 14:34:17.043 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.048 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 14:34:17.052 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.056 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 14:34:17.070 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 14:34:17.097 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 14:34:17.105 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.109 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.113 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:34:17.117 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 14:34:17.120 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 14:34:17.122 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 14:34:17.133 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 14:34:17.140 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.143 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 14:34:17.147 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.151 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 14:34:17.157 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 14:34:17.168 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 14:34:17.176 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.181 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.185 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:34:17.188 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 14:34:17.190 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 14:34:17.193 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 14:34:17.202 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 14:34:17.218 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 14:34:17.234 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.239 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-09-11 14:34:17.242 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.245 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 14:34:17.255 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 14:34:17.266 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 14:34:17.273 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.276 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.281 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:34:17.285 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 14:34:17.288 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 14:34:17.291 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 14:34:17.299 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 14:34:17.304 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.308 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 14:34:17.311 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.316 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 14:34:17.324 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.328 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.332 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:34:17.336 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 14:34:17.338 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 14:34:17.341 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 14:34:17.346 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 14:34:17.352 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 14:34:17.355 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.357 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 14:34:17.361 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.364 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 14:34:17.369 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.372 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.376 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:34:17.378 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 14:34:17.381 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 14:34:17.385 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 14:34:17.389 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 14:34:17.394 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.397 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 14:34:17.401 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.404 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 14:34:17.413 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 14:34:17.428 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 14:34:17.433 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 4293.7095 ms
2024-09-11 14:34:17.440 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:34:17.447 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 14:34:17.456 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:34:17.461 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 14:34:17.465 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 4348.3846ms
2024-09-11 14:34:47.540 +02:00 [DBG] Connection id "0HN6IBNOBTL89" received FIN.
2024-09-11 14:34:47.540 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams/11 - null null
2024-09-11 14:34:47.544 +02:00 [DBG] Connection id "0HN6IBNOBTL89" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 14:34:47.551 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/11'
2024-09-11 14:34:47.555 +02:00 [DBG] Connection id "0HN6IBNOBTL89" disconnecting.
2024-09-11 14:34:47.558 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}' is valid for the request path '/api/v1/teams/11'
2024-09-11 14:34:47.562 +02:00 [DBG] Connection id "0HN6IBNOBTL89" stopped.
2024-09-11 14:34:47.563 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)'
2024-09-11 14:34:47.570 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 14:34:47.574 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 14:34:47.578 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 14:34:47.582 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2024-09-11 14:34:47.587 +02:00 [INF] AuthenticationScheme: Identity.Bearer was forbidden.
2024-09-11 14:34:47.591 +02:00 [INF] HTTP GET /api/v1/teams/11 responded 403 in 13.7685 ms
2024-09-11 14:34:47.597 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:34:47.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams/11 - 403 0 null 59.3246ms
2024-09-11 14:35:14.655 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 14:35:14.665 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 14:35:14.669 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 14:35:14.672 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 14:35:14.674 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 14:35:14.677 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 14:35:14.681 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 14:35:14.684 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 14:35:14.689 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:00000007": started reading request body.
2024-09-11 14:35:14.693 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:00000007": done reading request body.
2024-09-11 14:35:14.782 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 14:35:14.790 +02:00 [DBG] Creating DbConnection.
2024-09-11 14:35:14.792 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 14:35:14.795 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:14.798 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:14.801 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:35:14.804 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 14:35:14.807 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 14:35:14.810 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 14:35:14.821 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 14:35:14.827 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 14:35:14.831 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:14.835 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-09-11 14:35:14.840 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:14.844 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 14:35:14.987 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:14.992 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:14.994 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:35:14.997 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 14:35:15.002 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 14:35:15.005 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 14:35:15.013 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 14:35:15.019 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.022 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 14:35:15.026 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.028 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 14:35:15.032 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.035 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.040 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:35:15.044 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-11 14:35:15.047 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 14:35:15.051 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 14:35:15.061 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 14:35:15.066 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.071 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 14:35:15.075 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.077 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 14:35:15.081 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.084 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.087 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:35:15.089 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 14:35:15.092 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 14:35:15.095 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 14:35:15.104 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 14:35:15.110 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 14:35:15.114 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.118 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 14:35:15.122 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.125 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 14:35:15.128 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.131 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.134 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:35:15.138 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 14:35:15.142 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 14:35:15.145 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 14:35:15.154 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 14:35:15.159 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.163 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 14:35:15.167 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.171 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 14:35:15.176 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 14:35:15.180 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 14:35:15.183 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 502.8941 ms
2024-09-11 14:35:15.189 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:35:15.192 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 14:35:15.195 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:35:15.199 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 14:35:15.203 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 548.6262ms
2024-09-11 14:35:49.310 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams - application/json 20
2024-09-11 14:35:49.318 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 14:35:49.321 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 14:35:49.324 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)'
2024-09-11 14:35:49.328 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 14:35:49.332 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 14:35:49.335 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 14:35:49.340 +02:00 [DBG] Authorization was successful.
2024-09-11 14:35:49.342 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)'
2024-09-11 14:35:49.367 +02:00 [INF] Route matched with {action = "CreateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTeam(TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 14:35:49.373 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 14:35:49.378 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 14:35:49.383 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 14:35:49.386 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 14:35:49.390 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 14:35:49.397 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:35:49.401 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:35:49.409 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand' ...
2024-09-11 14:35:49.416 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand' using the name '' in request data ...
2024-09-11 14:35:49.421 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 14:35:49.433 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:00000008": started reading request body.
2024-09-11 14:35:49.437 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:00000008": done reading request body.
2024-09-11 14:35:49.444 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'
2024-09-11 14:35:49.448 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'.
2024-09-11 14:35:49.451 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'.
2024-09-11 14:35:49.454 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand' ...
2024-09-11 14:35:49.520 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'.
2024-09-11 14:35:49.526 +02:00 [DBG] The request has model state errors, returning an error response.
2024-09-11 14:35:49.530 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-09-11 14:35:49.535 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 14:35:49.544 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 14:35:49.547 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-11 14:35:49.554 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-11 14:35:49.559 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-09-11 14:35:49.595 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API) in 195.203ms
2024-09-11 14:35:49.598 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)'
2024-09-11 14:35:49.600 +02:00 [INF] HTTP POST /api/v1/teams responded 400 in 264.7904 ms
2024-09-11 14:35:49.605 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:35:49.607 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams - 400 null application/problem+json; charset=utf-8 297.3313ms
2024-09-11 14:36:00.780 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams - application/json 22
2024-09-11 14:36:00.787 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 14:36:00.790 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 14:36:00.793 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)'
2024-09-11 14:36:00.796 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 14:36:00.799 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 14:36:00.802 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 14:36:00.806 +02:00 [DBG] Authorization was successful.
2024-09-11 14:36:00.809 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)'
2024-09-11 14:36:00.814 +02:00 [INF] Route matched with {action = "CreateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTeam(TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 14:36:00.820 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 14:36:00.824 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 14:36:00.829 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 14:36:00.833 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 14:36:00.836 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 14:36:00.840 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:36:00.844 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:36:00.847 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand' ...
2024-09-11 14:36:00.850 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand' using the name '' in request data ...
2024-09-11 14:36:00.854 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 14:36:00.858 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:00000009": started reading request body.
2024-09-11 14:36:00.861 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:00000009": done reading request body.
2024-09-11 14:36:00.864 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'
2024-09-11 14:36:00.867 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'.
2024-09-11 14:36:00.870 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'.
2024-09-11 14:36:00.873 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand' ...
2024-09-11 14:36:00.879 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'.
2024-09-11 14:36:00.882 +02:00 [DBG] The request has model state errors, returning an error response.
2024-09-11 14:36:00.884 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-09-11 14:36:00.886 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 14:36:00.892 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 14:36:00.893 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-11 14:36:00.898 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-11 14:36:00.900 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-09-11 14:36:00.904 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API) in 63.5442ms
2024-09-11 14:36:00.907 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)'
2024-09-11 14:36:00.909 +02:00 [INF] HTTP POST /api/v1/teams responded 400 in 106.9031 ms
2024-09-11 14:36:00.913 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:36:00.916 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams - 400 null application/problem+json; charset=utf-8 136.5087ms
2024-09-11 14:36:15.245 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams - application/json 30
2024-09-11 14:36:15.253 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 14:36:15.257 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 14:36:15.261 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)'
2024-09-11 14:36:15.264 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 14:36:15.268 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 14:36:15.273 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 14:36:15.276 +02:00 [DBG] Authorization was successful.
2024-09-11 14:36:15.279 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)'
2024-09-11 14:36:15.282 +02:00 [INF] Route matched with {action = "CreateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTeam(TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 14:36:15.286 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 14:36:15.291 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 14:36:15.295 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 14:36:15.299 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 14:36:15.302 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 14:36:15.305 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:36:15.310 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:36:15.313 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand' ...
2024-09-11 14:36:15.315 +02:00 [DBG] Attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand' using the name '' in request data ...
2024-09-11 14:36:15.318 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 14:36:15.322 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:0000000A": started reading request body.
2024-09-11 14:36:15.324 +02:00 [DBG] Connection id "0HN6IBNOBTL88", Request id "0HN6IBNOBTL88:0000000A": done reading request body.
2024-09-11 14:36:15.327 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'
2024-09-11 14:36:15.330 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'.
2024-09-11 14:36:15.332 +02:00 [DBG] Done attempting to bind parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'.
2024-09-11 14:36:15.335 +02:00 [DBG] Attempting to validate the bound parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand' ...
2024-09-11 14:36:15.342 +02:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'TMS.Application.Teams.Commands.CreateTeam.CreateTeamCommand'.
2024-09-11 14:36:15.357 +02:00 [INF] Creating new Team with name: first team.
2024-09-11 14:36:15.395 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 14:36:15.436 +02:00 [DBG] 'TMSDbContext' generated temporary value '-2147482647' for the property 'Team.TeamId'.
2024-09-11 14:36:15.487 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: -2147482647}'.
2024-09-11 14:36:15.497 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 14:36:15.506 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 14:36:15.520 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 14:36:15.615 +02:00 [DBG] Creating DbConnection.
2024-09-11 14:36:15.618 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 14:36:15.621 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:15.626 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:15.633 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:36:15.635 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 14:36:15.639 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 14:36:15.643 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='first team' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TMS].[Teams] ([TeamName])
OUTPUT INSERTED.[TeamId]
VALUES (@p0);
2024-09-11 14:36:15.709 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='first team' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TMS].[Teams] ([TeamName])
OUTPUT INSERTED.[TeamId]
VALUES (@p0);
2024-09-11 14:36:15.731 +02:00 [DBG] The foreign key property 'Team.TeamId' was detected as changed from '-2147482647' to '1' for entity with key '{TeamId: 1}'.
2024-09-11 14:36:15.746 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:15.750 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 35ms reading results.
2024-09-11 14:36:15.757 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:15.760 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 14:36:15.778 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-09-11 14:36:15.788 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 1 entities written to the database.
2024-09-11 14:36:15.796 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 14:36:15.802 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 14:36:15.805 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 14:36:15.807 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 14:36:15.810 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-09-11 14:36:15.814 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'null'.
2024-09-11 14:36:15.845 +02:00 [DBG] Found the endpoints ["TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)"] for address (TeamId=[1],action=[GetTeamDetails],controller=[Teams])
2024-09-11 14:36:15.852 +02:00 [DBG] Successfully processed template api/v1/teams/{teamId} for TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API) resulting in /api/v1/teams/1 and 
2024-09-11 14:36:15.858 +02:00 [DBG] Link generation succeeded for endpoints ["TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)"] with result /api/v1/teams/1
2024-09-11 14:36:15.862 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API) in 556.6239ms
2024-09-11 14:36:15.864 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.CreateTeam (TaskManagementSystem.API)'
2024-09-11 14:36:15.867 +02:00 [INF] HTTP POST /api/v1/teams responded 201 in 594.0027 ms
2024-09-11 14:36:15.872 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:36:15.875 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 14:36:15.879 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:15.882 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 14:36:15.886 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams - 201 0 null 641.2073ms
2024-09-11 14:36:37.554 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams/11 - null null
2024-09-11 14:36:37.561 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/11'
2024-09-11 14:36:37.564 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}' is valid for the request path '/api/v1/teams/11'
2024-09-11 14:36:37.568 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)'
2024-09-11 14:36:37.571 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 14:36:37.574 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 14:36:37.577 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 14:36:37.580 +02:00 [DBG] Authorization was successful.
2024-09-11 14:36:37.583 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)'
2024-09-11 14:36:37.594 +02:00 [INF] Route matched with {action = "GetTeamDetails", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Teams.Dtos.TeamDto]] GetTeamDetails(Int32) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 14:36:37.601 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 14:36:37.605 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 14:36:37.608 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 14:36:37.611 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 14:36:37.616 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 14:36:37.620 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:36:37.622 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:36:37.625 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 14:36:37.628 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 14:36:37.632 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 14:36:37.634 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 14:36:37.637 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 14:36:37.641 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 14:36:37.651 +02:00 [INF] Getting Team By Id: 11.
2024-09-11 14:36:37.656 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 14:36:37.663 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .FirstOrDefault(t => t.TeamId == __teamId_0)'
2024-09-11 14:36:37.673 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Team>(
    asyncEnumerable: new SingleQueryingEnumerable<Team>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            SELECT TOP(1) t.TeamId, t.TeamName
            FROM TMS.Teams AS t
            WHERE t.TeamId == @__teamId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 14:36:37.679 +02:00 [DBG] Creating DbConnection.
2024-09-11 14:36:37.682 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 14:36:37.685 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:37.688 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:37.691 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:36:37.693 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 14:36:37.696 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 14:36:37.700 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 14:36:37.710 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__teamId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 14:36:37.716 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:37.719 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 14:36:37.722 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:37.725 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 14:36:37.732 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API) in 112.2228ms
2024-09-11 14:36:37.735 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)'
2024-09-11 14:36:37.738 +02:00 [ERR] HTTP GET /api/v1/teams/11 responded 500 in 160.9591 ms
TMS.Domain.Exceptions.NotFoundException: "Team" with givin (11) was not found.
   at TMS.Application.Teams.Queries.GetTeamById.GetTeamByIdQueryHandler.Handle(GetTeamByIdQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Queries\GetTeamById\GetTeamByIdQueryHandler.cs:line 25
   at TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails(Int32 teamId) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 34
   at lambda_method266(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 14:36:37.778 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:36:37.781 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 14:36:37.784 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:37.787 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 14:36:37.790 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams/11 - 404 null null 236.8746ms
2024-09-11 14:36:42.779 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams/1 - null null
2024-09-11 14:36:42.786 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1'
2024-09-11 14:36:42.789 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}' is valid for the request path '/api/v1/teams/1'
2024-09-11 14:36:42.792 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)'
2024-09-11 14:36:42.796 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 14:36:42.799 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 14:36:42.804 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 14:36:42.807 +02:00 [DBG] Authorization was successful.
2024-09-11 14:36:42.809 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)'
2024-09-11 14:36:42.811 +02:00 [INF] Route matched with {action = "GetTeamDetails", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TMS.Application.Teams.Dtos.TeamDto]] GetTeamDetails(Int32) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 14:36:42.817 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 14:36:42.821 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 14:36:42.824 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 14:36:42.827 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 14:36:42.831 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 14:36:42.835 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:36:42.838 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 14:36:42.841 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 14:36:42.844 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 14:36:42.849 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 14:36:42.853 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 14:36:42.856 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 14:36:42.860 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 14:36:42.865 +02:00 [INF] Getting Team By Id: 1.
2024-09-11 14:36:42.870 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 14:36:42.875 +02:00 [DBG] Creating DbConnection.
2024-09-11 14:36:42.877 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 14:36:42.880 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:42.884 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:42.887 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 14:36:42.889 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 14:36:42.891 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 14:36:42.894 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 14:36:42.900 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 14:36:42.907 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 14:36:42.910 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:42.913 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 14:36:42.917 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:42.920 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 14:36:42.927 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 14:36:42.933 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 14:36:42.937 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 14:36:42.940 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 14:36:42.942 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 14:36:42.943 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 14:36:42.947 +02:00 [INF] Executing OkObjectResult, writing value of type 'TMS.Application.Teams.Dtos.TeamDto'.
2024-09-11 14:36:42.953 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API) in 117.3105ms
2024-09-11 14:36:42.956 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)'
2024-09-11 14:36:42.959 +02:00 [INF] HTTP GET /api/v1/teams/1 responded 200 in 155.3942 ms
2024-09-11 14:36:42.964 +02:00 [DBG] Connection id "0HN6IBNOBTL88" completed keep alive response.
2024-09-11 14:36:42.966 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 14:36:42.969 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 14:36:42.972 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 14:36:42.976 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams/1 - 200 null application/json; charset=utf-8 196.3013ms
2024-09-11 14:37:45.461 +02:00 [INF] Application is shutting down...
2024-09-11 14:37:45.463 +02:00 [DBG] Hosting stopping
2024-09-11 14:37:45.480 +02:00 [DBG] Connection id "0HN6IBNOBTL88" disconnecting.
2024-09-11 14:37:45.484 +02:00 [DBG] Connection id "0HN6IBNOBTL88" stopped.
2024-09-11 14:37:45.487 +02:00 [DBG] Connection id "0HN6IBNOBTL88" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 14:37:45.495 +02:00 [DBG] Hosting stopped
2024-09-11 18:33:58.301 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 18:33:58.434 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 18:33:58.521 +02:00 [DBG] Hosting starting
2024-09-11 18:33:58.533 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 18:33:58.547 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 18:33:58.561 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 18:33:58.568 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 18:33:58.574 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 18:33:58.579 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 18:33:58.586 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 18:33:58.592 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 18:33:58.597 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 18:33:58.601 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 18:33:58.699 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 18:33:58.702 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 18:33:58.706 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 18:33:58.708 +02:00 [INF] Hosting environment: Development
2024-09-11 18:33:58.710 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 18:33:58.712 +02:00 [DBG] Hosting started
2024-09-11 18:34:05.137 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" accepted.
2024-09-11 18:34:05.143 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" started.
2024-09-11 18:34:05.143 +02:00 [DBG] Connection id "0HN6IFU6J5PF0" accepted.
2024-09-11 18:34:05.150 +02:00 [DBG] Connection id "0HN6IFU6J5PF0" started.
2024-09-11 18:34:05.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 18:34:05.204 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 18:34:05.244 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 18:34:05.248 +02:00 [DBG] Request did not match any endpoints
2024-09-11 18:34:05.263 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 18:34:05.273 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 18:34:05.276 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 18:34:05.381 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 95.6008 ms
2024-09-11 18:34:05.397 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" completed keep alive response.
2024-09-11 18:34:05.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 211.1466ms
2024-09-11 18:34:05.416 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 18:34:05.424 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 18:34:05.428 +02:00 [DBG] Request did not match any endpoints
2024-09-11 18:34:05.432 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 18:34:05.436 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 18:34:05.439 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 18:34:05.444 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.1422 ms
2024-09-11 18:34:05.450 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" completed keep alive response.
2024-09-11 18:34:05.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 37.1175ms
2024-09-11 18:34:05.749 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 18:34:05.758 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 18:34:05.761 +02:00 [DBG] Request did not match any endpoints
2024-09-11 18:34:05.767 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 18:34:05.773 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 18:34:05.776 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 18:34:05.997 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 217.4317 ms
2024-09-11 18:34:06.005 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" completed keep alive response.
2024-09-11 18:34:06.013 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 263.5215ms
2024-09-11 18:35:09.110 +02:00 [DBG] Connection id "0HN6IFU6J5PF0" received FIN.
2024-09-11 18:35:09.111 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/11/adduser - application/json 8
2024-09-11 18:35:09.115 +02:00 [DBG] Connection id "0HN6IFU6J5PF0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 18:35:09.124 +02:00 [DBG] Connection id "0HN6IFU6J5PF0" disconnecting.
2024-09-11 18:35:09.128 +02:00 [DBG] Connection id "0HN6IFU6J5PF0" stopped.
2024-09-11 18:35:09.130 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/11/adduser'
2024-09-11 18:35:09.142 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/11/adduser'
2024-09-11 18:35:09.148 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:35:09.151 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 18:35:09.156 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 18:35:09.158 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 18:35:09.162 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:35:09.164 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 18:35:09.171 +02:00 [DBG] Policy authentication schemes  did not succeed
2024-09-11 18:35:09.178 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|TeamLead)
2024-09-11 18:35:09.182 +02:00 [INF] AuthenticationScheme: Identity.Bearer was challenged.
2024-09-11 18:35:09.185 +02:00 [INF] HTTP POST /api/v1/teams/11/adduser responded 401 in 24.3988 ms
2024-09-11 18:35:09.190 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" completed keep alive response.
2024-09-11 18:35:09.193 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/11/adduser - 401 0 null 81.4114ms
2024-09-11 18:35:09.201 +02:00 [DBG] Connection id "0HN6IFU6J5PEV", Request id "0HN6IFU6J5PEV:00000004": started reading request body.
2024-09-11 18:35:09.204 +02:00 [DBG] Connection id "0HN6IFU6J5PEV", Request id "0HN6IFU6J5PEV:00000004": done reading request body.
2024-09-11 18:35:33.608 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 18:35:33.617 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 18:35:33.620 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 18:35:33.623 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 18:35:33.628 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 18:35:33.632 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 18:35:33.636 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:35:33.640 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 18:35:33.649 +02:00 [DBG] Connection id "0HN6IFU6J5PEV", Request id "0HN6IFU6J5PEV:00000005": started reading request body.
2024-09-11 18:35:33.653 +02:00 [DBG] Connection id "0HN6IFU6J5PEV", Request id "0HN6IFU6J5PEV:00000005": done reading request body.
2024-09-11 18:35:33.787 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 18:35:34.167 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:35:34.224 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:35:34.480 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:35:34.488 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:35:34.545 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 18:35:34.551 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 18:35:34.553 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 18:35:34.700 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 18:35:34.975 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 18:35:35.063 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 18:35:35.355 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:35:35.423 +02:00 [DBG] Creating DbConnection.
2024-09-11 18:35:35.453 +02:00 [DBG] Created DbConnection. (26ms).
2024-09-11 18:35:35.460 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:35.689 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:35.698 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:35:35.710 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-11 18:35:35.726 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-09-11 18:35:35.742 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 18:35:36.064 +02:00 [INF] Executed DbCommand (324ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 18:35:36.154 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 18:35:36.222 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.235 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 158ms reading results.
2024-09-11 18:35:36.243 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.253 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (9ms).
2024-09-11 18:35:36.424 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 18:35:36.471 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 18:35:36.478 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.485 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.489 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:35:36.492 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:35:36.495 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 18:35:36.498 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 18:35:36.508 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 18:35:36.515 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.520 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 18:35:36.524 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.527 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 18:35:36.542 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 18:35:36.568 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 18:35:36.574 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.579 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.582 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:35:36.585 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:35:36.588 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:35:36.591 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 18:35:36.624 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 18:35:36.632 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.636 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 18:35:36.639 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.642 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:35:36.651 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 18:35:36.664 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:35:36.670 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.676 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.680 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:35:36.683 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 18:35:36.686 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 18:35:36.689 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 18:35:36.711 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 18:35:36.726 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 18:35:36.742 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.746 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-09-11 18:35:36.750 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.753 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 18:35:36.761 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 18:35:36.771 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 18:35:36.776 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.778 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.782 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:35:36.786 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 18:35:36.789 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 18:35:36.791 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 18:35:36.800 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 18:35:36.807 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.810 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 18:35:36.814 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.819 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (5ms).
2024-09-11 18:35:36.827 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.833 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.837 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:35:36.840 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:35:36.842 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:35:36.845 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 18:35:36.853 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 18:35:36.858 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 18:35:36.861 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.866 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 18:35:36.870 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.872 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:35:36.877 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.880 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.884 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:35:36.886 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:35:36.890 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:35:36.893 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 18:35:36.899 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 18:35:36.904 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.907 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 18:35:36.911 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.914 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 18:35:36.925 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 18:35:36.940 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 18:35:36.944 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3308.6278 ms
2024-09-11 18:35:36.950 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" completed keep alive response.
2024-09-11 18:35:36.957 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 18:35:36.966 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:35:36.972 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-11 18:35:36.977 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3369.014ms
2024-09-11 18:36:02.353 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/11/adduser - application/json 8
2024-09-11 18:36:02.360 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/11/adduser'
2024-09-11 18:36:02.363 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/11/adduser'
2024-09-11 18:36:02.367 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:36:02.372 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 18:36:02.377 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 18:36:02.381 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:36:02.386 +02:00 [DBG] Authorization was successful.
2024-09-11 18:36:02.388 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:36:02.415 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 18:36:02.421 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 18:36:02.426 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 18:36:02.431 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 18:36:02.435 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 18:36:02.439 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 18:36:02.445 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:36:02.449 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:36:02.455 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:36:02.461 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 18:36:02.466 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:36:02.469 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:36:02.472 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:36:02.489 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:36:02.494 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:36:02.499 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 18:36:02.503 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 18:36:02.514 +02:00 [DBG] Connection id "0HN6IFU6J5PEV", Request id "0HN6IFU6J5PEV:00000006": started reading request body.
2024-09-11 18:36:02.516 +02:00 [DBG] Connection id "0HN6IFU6J5PEV", Request id "0HN6IFU6J5PEV:00000006": done reading request body.
2024-09-11 18:36:02.519 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 18:36:02.523 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:36:02.526 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:36:02.529 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:36:02.534 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:36:02.551 +02:00 [INF] string adding string to Team with Id: 11.
2024-09-11 18:36:02.640 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 18:36:02.647 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .FirstOrDefault(t => t.TeamId == __teamId_0)'
2024-09-11 18:36:02.656 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Team>(
    asyncEnumerable: new SingleQueryingEnumerable<Team>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            SELECT TOP(1) t.TeamId, t.TeamName
            FROM TMS.Teams AS t
            WHERE t.TeamId == @__teamId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:36:02.664 +02:00 [DBG] Creating DbConnection.
2024-09-11 18:36:02.668 +02:00 [DBG] Created DbConnection. (4ms).
2024-09-11 18:36:02.670 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:36:02.674 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:36:02.678 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:36:02.681 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:36:02.684 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 18:36:02.687 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:36:02.826 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__teamId_0='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:36:02.837 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:36:02.841 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 18:36:02.845 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:36:02.848 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:36:02.854 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-11 18:36:02.865 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:36:02.874 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:36:02.878 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:36:02.882 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:36:02.884 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:36:02.887 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:36:02.891 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:36:02.930 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:36:02.936 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:36:02.940 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 18:36:02.944 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:36:02.948 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 18:36:02.961 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 513.6355ms
2024-09-11 18:36:02.966 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:36:02.969 +02:00 [ERR] HTTP POST /api/v1/teams/11/adduser responded 500 in 587.6707 ms
TMS.Domain.Exceptions.NotFoundException: "Team" with givin (11) was not found.
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 31
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 18:36:03.016 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" completed keep alive response.
2024-09-11 18:36:03.020 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 18:36:03.024 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:36:03.028 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 18:36:03.032 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/11/adduser - 404 null null 679.2007ms
2024-09-11 18:37:32.756 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 8
2024-09-11 18:37:32.777 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:37:32.784 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:37:32.789 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:37:32.792 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 18:37:32.795 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 18:37:32.799 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:37:32.804 +02:00 [DBG] Authorization was successful.
2024-09-11 18:37:32.808 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:37:32.811 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 18:37:32.815 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 18:37:32.818 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 18:37:32.822 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 18:37:32.826 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 18:37:32.829 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 18:37:32.832 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:37:32.836 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:37:32.839 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:37:32.843 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 18:37:32.846 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:37:32.849 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:37:32.851 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:37:32.856 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:37:32.859 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:37:32.862 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 18:37:32.865 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 18:37:32.867 +02:00 [DBG] Connection id "0HN6IFU6J5PEV", Request id "0HN6IFU6J5PEV:00000007": started reading request body.
2024-09-11 18:37:32.870 +02:00 [DBG] Connection id "0HN6IFU6J5PEV", Request id "0HN6IFU6J5PEV:00000007": done reading request body.
2024-09-11 18:37:32.873 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 18:37:32.875 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:37:32.878 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:37:32.880 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:37:32.883 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:37:32.889 +02:00 [INF] string adding string to Team with Id: 1.
2024-09-11 18:37:32.908 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 18:37:32.913 +02:00 [DBG] Creating DbConnection.
2024-09-11 18:37:32.916 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 18:37:32.918 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:37:32.921 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:37:32.924 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:37:32.926 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:37:32.929 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:37:32.932 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:37:32.939 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:37:32.964 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 18:37:32.972 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:37:32.976 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 32ms reading results.
2024-09-11 18:37:32.979 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:37:32.982 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:37:32.986 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:37:32.990 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:37:32.994 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:37:32.996 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:37:32.999 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:37:33.002 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:37:33.012 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:37:33.017 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:37:33.020 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 18:37:33.024 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:37:33.027 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:37:33.030 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 198.3222ms
2024-09-11 18:37:33.033 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:37:33.037 +02:00 [ERR] HTTP POST /api/v1/teams/1/adduser responded 500 in 237.9397 ms
TMS.Domain.Exceptions.NotFoundException: "User" with givin (string) was not found.
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 36
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 18:37:33.054 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" completed keep alive response.
2024-09-11 18:37:33.057 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 18:37:33.059 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:37:33.062 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 18:37:33.065 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 404 null null 309.2388ms
2024-09-11 18:39:43.851 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" disconnecting.
2024-09-11 18:39:43.861 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" stopped.
2024-09-11 18:39:43.870 +02:00 [DBG] Connection id "0HN6IFU6J5PEV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 18:39:49.489 +02:00 [DBG] Connection id "0HN6IFU6J5PF1" accepted.
2024-09-11 18:39:49.493 +02:00 [DBG] Connection id "0HN6IFU6J5PF1" started.
2024-09-11 18:39:49.497 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 14
2024-09-11 18:39:49.502 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:39:49.505 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:39:49.510 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:39:49.514 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 18:39:49.517 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 18:39:49.522 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:39:49.524 +02:00 [DBG] Authorization was successful.
2024-09-11 18:39:49.527 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:39:49.530 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 18:39:49.533 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 18:39:49.536 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 18:39:49.540 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 18:39:49.544 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 18:39:49.548 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 18:39:49.550 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:39:49.554 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:39:49.558 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:39:49.561 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 18:39:49.564 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:39:49.567 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:39:49.570 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:39:49.573 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:39:49.577 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:39:49.580 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 18:39:49.583 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 18:39:49.586 +02:00 [DBG] Connection id "0HN6IFU6J5PF1", Request id "0HN6IFU6J5PF1:00000001": started reading request body.
2024-09-11 18:39:49.589 +02:00 [DBG] Connection id "0HN6IFU6J5PF1", Request id "0HN6IFU6J5PF1:00000001": done reading request body.
2024-09-11 18:39:49.591 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 18:39:49.593 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:39:49.596 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:39:49.599 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:39:49.601 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:39:49.618 +02:00 [INF] dev@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 18:39:49.624 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 18:39:49.629 +02:00 [DBG] Creating DbConnection.
2024-09-11 18:39:49.631 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 18:39:49.633 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.637 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.640 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:39:49.642 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:39:49.645 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 18:39:49.647 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:39:49.657 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:39:49.661 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 18:39:49.664 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.667 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 18:39:49.671 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.674 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:39:49.677 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.680 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.682 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:39:49.684 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:39:49.688 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:39:49.691 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:39:49.700 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:39:49.706 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 18:39:49.709 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.711 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 18:39:49.714 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.717 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:39:49.736 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 18:39:49.744 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 18:39:49.749 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 18:39:49.769 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 18:39:49.816 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 18:39:49.848 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 18:39:49.948 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 18:39:49.962 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.967 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:49.973 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 18:39:49.984 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 18:39:49.991 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:39:49.995 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 18:39:50.000 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-11 18:39:50.004 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 18:39:50.098 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 18:39:50.113 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:50.118 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 12ms reading results.
2024-09-11 18:39:50.143 +02:00 [DBG] Committing transaction.
2024-09-11 18:39:50.151 +02:00 [DBG] Committed transaction.
2024-09-11 18:39:50.158 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:50.163 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (5ms).
2024-09-11 18:39:50.171 +02:00 [DBG] Disposing transaction.
2024-09-11 18:39:50.179 +02:00 [DBG] The 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-09-11 18:39:50.184 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-09-11 18:39:50.193 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 2 entities written to the database.
2024-09-11 18:39:50.199 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 18:39:50.210 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 18:39:50.213 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 18:39:50.215 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 18:39:50.218 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-11 18:39:50.223 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-11 18:39:50.228 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 677.5363ms
2024-09-11 18:39:50.231 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:39:50.234 +02:00 [INF] HTTP POST /api/v1/teams/1/adduser responded 200 in 712.2244 ms
2024-09-11 18:39:50.239 +02:00 [DBG] Connection id "0HN6IFU6J5PF1" completed keep alive response.
2024-09-11 18:39:50.243 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 18:39:50.247 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:39:50.251 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 18:39:50.256 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 200 null text/plain; charset=utf-8 759.4886ms
2024-09-11 18:40:17.080 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 14
2024-09-11 18:40:17.088 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:40:17.091 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:40:17.094 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:40:17.098 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 18:40:17.101 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 18:40:17.104 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:40:17.107 +02:00 [DBG] Authorization was successful.
2024-09-11 18:40:17.109 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:40:17.112 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 18:40:17.118 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 18:40:17.122 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 18:40:17.125 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 18:40:17.129 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 18:40:17.133 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 18:40:17.137 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:40:17.140 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:40:17.143 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:40:17.146 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 18:40:17.151 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:40:17.155 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:40:17.157 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:40:17.160 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:40:17.164 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:40:17.167 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 18:40:17.170 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 18:40:17.173 +02:00 [DBG] Connection id "0HN6IFU6J5PF1", Request id "0HN6IFU6J5PF1:00000002": started reading request body.
2024-09-11 18:40:17.176 +02:00 [DBG] Connection id "0HN6IFU6J5PF1", Request id "0HN6IFU6J5PF1:00000002": done reading request body.
2024-09-11 18:40:17.179 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 18:40:17.182 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:40:17.184 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:40:17.187 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:40:17.190 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:40:17.194 +02:00 [INF] dev@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 18:40:17.199 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 18:40:17.204 +02:00 [DBG] Creating DbConnection.
2024-09-11 18:40:17.207 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 18:40:17.209 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.213 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.216 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:40:17.218 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:40:17.220 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 18:40:17.224 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:40:17.232 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:40:17.238 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 18:40:17.242 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.244 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 18:40:17.248 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.252 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 18:40:17.255 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.258 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.260 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:40:17.263 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:40:17.266 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 18:40:17.270 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:40:17.278 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:40:17.284 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 18:40:17.287 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.290 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 18:40:17.293 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.297 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:40:17.301 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 18:40:17.305 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 18:40:17.307 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 18:40:17.310 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 18:40:17.316 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 18:40:17.320 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 18:40:17.323 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 18:40:17.325 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.328 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.331 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 18:40:17.335 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 18:40:17.337 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:40:17.339 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:40:17.342 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:40:17.346 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 18:40:17.675 +02:00 [INF] Executed DbCommand (330ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 18:40:17.693 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.698 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-09-11 18:40:17.704 +02:00 [DBG] Disposing transaction.
2024-09-11 18:40:17.707 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.710 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:40:17.796 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TMS.Infrastructure.Persistence.TMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:48d92301-682b-46e8-89f5-2d59f2c211df
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:48d92301-682b-46e8-89f5-2d59f2c211df
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-11 18:40:17.822 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 685.2282ms
2024-09-11 18:40:17.826 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:40:17.829 +02:00 [ERR] HTTP POST /api/v1/teams/1/adduser responded 500 in 725.1334 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:48d92301-682b-46e8-89f5-2d59f2c211df
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TMS.Infrastructure.Repositories.TeamRepository.UpdateAsync(Team update) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Infrastructure\Repositories\TeamRepository.cs:line 38
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 52
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 18:40:17.872 +02:00 [DBG] Connection id "0HN6IFU6J5PF1" completed keep alive response.
2024-09-11 18:40:17.876 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 18:40:17.880 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:40:17.884 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 18:40:17.888 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 500 null null 807.6236ms
2024-09-11 18:41:48.622 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 14
2024-09-11 18:41:48.629 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:41:48.633 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:41:48.637 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:41:48.641 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 18:41:48.644 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 18:41:48.648 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:41:48.651 +02:00 [DBG] Authorization was successful.
2024-09-11 18:41:48.654 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:41:48.657 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 18:41:48.662 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 18:41:48.666 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 18:41:48.669 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 18:41:48.673 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 18:41:48.677 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 18:41:48.680 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:41:48.684 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:41:48.687 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:41:48.690 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 18:41:48.694 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:41:48.696 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:41:48.700 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:41:48.703 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:41:48.706 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:41:48.709 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 18:41:48.712 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 18:41:48.715 +02:00 [DBG] Connection id "0HN6IFU6J5PF1", Request id "0HN6IFU6J5PF1:00000003": started reading request body.
2024-09-11 18:41:48.718 +02:00 [DBG] Connection id "0HN6IFU6J5PF1", Request id "0HN6IFU6J5PF1:00000003": done reading request body.
2024-09-11 18:41:48.721 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 18:41:48.723 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:41:48.726 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:41:48.729 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:41:48.732 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:41:48.735 +02:00 [INF] dev@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 18:41:48.739 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 18:41:48.744 +02:00 [DBG] Creating DbConnection.
2024-09-11 18:41:48.746 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 18:41:48.748 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.751 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.753 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:41:48.755 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:41:48.758 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:41:48.761 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:41:48.768 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:41:48.773 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 18:41:48.777 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.780 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 18:41:48.783 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.785 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:41:48.789 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.792 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.795 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:41:48.797 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:41:48.800 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 18:41:48.803 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:41:48.813 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:41:48.817 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 18:41:48.820 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.823 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 18:41:48.827 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.830 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:41:48.833 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 18:41:48.837 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 18:41:48.839 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 18:41:48.841 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 18:41:48.846 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 18:41:48.848 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 18:41:48.851 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 18:41:48.853 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.856 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.858 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 18:41:48.861 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 18:41:48.863 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:41:48.865 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 18:41:48.867 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 18:41:48.870 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 18:41:48.880 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 18:41:48.885 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.887 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 18:41:48.891 +02:00 [DBG] Disposing transaction.
2024-09-11 18:41:48.893 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.896 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:41:48.900 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TMS.Infrastructure.Persistence.TMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:48d92301-682b-46e8-89f5-2d59f2c211df
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:48d92301-682b-46e8-89f5-2d59f2c211df
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-11 18:41:48.919 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 239.089ms
2024-09-11 18:41:48.922 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:41:48.925 +02:00 [ERR] HTTP POST /api/v1/teams/1/adduser responded 500 in 277.9977 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:48d92301-682b-46e8-89f5-2d59f2c211df
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TMS.Infrastructure.Repositories.TeamRepository.UpdateAsync(Team update) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Infrastructure\Repositories\TeamRepository.cs:line 38
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 52
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 18:41:48.953 +02:00 [DBG] Connection id "0HN6IFU6J5PF1" completed keep alive response.
2024-09-11 18:41:48.956 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 18:41:48.959 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:41:48.962 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 18:41:48.965 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 500 null null 342.2353ms
2024-09-11 18:42:26.748 +02:00 [INF] Application is shutting down...
2024-09-11 18:42:26.749 +02:00 [DBG] Hosting stopping
2024-09-11 18:42:26.760 +02:00 [DBG] Connection id "0HN6IFU6J5PF1" disconnecting.
2024-09-11 18:42:26.765 +02:00 [DBG] Connection id "0HN6IFU6J5PF1" stopped.
2024-09-11 18:42:26.768 +02:00 [DBG] Connection id "0HN6IFU6J5PF1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 18:42:26.775 +02:00 [DBG] Hosting stopped
2024-09-11 18:43:52.374 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 18:43:52.485 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 18:43:52.570 +02:00 [DBG] Hosting starting
2024-09-11 18:43:52.582 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 18:43:52.599 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 18:43:52.613 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 18:43:52.622 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 18:43:52.627 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 18:43:52.631 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 18:43:52.639 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 18:43:52.644 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 18:43:52.650 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 18:43:52.655 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 18:43:52.748 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 18:43:52.752 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 18:43:52.755 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 18:43:52.757 +02:00 [INF] Hosting environment: Development
2024-09-11 18:43:52.759 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 18:43:52.762 +02:00 [DBG] Hosting started
2024-09-11 18:44:14.128 +02:00 [DBG] Connection id "0HN6IG3S2UV6S" accepted.
2024-09-11 18:44:14.133 +02:00 [DBG] Connection id "0HN6IG3S2UV6S" started.
2024-09-11 18:44:14.177 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 14
2024-09-11 18:44:14.187 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 18:44:14.234 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:44:14.242 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:44:14.246 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:44:14.264 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 18:44:14.267 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 18:44:14.290 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:44:14.294 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 18:44:14.302 +02:00 [DBG] Authorization was successful.
2024-09-11 18:44:14.307 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:44:14.337 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 18:44:14.345 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 18:44:14.349 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 18:44:14.354 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 18:44:14.359 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 18:44:14.362 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 18:44:14.368 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:44:14.371 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:44:14.380 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:44:14.386 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 18:44:14.391 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:44:14.395 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:44:14.398 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:44:14.414 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:44:14.420 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:44:14.423 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 18:44:14.430 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 18:44:14.447 +02:00 [DBG] Connection id "0HN6IG3S2UV6S", Request id "0HN6IG3S2UV6S:00000001": started reading request body.
2024-09-11 18:44:14.452 +02:00 [DBG] Connection id "0HN6IG3S2UV6S", Request id "0HN6IG3S2UV6S:00000001": done reading request body.
2024-09-11 18:44:14.460 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 18:44:14.464 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:44:14.467 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:44:14.470 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:44:14.476 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:44:14.612 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 18:44:14.653 +02:00 [INF] dev@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 18:44:15.019 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:44:15.070 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:44:15.314 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:44:15.320 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:44:15.376 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 18:44:15.381 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 18:44:15.386 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 18:44:15.570 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 18:44:15.860 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 18:44:15.943 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .FirstOrDefault(t => t.TeamId == __teamId_0)'
2024-09-11 18:44:16.211 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Team>(
    asyncEnumerable: new SingleQueryingEnumerable<Team>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            SELECT TOP(1) t.TeamId, t.TeamName
            FROM TMS.Teams AS t
            WHERE t.TeamId == @__teamId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:44:16.265 +02:00 [DBG] Creating DbConnection.
2024-09-11 18:44:16.299 +02:00 [DBG] Created DbConnection. (31ms).
2024-09-11 18:44:16.308 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:16.555 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:16.564 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:44:16.577 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-11 18:44:16.590 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-09-11 18:44:16.608 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:44:16.708 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:44:16.777 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 18:44:16.805 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:16.819 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 100ms reading results.
2024-09-11 18:44:16.828 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:16.839 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (9ms).
2024-09-11 18:44:16.850 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-11 18:44:16.868 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:44:16.882 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:16.887 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:16.891 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:44:16.893 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:44:16.897 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 18:44:16.900 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:44:16.913 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:44:16.961 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 18:44:17.014 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:17.018 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 98ms reading results.
2024-09-11 18:44:17.021 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:17.025 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 18:44:17.046 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 18:44:17.056 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 18:44:17.064 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 18:44:17.089 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 18:44:17.137 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 18:44:17.169 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 18:44:17.270 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 18:44:17.284 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:17.287 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:17.292 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 18:44:17.303 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 18:44:17.311 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:44:17.315 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 18:44:17.320 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-11 18:44:17.323 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 18:44:17.335 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 18:44:17.354 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:17.359 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 16ms reading results.
2024-09-11 18:44:17.368 +02:00 [DBG] Disposing transaction.
2024-09-11 18:44:17.374 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:17.379 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (5ms).
2024-09-11 18:44:17.405 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TMS.Infrastructure.Persistence.TMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:79059afd-01f3-497d-b02f-bbff807e927f
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:79059afd-01f3-497d-b02f-bbff807e927f
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-11 18:44:17.443 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 3070.9942ms
2024-09-11 18:44:17.450 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:44:17.459 +02:00 [ERR] HTTP POST /api/v1/teams/1/adduser responded 500 in 3182.3900 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:79059afd-01f3-497d-b02f-bbff807e927f
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TMS.Infrastructure.Repositories.TeamRepository.UpdateAsync(Team update) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Infrastructure\Repositories\TeamRepository.cs:line 38
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 52
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 18:44:17.509 +02:00 [DBG] Connection id "0HN6IG3S2UV6S" completed keep alive response.
2024-09-11 18:44:17.518 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 18:44:17.527 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:44:17.533 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 18:44:17.538 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 500 null null 3362.605ms
2024-09-11 18:46:28.306 +02:00 [DBG] Connection id "0HN6IG3S2UV6S" disconnecting.
2024-09-11 18:46:28.312 +02:00 [DBG] Connection id "0HN6IG3S2UV6S" stopped.
2024-09-11 18:46:28.317 +02:00 [DBG] Connection id "0HN6IG3S2UV6S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 18:47:23.351 +02:00 [INF] Application is shutting down...
2024-09-11 18:47:23.355 +02:00 [DBG] Hosting stopping
2024-09-11 18:47:23.374 +02:00 [DBG] Hosting stopped
2024-09-11 18:47:38.564 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 18:47:38.801 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 18:47:38.951 +02:00 [DBG] Hosting starting
2024-09-11 18:47:38.964 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 18:47:38.984 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 18:47:39.001 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 18:47:39.009 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 18:47:39.015 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 18:47:39.020 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 18:47:39.030 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 18:47:39.036 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 18:47:39.040 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 18:47:39.045 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 18:47:39.444 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-11 18:47:39.448 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 18:47:39.450 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 18:47:39.452 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-11 18:47:39.454 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-11 18:47:39.456 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-11 18:47:39.563 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 18:47:39.565 +02:00 [INF] Hosting environment: Development
2024-09-11 18:47:39.569 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 18:47:39.571 +02:00 [DBG] Hosting started
2024-09-11 18:48:23.529 +02:00 [DBG] Connection id "0HN6IG66DE15B" accepted.
2024-09-11 18:48:23.535 +02:00 [DBG] Connection id "0HN6IG66DE15B" started.
2024-09-11 18:48:23.630 +02:00 [DBG] Connection 0HN6IG66DE15B established using the following protocol: "Tls12"
2024-09-11 18:48:23.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-11 18:48:27.999 +02:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2024-09-11 18:48:28.005 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 18:48:28.047 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 18:48:28.052 +02:00 [DBG] Request did not match any endpoints
2024-09-11 18:48:28.066 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 18:48:28.076 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 18:48:28.080 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 18:48:28.179 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-11 18:48:28.192 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 103.1262 ms
2024-09-11 18:48:28.204 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-11 18:48:28.217 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 4494.183ms
2024-09-11 18:48:28.263 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-11 18:48:28.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 29.4411ms
2024-09-11 18:48:28.371 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-11 18:48:28.379 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 18:48:28.384 +02:00 [DBG] Request did not match any endpoints
2024-09-11 18:48:28.389 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 18:48:28.392 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 18:48:28.393 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 18:48:28.401 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 3.9920 ms
2024-09-11 18:48:28.406 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 35.5115ms
2024-09-11 18:48:29.010 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-11 18:48:29.017 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 18:48:29.019 +02:00 [DBG] Request did not match any endpoints
2024-09-11 18:48:29.024 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 18:48:29.027 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 18:48:29.029 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 18:48:29.239 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 206.8902 ms
2024-09-11 18:48:29.245 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 236.3137ms
2024-09-11 18:49:02.626 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 124
2024-09-11 18:49:02.650 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 18:49:02.655 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 18:49:02.661 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 18:49:02.665 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 18:49:02.667 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 18:49:02.670 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:49:02.676 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 18:49:02.686 +02:00 [DBG] Connection id "0HN6IG66DE15B", Request id "0HN6IG66DE15B:00000009": started reading request body.
2024-09-11 18:49:02.692 +02:00 [DBG] Connection id "0HN6IG66DE15B", Request id "0HN6IG66DE15B:00000009": done reading request body.
2024-09-11 18:49:03.050 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 18:49:03.494 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:49:03.547 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:49:03.808 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:49:03.815 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 18:49:03.882 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 18:49:03.888 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 18:49:03.891 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 18:49:04.073 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 18:49:04.376 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 18:49:04.674 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 18:49:04.969 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:49:05.037 +02:00 [DBG] Creating DbConnection.
2024-09-11 18:49:05.071 +02:00 [DBG] Created DbConnection. (31ms).
2024-09-11 18:49:05.080 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:05.566 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:05.576 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:49:05.590 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-11 18:49:05.606 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-09-11 18:49:05.622 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 18:49:05.879 +02:00 [INF] Executed DbCommand (260ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 18:49:05.978 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 18:49:06.049 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.064 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 170ms reading results.
2024-09-11 18:49:06.073 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.084 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (11ms).
2024-09-11 18:49:06.279 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 18:49:06.327 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 18:49:06.334 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.339 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.342 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:49:06.344 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 18:49:06.347 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 18:49:06.349 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 18:49:06.359 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 18:49:06.368 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.372 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 18:49:06.376 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.378 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:49:06.393 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 18:49:06.419 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 18:49:06.427 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.430 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.432 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:49:06.435 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:49:06.438 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 18:49:06.441 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 18:49:06.470 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 18:49:06.478 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.480 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 18:49:06.483 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.486 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:49:06.493 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 18:49:06.505 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:49:06.513 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.516 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.518 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:49:06.521 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:49:06.523 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:49:06.526 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 18:49:06.534 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 18:49:06.548 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 18:49:06.563 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.567 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 27ms reading results.
2024-09-11 18:49:06.571 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.574 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 18:49:06.583 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 18:49:06.594 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 18:49:06.600 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.602 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.606 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:49:06.608 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 18:49:06.610 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 18:49:06.613 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 18:49:06.620 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 18:49:06.627 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.629 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 18:49:06.632 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.635 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:49:06.643 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.648 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.650 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:49:06.654 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 18:49:06.657 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 18:49:06.659 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 18:49:06.664 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 18:49:06.671 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 18:49:06.674 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.676 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 18:49:06.679 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.682 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:49:06.689 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.693 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.695 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:49:06.698 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:49:06.701 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 18:49:06.704 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 18:49:06.710 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 18:49:06.716 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.719 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 18:49:06.722 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.725 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:49:06.737 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 18:49:06.753 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 18:49:06.758 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 4089.5113 ms
2024-09-11 18:49:06.766 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 18:49:06.775 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:06.781 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-11 18:49:06.786 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 4159.5449ms
2024-09-11 18:49:42.857 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/teams/1/adduser - application/json 14
2024-09-11 18:49:42.872 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:49:42.876 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 18:49:42.880 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:49:42.886 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 18:49:42.888 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 18:49:42.890 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 18:49:42.900 +02:00 [DBG] Authorization was successful.
2024-09-11 18:49:42.903 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 18:49:42.934 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 18:49:42.941 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 18:49:42.944 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 18:49:42.948 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 18:49:42.951 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 18:49:42.954 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 18:49:42.959 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:49:42.965 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 18:49:42.974 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:49:42.983 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 18:49:42.988 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:49:42.991 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:49:42.994 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 18:49:43.032 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 18:49:43.037 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:49:43.041 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 18:49:43.046 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 18:49:43.053 +02:00 [DBG] Connection id "0HN6IG66DE15B", Request id "0HN6IG66DE15B:0000000B": started reading request body.
2024-09-11 18:49:43.056 +02:00 [DBG] Connection id "0HN6IG66DE15B", Request id "0HN6IG66DE15B:0000000B": done reading request body.
2024-09-11 18:49:43.060 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 18:49:43.063 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:49:43.065 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:49:43.068 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 18:49:43.074 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 18:49:43.094 +02:00 [INF] dev@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 18:49:43.180 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 18:49:43.188 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .FirstOrDefault(t => t.TeamId == __teamId_0)'
2024-09-11 18:49:43.199 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Team>(
    asyncEnumerable: new SingleQueryingEnumerable<Team>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            SELECT TOP(1) t.TeamId, t.TeamName
            FROM TMS.Teams AS t
            WHERE t.TeamId == @__teamId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:49:43.206 +02:00 [DBG] Creating DbConnection.
2024-09-11 18:49:43.208 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 18:49:43.210 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:43.214 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:43.216 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:49:43.218 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 18:49:43.221 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 18:49:43.224 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:49:43.340 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 18:49:43.391 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 18:49:43.400 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:43.405 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 43ms reading results.
2024-09-11 18:49:43.408 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:43.410 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 18:49:43.417 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-11 18:49:43.429 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 18:49:43.438 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:43.440 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:43.442 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 18:49:43.445 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 18:49:43.447 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 18:49:43.449 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:49:43.459 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 18:49:43.468 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 18:49:43.471 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:43.473 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 18:49:43.476 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 18:49:43.479 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:01:42.461 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 19:01:42.572 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 19:01:42.659 +02:00 [DBG] Hosting starting
2024-09-11 19:01:42.670 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 19:01:42.685 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 19:01:42.700 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 19:01:42.708 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 19:01:42.714 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 19:01:42.718 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 19:01:42.725 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 19:01:42.729 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 19:01:42.734 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 19:01:42.740 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 19:01:42.832 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 19:01:42.836 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 19:01:42.838 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 19:01:42.840 +02:00 [INF] Hosting environment: Development
2024-09-11 19:01:42.842 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 19:01:42.845 +02:00 [DBG] Hosting started
2024-09-11 19:01:50.263 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" accepted.
2024-09-11 19:01:50.266 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" started.
2024-09-11 19:01:50.266 +02:00 [DBG] Connection id "0HN6IGDMR1PVB" accepted.
2024-09-11 19:01:50.272 +02:00 [DBG] Connection id "0HN6IGDMR1PVB" started.
2024-09-11 19:01:50.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 19:01:50.327 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 19:01:50.369 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 19:01:50.374 +02:00 [DBG] Request did not match any endpoints
2024-09-11 19:01:50.390 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:01:50.398 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:01:50.402 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:01:50.509 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 97.1766 ms
2024-09-11 19:01:50.520 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" completed keep alive response.
2024-09-11 19:01:50.525 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 210.5361ms
2024-09-11 19:01:50.539 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 19:01:50.547 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 19:01:50.549 +02:00 [DBG] Request did not match any endpoints
2024-09-11 19:01:50.554 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:01:50.558 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:01:50.561 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:01:50.565 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.9916 ms
2024-09-11 19:01:50.569 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" completed keep alive response.
2024-09-11 19:01:50.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 35.3586ms
2024-09-11 19:01:50.835 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 19:01:50.844 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 19:01:50.848 +02:00 [DBG] Request did not match any endpoints
2024-09-11 19:01:50.852 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:01:50.857 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:01:50.862 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:01:51.066 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 201.8365 ms
2024-09-11 19:01:51.073 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" completed keep alive response.
2024-09-11 19:01:51.077 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 241.754ms
2024-09-11 19:02:05.238 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 19:02:05.255 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 19:02:05.261 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:02:05.265 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:02:05.269 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:02:05.273 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:02:05.276 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:02:05.278 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 19:02:05.282 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:02:05.291 +02:00 [DBG] Connection id "0HN6IGDMR1PVA", Request id "0HN6IGDMR1PVA:00000004": started reading request body.
2024-09-11 19:02:05.296 +02:00 [DBG] Connection id "0HN6IGDMR1PVA", Request id "0HN6IGDMR1PVA:00000004": done reading request body.
2024-09-11 19:02:05.428 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 19:02:05.813 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:02:05.863 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:02:06.161 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:02:06.168 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:02:06.224 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 19:02:06.228 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 19:02:06.232 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 19:02:06.374 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 19:02:06.665 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:02:06.750 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 19:02:07.004 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:02:07.061 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:02:07.088 +02:00 [DBG] Created DbConnection. (24ms).
2024-09-11 19:02:07.095 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:07.411 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:07.420 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:07.432 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 19:02:07.448 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-09-11 19:02:07.463 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 19:02:07.656 +02:00 [INF] Executed DbCommand (195ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 19:02:07.746 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 19:02:07.812 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:07.826 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 158ms reading results.
2024-09-11 19:02:07.836 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:07.846 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (9ms).
2024-09-11 19:02:08.027 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 19:02:08.072 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 19:02:08.079 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.085 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.088 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:08.090 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:02:08.093 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:02:08.096 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 19:02:08.106 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 19:02:08.113 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.117 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 19:02:08.121 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.124 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:02:08.139 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 19:02:08.164 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 19:02:08.172 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.177 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.180 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:08.182 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 19:02:08.185 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:02:08.188 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 19:02:08.218 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 19:02:08.225 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.228 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 19:02:08.231 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.235 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 19:02:08.244 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 19:02:08.258 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:02:08.266 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.272 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.277 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:08.279 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:02:08.282 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:02:08.285 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:02:08.294 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:02:08.312 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 19:02:08.329 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.332 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 32ms reading results.
2024-09-11 19:02:08.338 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.341 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:02:08.348 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 19:02:08.358 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 19:02:08.364 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.369 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.374 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:08.377 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:02:08.379 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:02:08.382 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:02:08.393 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:02:08.398 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.403 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 19:02:08.408 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.412 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:02:08.421 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.425 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.428 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:08.430 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:02:08.433 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:02:08.438 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:02:08.444 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:02:08.448 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 19:02:08.454 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.457 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 19:02:08.460 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.464 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:02:08.475 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.478 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.480 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:08.483 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:02:08.487 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 19:02:08.490 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:02:08.494 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:02:08.498 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.502 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 19:02:08.506 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.509 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:02:08.520 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 19:02:08.533 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:02:08.537 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3262.1917 ms
2024-09-11 19:02:08.542 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" completed keep alive response.
2024-09-11 19:02:08.547 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:02:08.554 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:08.559 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 19:02:08.563 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3324.902ms
2024-09-11 19:02:36.315 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 8
2024-09-11 19:02:36.324 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:02:36.328 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:02:36.333 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:02:36.337 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 19:02:36.340 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 19:02:36.343 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:02:36.352 +02:00 [DBG] Authorization was successful.
2024-09-11 19:02:36.355 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:02:36.381 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 19:02:36.389 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 19:02:36.393 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 19:02:36.399 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 19:02:36.402 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 19:02:36.406 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 19:02:36.412 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:02:36.416 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:02:36.423 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:02:36.430 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 19:02:36.434 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:02:36.437 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:02:36.441 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:02:36.458 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:02:36.464 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:02:36.468 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 19:02:36.472 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 19:02:36.481 +02:00 [DBG] Connection id "0HN6IGDMR1PVA", Request id "0HN6IGDMR1PVA:00000005": started reading request body.
2024-09-11 19:02:36.485 +02:00 [DBG] Connection id "0HN6IGDMR1PVA", Request id "0HN6IGDMR1PVA:00000005": done reading request body.
2024-09-11 19:02:36.488 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 19:02:36.490 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:02:36.494 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:02:36.498 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:02:36.503 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:02:36.520 +02:00 [INF] string adding string to Team with Id: 1.
2024-09-11 19:02:36.608 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:02:36.617 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .FirstOrDefault(t => t.TeamId == __teamId_0)'
2024-09-11 19:02:36.629 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Team>(
    asyncEnumerable: new SingleQueryingEnumerable<Team>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            SELECT TOP(1) t.TeamId, t.TeamName
            FROM TMS.Teams AS t
            WHERE t.TeamId == @__teamId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:02:36.637 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:02:36.640 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 19:02:36.642 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:36.646 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:36.649 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:36.651 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:02:36.655 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:02:36.658 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:02:36.667 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:02:36.694 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 19:02:36.703 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:36.707 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 34ms reading results.
2024-09-11 19:02:36.711 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:36.714 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:02:36.721 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-11 19:02:36.733 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:02:36.740 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:36.744 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:36.747 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:36.750 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:02:36.753 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:02:36.756 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:02:36.765 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:02:36.771 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:36.774 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 19:02:36.778 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:36.781 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:02:36.792 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 378.7159ms
2024-09-11 19:02:36.798 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:02:36.802 +02:00 [ERR] HTTP POST /api/v1/teams/1/adduser responded 500 in 458.7979 ms
TMS.Domain.Exceptions.NotFoundException: "User" with givin (string) was not found.
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 36
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 19:02:36.846 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" completed keep alive response.
2024-09-11 19:02:36.851 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:02:36.854 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:36.857 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 19:02:36.861 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 404 null null 545.5673ms
2024-09-11 19:02:48.341 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 14
2024-09-11 19:02:48.349 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:02:48.352 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:02:48.356 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:02:48.360 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 19:02:48.364 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 19:02:48.368 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:02:48.373 +02:00 [DBG] Authorization was successful.
2024-09-11 19:02:48.377 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:02:48.380 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 19:02:48.385 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 19:02:48.387 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 19:02:48.392 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 19:02:48.397 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 19:02:48.401 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 19:02:48.403 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:02:48.408 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:02:48.413 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:02:48.416 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 19:02:48.419 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:02:48.422 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:02:48.427 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:02:48.431 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:02:48.433 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:02:48.437 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 19:02:48.442 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 19:02:48.445 +02:00 [DBG] Connection id "0HN6IGDMR1PVA", Request id "0HN6IGDMR1PVA:00000006": started reading request body.
2024-09-11 19:02:48.448 +02:00 [DBG] Connection id "0HN6IGDMR1PVA", Request id "0HN6IGDMR1PVA:00000006": done reading request body.
2024-09-11 19:02:48.450 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 19:02:48.452 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:02:48.456 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:02:48.459 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:02:48.463 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:02:48.468 +02:00 [INF] dev@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 19:02:48.489 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:02:48.496 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:02:48.499 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 19:02:48.503 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.506 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.510 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:48.512 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:02:48.515 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:02:48.517 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:02:48.522 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:02:48.528 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 19:02:48.532 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.534 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 19:02:48.538 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.542 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 19:02:48.547 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.551 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.554 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:48.556 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:02:48.559 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:02:48.563 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:02:48.568 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:02:48.574 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 19:02:48.579 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.582 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 19:02:48.585 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.587 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:02:48.605 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 19:02:48.618 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 19:02:48.627 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 19:02:48.650 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 19:02:48.685 +02:00 [DBG] The navigation 'UserTeam.Team' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 19:02:48.704 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 19:02:48.714 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 19:02:48.744 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 19:02:48.858 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 19:02:48.871 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.877 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:48.882 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 19:02:48.892 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 19:02:48.900 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:02:48.904 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 19:02:48.910 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-11 19:02:48.914 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 19:02:49.036 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 19:02:49.068 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:49.072 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 16ms reading results.
2024-09-11 19:02:49.080 +02:00 [DBG] Committing transaction.
2024-09-11 19:02:49.088 +02:00 [DBG] Committed transaction.
2024-09-11 19:02:49.094 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:49.098 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:02:49.103 +02:00 [DBG] Disposing transaction.
2024-09-11 19:02:49.110 +02:00 [DBG] The 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-09-11 19:02:49.115 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-09-11 19:02:49.121 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 2 entities written to the database.
2024-09-11 19:02:49.128 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 19:02:49.136 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 19:02:49.138 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 19:02:49.142 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 19:02:49.146 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-11 19:02:49.150 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-11 19:02:49.154 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 750.2836ms
2024-09-11 19:02:49.158 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:02:49.160 +02:00 [INF] HTTP POST /api/v1/teams/1/adduser responded 200 in 793.3294 ms
2024-09-11 19:02:49.165 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" completed keep alive response.
2024-09-11 19:02:49.167 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:02:49.170 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:02:49.174 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 19:02:49.177 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 200 null text/plain; charset=utf-8 835.7128ms
2024-09-11 19:04:02.210 +02:00 [DBG] Connection id "0HN6IGDMR1PVB" disconnecting.
2024-09-11 19:04:02.224 +02:00 [DBG] Connection id "0HN6IGDMR1PVB" stopped.
2024-09-11 19:04:02.233 +02:00 [DBG] Connection id "0HN6IGDMR1PVB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 19:04:59.803 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" disconnecting.
2024-09-11 19:04:59.813 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" stopped.
2024-09-11 19:04:59.821 +02:00 [DBG] Connection id "0HN6IGDMR1PVA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 19:05:42.344 +02:00 [DBG] Connection id "0HN6IGDMR1PVC" accepted.
2024-09-11 19:05:42.348 +02:00 [DBG] Connection id "0HN6IGDMR1PVC" started.
2024-09-11 19:05:42.352 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 14
2024-09-11 19:05:42.358 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:05:42.360 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:05:42.365 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:05:42.371 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 19:05:42.374 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 19:05:42.376 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:05:42.380 +02:00 [DBG] Authorization was successful.
2024-09-11 19:05:42.382 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:05:42.387 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 19:05:42.391 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 19:05:42.394 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 19:05:42.397 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 19:05:42.405 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 19:05:42.408 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 19:05:42.411 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:05:42.414 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:05:42.418 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:05:42.421 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 19:05:42.423 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:05:42.426 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:05:42.428 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:05:42.431 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:05:42.435 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:05:42.437 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 19:05:42.440 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 19:05:42.443 +02:00 [DBG] Connection id "0HN6IGDMR1PVC", Request id "0HN6IGDMR1PVC:00000001": started reading request body.
2024-09-11 19:05:42.445 +02:00 [DBG] Connection id "0HN6IGDMR1PVC", Request id "0HN6IGDMR1PVC:00000001": done reading request body.
2024-09-11 19:05:42.448 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 19:05:42.451 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:05:42.454 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:05:42.457 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:05:42.460 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:05:42.477 +02:00 [INF] dev@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 19:05:42.484 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:05:42.489 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:05:42.490 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 19:05:42.492 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.496 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.498 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:05:42.501 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:05:42.503 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:05:42.506 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:05:42.526 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:05:42.531 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 19:05:42.534 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.538 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 19:05:42.541 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.544 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:05:42.547 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.550 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.553 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:05:42.555 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:05:42.558 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:05:42.561 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:05:42.573 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:05:42.578 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 19:05:42.582 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.586 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 19:05:42.589 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.592 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:05:42.595 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 19:05:42.599 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 19:05:42.604 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 19:05:42.607 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 19:05:42.611 +02:00 [DBG] The navigation 'UserTeam.Team' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 19:05:42.614 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 19:05:42.620 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 19:05:42.623 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 19:05:42.626 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 19:05:42.629 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.634 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.638 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 19:05:42.641 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 19:05:42.644 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:05:42.646 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:05:42.651 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 19:05:42.654 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 19:05:42.688 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 19:05:42.700 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.703 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 19:05:42.708 +02:00 [DBG] Disposing transaction.
2024-09-11 19:05:42.712 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.714 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:05:42.729 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TMS.Infrastructure.Persistence.TMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9dac6660-bded-4bbb-b714-de4708a13a78
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9dac6660-bded-4bbb-b714-de4708a13a78
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-11 19:05:42.755 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 344.1452ms
2024-09-11 19:05:42.760 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:05:42.762 +02:00 [ERR] HTTP POST /api/v1/teams/1/adduser responded 500 in 386.2762 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9dac6660-bded-4bbb-b714-de4708a13a78
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TMS.Infrastructure.Repositories.TeamRepository.UpdateAsync(Team update) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Infrastructure\Repositories\TeamRepository.cs:line 38
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 50
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 19:05:42.807 +02:00 [DBG] Connection id "0HN6IGDMR1PVC" completed keep alive response.
2024-09-11 19:05:42.812 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:05:42.815 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:05:42.819 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 19:05:42.823 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 500 null null 471.0816ms
2024-09-11 19:06:53.194 +02:00 [INF] Application is shutting down...
2024-09-11 19:06:53.195 +02:00 [DBG] Hosting stopping
2024-09-11 19:06:53.207 +02:00 [DBG] Connection id "0HN6IGDMR1PVC" disconnecting.
2024-09-11 19:06:53.211 +02:00 [DBG] Connection id "0HN6IGDMR1PVC" stopped.
2024-09-11 19:06:53.213 +02:00 [DBG] Connection id "0HN6IGDMR1PVC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 19:06:53.220 +02:00 [DBG] Hosting stopped
2024-09-11 19:07:26.510 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 19:07:26.815 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 19:07:27.395 +02:00 [DBG] Hosting starting
2024-09-11 19:07:27.411 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 19:07:27.428 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 19:07:27.443 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 19:07:27.450 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 19:07:27.455 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 19:07:27.458 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 19:07:27.465 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 19:07:27.469 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 19:07:27.474 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 19:07:27.477 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 19:07:27.830 +02:00 [INF] Now listening on: https://localhost:7123
2024-09-11 19:07:27.834 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 19:07:27.836 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 19:07:27.838 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-11 19:07:27.840 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-11 19:07:27.842 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-11 19:07:27.928 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 19:07:27.931 +02:00 [INF] Hosting environment: Development
2024-09-11 19:07:27.934 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 19:07:27.937 +02:00 [DBG] Hosting started
2024-09-11 19:07:29.949 +02:00 [DBG] Connection id "0HN6IGGS2HKQQ" accepted.
2024-09-11 19:07:29.955 +02:00 [DBG] Connection id "0HN6IGGS2HKQQ" started.
2024-09-11 19:07:30.057 +02:00 [DBG] Connection 0HN6IGGS2HKQQ established using the following protocol: "Tls12"
2024-09-11 19:07:30.173 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.html - null null
2024-09-11 19:07:30.404 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 19:07:30.460 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 19:07:30.463 +02:00 [DBG] Request did not match any endpoints
2024-09-11 19:07:30.477 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:07:30.486 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:07:30.490 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:07:30.601 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-11 19:07:30.606 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-11 19:07:30.623 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 124.2790 ms
2024-09-11 19:07:30.632 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-11 19:07:30.636 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-11 19:07:30.649 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.html - 200 null text/html;charset=utf-8 480.8015ms
2024-09-11 19:07:30.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - null null
2024-09-11 19:07:30.682 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/_vs/browserLink - null null
2024-09-11 19:07:30.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/index.js - null null
2024-09-11 19:07:30.723 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 19:07:30.730 +02:00 [DBG] Request did not match any endpoints
2024-09-11 19:07:30.734 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 55.0056ms
2024-09-11 19:07:30.746 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:07:30.756 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:07:30.760 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:07:30.765 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.6459 ms
2024-09-11 19:07:30.770 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/index.js - 200 null application/javascript;charset=utf-8 95.2054ms
2024-09-11 19:07:30.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/_vs/browserLink - 200 null text/javascript; charset=UTF-8 164.9788ms
2024-09-11 19:07:31.138 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - null null
2024-09-11 19:07:31.145 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 19:07:31.147 +02:00 [DBG] Request did not match any endpoints
2024-09-11 19:07:31.151 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:07:31.155 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:07:31.159 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:07:31.460 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 296.6438 ms
2024-09-11 19:07:31.508 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7123/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 370.5068ms
2024-09-11 19:07:49.349 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/identity/login - application/json 124
2024-09-11 19:07:49.368 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 19:07:49.373 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:07:49.378 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:07:49.381 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:07:49.383 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:07:49.388 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:07:49.393 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:07:49.402 +02:00 [DBG] Connection id "0HN6IGGS2HKQQ", Request id "0HN6IGGS2HKQQ:0000000B": started reading request body.
2024-09-11 19:07:49.408 +02:00 [DBG] Connection id "0HN6IGGS2HKQQ", Request id "0HN6IGGS2HKQQ:0000000B": done reading request body.
2024-09-11 19:07:49.623 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 19:07:50.096 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:07:50.151 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:07:50.429 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:07:50.437 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:07:50.497 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 19:07:50.503 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 19:07:50.506 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 19:07:50.663 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 19:07:50.951 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:07:51.074 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 19:07:51.368 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:07:51.435 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:07:51.470 +02:00 [DBG] Created DbConnection. (31ms).
2024-09-11 19:07:51.479 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:51.877 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:51.885 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:07:51.897 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 19:07:51.916 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2024-09-11 19:07:51.933 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 19:07:52.098 +02:00 [INF] Executed DbCommand (167ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 19:07:52.203 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 19:07:52.274 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.289 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 176ms reading results.
2024-09-11 19:07:52.297 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.312 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (14ms).
2024-09-11 19:07:52.506 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 19:07:52.553 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 19:07:52.560 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.566 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.571 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:07:52.574 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 19:07:52.578 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 19:07:52.582 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 19:07:52.594 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 19:07:52.604 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.608 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 19:07:52.613 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.617 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:07:52.632 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 19:07:52.658 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 19:07:52.672 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.676 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.678 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:07:52.680 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 19:07:52.683 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:07:52.686 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 19:07:52.711 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 19:07:52.718 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.721 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 19:07:52.727 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.729 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:07:52.737 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 19:07:52.746 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:07:52.755 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.758 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.760 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:07:52.762 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 19:07:52.764 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:07:52.766 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:07:52.775 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:07:52.791 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 19:07:52.807 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.811 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-09-11 19:07:52.817 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.821 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:07:52.828 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 19:07:52.839 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 19:07:52.845 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.848 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.850 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:07:52.853 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:07:52.855 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:07:52.858 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:07:52.866 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:07:52.871 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.874 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 19:07:52.877 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.880 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:07:52.888 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.893 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.895 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:07:52.897 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 19:07:52.900 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:07:52.903 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:07:52.908 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:07:52.913 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 19:07:52.916 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.919 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 19:07:52.922 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.925 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:07:52.930 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.932 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.935 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:07:52.937 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 19:07:52.941 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 19:07:52.945 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:07:52.954 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:07:52.959 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.961 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 19:07:52.964 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:52.967 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:07:52.983 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 19:07:53.000 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:07:53.007 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3620.3032 ms
2024-09-11 19:07:53.019 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:07:53.029 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:07:53.035 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-11 19:07:53.040 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/identity/login - 200 null application/json; charset=utf-8 3690.6109ms
2024-09-11 19:08:40.364 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/teams/1/adduser - application/json 14
2024-09-11 19:08:40.387 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:08:40.393 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:08:40.396 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:08:40.401 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 19:08:40.403 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 19:08:40.407 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:08:40.416 +02:00 [DBG] Authorization was successful.
2024-09-11 19:08:40.419 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:08:40.449 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 19:08:40.459 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 19:08:40.464 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 19:08:40.469 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 19:08:40.476 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 19:08:40.479 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 19:08:40.488 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:08:40.494 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:08:40.502 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:08:40.510 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 19:08:40.517 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:08:40.519 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:08:40.521 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:08:40.553 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:08:40.560 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:08:40.564 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 19:08:40.568 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 19:08:40.577 +02:00 [DBG] Connection id "0HN6IGGS2HKQQ", Request id "0HN6IGGS2HKQQ:0000000D": started reading request body.
2024-09-11 19:08:40.581 +02:00 [DBG] Connection id "0HN6IGGS2HKQQ", Request id "0HN6IGGS2HKQQ:0000000D": done reading request body.
2024-09-11 19:08:40.585 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 19:08:40.587 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:08:40.590 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:08:40.594 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:08:40.600 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:08:52.872 +02:00 [INF] string@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 19:08:52.956 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:08:52.964 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .FirstOrDefault(t => t.TeamId == __teamId_0)'
2024-09-11 19:08:52.973 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Team>(
    asyncEnumerable: new SingleQueryingEnumerable<Team>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            SELECT TOP(1) t.TeamId, t.TeamName
            FROM TMS.Teams AS t
            WHERE t.TeamId == @__teamId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:08:52.981 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:08:52.984 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 19:08:52.987 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:52.991 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:52.996 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:08:52.999 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 19:08:53.001 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:08:53.006 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:08:53.123 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:08:53.150 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 19:08:53.159 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.164 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 33ms reading results.
2024-09-11 19:08:53.167 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.172 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 19:08:53.179 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-11 19:08:53.190 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:08:53.204 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.207 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.209 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:08:53.213 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:08:53.216 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 19:08:53.219 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:08:53.232 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:08:53.238 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 19:08:53.242 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.244 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 19:08:53.248 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.251 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:08:53.270 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 19:08:53.281 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 19:08:53.288 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 19:08:53.310 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 19:08:53.350 +02:00 [DBG] The navigation 'UserTeam.Team' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 19:08:53.368 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 19:08:53.377 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 19:08:53.405 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 19:08:53.507 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 19:08:53.521 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.527 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.532 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 19:08:53.545 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 19:08:53.553 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:08:53.556 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 19:08:53.560 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 19:08:53.562 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 19:08:53.586 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 19:08:53.606 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.610 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 18ms reading results.
2024-09-11 19:08:53.621 +02:00 [DBG] Disposing transaction.
2024-09-11 19:08:53.627 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:53.632 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 19:08:53.655 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TMS.Infrastructure.Persistence.TMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:319ce9af-818e-4c3e-ac0c-738f48a29fd4
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:319ce9af-818e-4c3e-ac0c-738f48a29fd4
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-11 19:08:54.102 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 13611.7845ms
2024-09-11 19:08:54.108 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:08:54.113 +02:00 [ERR] HTTP POST /api/v1/teams/1/adduser responded 500 in 13705.9476 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:319ce9af-818e-4c3e-ac0c-738f48a29fd4
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TMS.Infrastructure.Repositories.TeamRepository.UpdateAsync(Team update) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Infrastructure\Repositories\TeamRepository.cs:line 38
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 50
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 19:08:54.511 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:08:54.516 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:08:54.518 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 19:08:54.521 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/teams/1/adduser - 500 null null 14157.0273ms
2024-09-11 19:09:09.737 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7123/api/v1/teams/1/adduser - application/json 14
2024-09-11 19:09:09.744 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:09:09.747 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:09:09.752 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:09:09.757 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 19:09:09.760 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 19:09:09.762 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:09:09.767 +02:00 [DBG] Authorization was successful.
2024-09-11 19:09:09.772 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:09:09.776 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 19:09:09.780 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 19:09:09.784 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 19:09:09.789 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 19:09:09.792 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 19:09:09.795 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 19:09:09.798 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:09:09.803 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:09:09.806 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:09:09.808 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 19:09:09.811 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:09:09.814 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:09:09.818 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:09:09.822 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:09:09.824 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:09:09.826 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 19:09:09.829 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 19:09:09.834 +02:00 [DBG] Connection id "0HN6IGGS2HKQQ", Request id "0HN6IGGS2HKQQ:0000000F": started reading request body.
2024-09-11 19:09:09.836 +02:00 [DBG] Connection id "0HN6IGGS2HKQQ", Request id "0HN6IGGS2HKQQ:0000000F": done reading request body.
2024-09-11 19:09:09.839 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 19:09:09.840 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:09:09.843 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:09:09.846 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:09:09.849 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:09:22.770 +02:00 [INF] string@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 19:09:42.222 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:09:42.230 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:09:42.233 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 19:09:42.236 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:09:42.240 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:09:42.242 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:09:42.244 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 19:09:42.247 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:09:42.250 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:09:42.300 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2024-09-11 19:09:42.314 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 19:09:42.317 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:09:42.320 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 19:09:42.323 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:09:42.326 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:10:05.332 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:10:05.337 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:10:05.340 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:10:05.342 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 19:10:05.344 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:10:05.346 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:10:05.389 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:10:05.398 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 19:10:05.402 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:10:05.405 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 19:10:05.408 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:10:05.410 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:11:31.617 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 19:11:31.623 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 19:11:31.626 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 19:11:31.628 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 19:11:31.635 +02:00 [DBG] The navigation 'UserTeam.Team' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 19:11:31.640 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 19:11:31.644 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 19:11:31.649 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 19:11:31.653 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 19:11:31.657 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:11:31.659 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:11:31.662 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 19:11:31.666 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 19:11:31.668 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:11:31.670 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 19:11:31.673 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:11:31.675 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 19:11:31.719 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 19:11:31.728 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:11:31.731 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 19:11:31.737 +02:00 [DBG] Disposing transaction.
2024-09-11 19:11:31.740 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:11:31.745 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (5ms).
2024-09-11 19:11:31.752 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TMS.Infrastructure.Persistence.TMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:319ce9af-818e-4c3e-ac0c-738f48a29fd4
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:319ce9af-818e-4c3e-ac0c-738f48a29fd4
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-11 19:11:32.104 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 142305.739ms
2024-09-11 19:11:32.109 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:11:32.112 +02:00 [ERR] HTTP POST /api/v1/teams/1/adduser responded 500 in 142349.3071 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_UserTeams'. Cannot insert duplicate key in object 'TMS.UserTeams'. The duplicate key value is (f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, 1).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:319ce9af-818e-4c3e-ac0c-738f48a29fd4
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TMS.Infrastructure.Repositories.TeamRepository.UpdateAsync(Team update) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Infrastructure\Repositories\TeamRepository.cs:line 38
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 50
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 19:11:32.447 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:11:32.451 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:11:32.455 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 19:11:32.458 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7123/api/v1/teams/1/adduser - 500 null null 142721.4954ms
2024-09-11 19:28:38.372 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 19:28:38.489 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 19:28:38.574 +02:00 [DBG] Hosting starting
2024-09-11 19:28:38.586 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 19:28:38.600 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 19:28:38.616 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 19:28:38.624 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 19:28:38.630 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 19:28:38.634 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 19:28:38.642 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 19:28:38.647 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 19:28:38.653 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 19:28:38.656 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 19:28:38.754 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 19:28:38.757 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 19:28:38.759 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 19:28:38.762 +02:00 [INF] Hosting environment: Development
2024-09-11 19:28:38.764 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 19:28:38.767 +02:00 [DBG] Hosting started
2024-09-11 19:28:44.086 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" accepted.
2024-09-11 19:28:44.092 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" started.
2024-09-11 19:28:44.092 +02:00 [DBG] Connection id "0HN6IGSNPLG9K" accepted.
2024-09-11 19:28:44.098 +02:00 [DBG] Connection id "0HN6IGSNPLG9K" started.
2024-09-11 19:28:44.139 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 19:28:44.148 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 19:28:44.190 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 19:28:44.194 +02:00 [DBG] Request did not match any endpoints
2024-09-11 19:28:44.208 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:28:44.217 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:28:44.222 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:28:44.325 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 94.1341 ms
2024-09-11 19:28:44.337 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" completed keep alive response.
2024-09-11 19:28:44.342 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 204.9201ms
2024-09-11 19:28:44.354 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 19:28:44.361 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 19:28:44.363 +02:00 [DBG] Request did not match any endpoints
2024-09-11 19:28:44.370 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:28:44.375 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:28:44.378 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:28:44.382 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.8314 ms
2024-09-11 19:28:44.389 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" completed keep alive response.
2024-09-11 19:28:44.392 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 38.0085ms
2024-09-11 19:28:44.662 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 19:28:44.671 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 19:28:44.676 +02:00 [DBG] Request did not match any endpoints
2024-09-11 19:28:44.681 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:28:44.686 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:28:44.690 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:28:44.907 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 213.0357 ms
2024-09-11 19:28:44.913 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" completed keep alive response.
2024-09-11 19:28:44.916 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 253.706ms
2024-09-11 19:29:01.302 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 19:29:01.319 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 19:29:01.325 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:29:01.331 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:29:01.335 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:29:01.338 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:29:01.343 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:29:01.347 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 19:29:01.353 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:29:01.362 +02:00 [DBG] Connection id "0HN6IGSNPLG9J", Request id "0HN6IGSNPLG9J:00000004": started reading request body.
2024-09-11 19:29:01.367 +02:00 [DBG] Connection id "0HN6IGSNPLG9J", Request id "0HN6IGSNPLG9J:00000004": done reading request body.
2024-09-11 19:29:01.500 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 19:29:01.882 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:29:01.933 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:29:02.201 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:29:02.209 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 19:29:02.279 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 19:29:02.283 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 19:29:02.288 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 19:29:02.479 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 19:29:02.753 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:29:02.844 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 19:29:03.130 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:29:03.191 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:29:03.222 +02:00 [DBG] Created DbConnection. (24ms).
2024-09-11 19:29:03.231 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:03.463 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:03.472 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:29:03.486 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 19:29:03.501 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-09-11 19:29:03.517 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 19:29:03.635 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 19:29:03.723 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 19:29:03.792 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:03.805 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 158ms reading results.
2024-09-11 19:29:03.814 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:03.826 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (12ms).
2024-09-11 19:29:04.008 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 19:29:04.055 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 19:29:04.062 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.068 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.073 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:29:04.075 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:29:04.078 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:29:04.082 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 19:29:04.091 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 19:29:04.098 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.101 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 19:29:04.105 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.108 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:29:04.123 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 19:29:04.148 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 19:29:04.155 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.159 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.162 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:29:04.165 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:29:04.168 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 19:29:04.171 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 19:29:04.181 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 19:29:04.188 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.191 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 19:29:04.194 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.197 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:29:04.205 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 19:29:04.214 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:29:04.221 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.224 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.227 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:29:04.230 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:29:04.234 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 19:29:04.237 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:29:04.245 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:29:04.261 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 19:29:04.277 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.280 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 29ms reading results.
2024-09-11 19:29:04.284 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.287 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:29:04.297 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 19:29:04.307 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 19:29:04.313 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.316 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.319 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:29:04.322 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:29:04.326 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 19:29:04.330 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:29:04.338 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:29:04.343 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.346 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 19:29:04.351 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.354 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:29:04.361 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.365 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.370 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:29:04.372 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:29:04.374 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:29:04.377 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:29:04.383 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:29:04.388 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 19:29:04.391 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.393 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 19:29:04.396 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.399 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:29:04.404 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.407 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.409 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:29:04.411 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 19:29:04.414 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:29:04.418 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:29:04.422 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:29:04.426 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.429 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 19:29:04.433 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.435 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:29:04.444 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 19:29:04.459 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:29:04.463 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3120.9105 ms
2024-09-11 19:29:04.469 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" completed keep alive response.
2024-09-11 19:29:04.474 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:29:04.482 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:04.486 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 19:29:04.489 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3186.6609ms
2024-09-11 19:29:41.193 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 14
2024-09-11 19:29:41.203 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:29:41.208 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:29:41.212 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:29:41.220 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 19:29:41.224 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 19:29:41.228 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:29:41.237 +02:00 [DBG] Authorization was successful.
2024-09-11 19:29:41.241 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:29:41.267 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 19:29:41.274 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 19:29:41.278 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 19:29:41.282 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 19:29:41.286 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 19:29:41.289 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 19:29:41.294 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:29:41.299 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 19:29:41.305 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:29:41.313 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 19:29:41.318 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:29:41.321 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:29:41.326 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 19:29:41.344 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 19:29:41.349 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:29:41.352 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 19:29:41.358 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 19:29:41.367 +02:00 [DBG] Connection id "0HN6IGSNPLG9J", Request id "0HN6IGSNPLG9J:00000005": started reading request body.
2024-09-11 19:29:41.370 +02:00 [DBG] Connection id "0HN6IGSNPLG9J", Request id "0HN6IGSNPLG9J:00000005": done reading request body.
2024-09-11 19:29:41.375 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 19:29:41.377 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:29:41.381 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:29:41.383 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 19:29:41.389 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 19:29:41.407 +02:00 [INF] string@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 19:29:41.495 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:29:41.504 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .FirstOrDefault(t => t.TeamId == __teamId_0)'
2024-09-11 19:29:41.521 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 19:29:41.708 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Team>(
    asyncEnumerable: new SingleQueryingEnumerable<Team>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
                3 -> 2
                4 -> 3
            SELECT t0.TeamId, t0.TeamName, u.UserId, u.TeamId
            FROM 
            (
                SELECT TOP(1) t.TeamId, t.TeamName
                FROM TMS.Teams AS t
                WHERE t.TeamId == @__teamId_0
            ) AS t0
            LEFT JOIN TMS.UserTeams AS u ON t0.TeamId == u.TeamId
            ORDER BY t0.TeamId ASC, u.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:29:41.718 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:29:41.722 +02:00 [DBG] Created DbConnection. (4ms).
2024-09-11 19:29:41.726 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:41.732 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:41.735 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:29:41.738 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:29:41.741 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 19:29:41.745 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 19:29:41.778 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 19:29:41.803 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 19:29:41.842 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 19:29:41.848 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:41.851 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 67ms reading results.
2024-09-11 19:29:41.856 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:41.858 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:29:41.865 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-11 19:29:41.876 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 19:29:41.884 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:41.889 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:41.893 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:29:41.896 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:29:41.899 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:29:41.902 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:29:41.911 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 19:29:41.927 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 19:29:41.937 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 19:29:41.942 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:41.946 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 26ms reading results.
2024-09-11 19:29:41.949 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:41.952 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:29:41.965 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 668.0637ms
2024-09-11 19:29:41.969 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:29:41.972 +02:00 [ERR] HTTP POST /api/v1/teams/1/adduser responded 500 in 743.6247 ms
TMS.Domain.Exceptions.NotValidOperationException: User with email dev@test.com is already a member of this team
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 41
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 71
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 19:29:42.020 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" completed keep alive response.
2024-09-11 19:29:42.023 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:29:42.027 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:29:42.031 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 19:29:42.034 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 409 null null 840.931ms
2024-09-11 19:30:56.103 +02:00 [DBG] Connection id "0HN6IGSNPLG9K" disconnecting.
2024-09-11 19:30:56.109 +02:00 [DBG] Connection id "0HN6IGSNPLG9K" stopped.
2024-09-11 19:30:56.112 +02:00 [DBG] Connection id "0HN6IGSNPLG9K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 19:31:52.651 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" disconnecting.
2024-09-11 19:31:52.661 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" stopped.
2024-09-11 19:31:52.671 +02:00 [DBG] Connection id "0HN6IGSNPLG9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 19:39:46.002 +02:00 [DBG] Connection id "0HN6IGSNPLG9L" accepted.
2024-09-11 19:39:46.018 +02:00 [DBG] Connection id "0HN6IGSNPLG9L" started.
2024-09-11 19:39:46.022 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 121
2024-09-11 19:39:46.035 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 19:39:46.038 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:39:46.042 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 19:39:46.045 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 19:39:46.049 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 19:39:46.052 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:39:46.054 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:39:46.057 +02:00 [DBG] Connection id "0HN6IGSNPLG9L", Request id "0HN6IGSNPLG9L:00000001": started reading request body.
2024-09-11 19:39:46.060 +02:00 [DBG] Connection id "0HN6IGSNPLG9L", Request id "0HN6IGSNPLG9L:00000001": done reading request body.
2024-09-11 19:39:46.086 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 19:39:46.094 +02:00 [DBG] Creating DbConnection.
2024-09-11 19:39:46.097 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 19:39:46.099 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.209 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.222 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:39:46.231 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-11 19:39:46.241 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-09-11 19:39:46.246 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 19:39:46.311 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedUserName_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 19:39:46.318 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 19:39:46.322 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.326 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 19:39:46.329 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.331 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:39:46.474 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.479 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.482 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:39:46.485 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 19:39:46.488 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 19:39:46.491 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 19:39:46.500 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 19:39:46.505 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.508 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 19:39:46.513 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.517 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:39:46.521 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.524 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.528 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:39:46.531 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 19:39:46.534 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 19:39:46.537 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 19:39:46.572 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 19:39:46.579 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.583 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 19:39:46.586 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.589 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 19:39:46.594 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.598 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.602 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:39:46.604 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:39:46.606 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 19:39:46.609 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:39:46.619 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 19:39:46.626 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 19:39:46.631 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.634 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 19:39:46.638 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.641 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:39:46.645 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.648 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.651 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 19:39:46.654 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 19:39:46.657 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 19:39:46.659 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:39:46.666 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 19:39:46.672 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.676 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 19:39:46.680 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.684 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 19:39:46.688 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 19:39:46.691 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 19:39:46.694 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 641.7878 ms
2024-09-11 19:39:46.698 +02:00 [DBG] Connection id "0HN6IGSNPLG9L" completed keep alive response.
2024-09-11 19:39:46.701 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 19:39:46.705 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 19:39:46.708 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 19:39:46.711 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 688.8018ms
2024-09-11 19:40:10.088 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 8
2024-09-11 19:40:10.095 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:40:10.106 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 19:40:10.114 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 19:40:10.119 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 19:40:10.124 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 19:40:10.128 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 19:40:10.134 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator|TeamLead)
2024-09-11 19:40:10.141 +02:00 [INF] AuthenticationScheme: Identity.Bearer was forbidden.
2024-09-11 19:40:10.145 +02:00 [INF] HTTP POST /api/v1/teams/1/adduser responded 403 in 16.8341 ms
2024-09-11 19:40:10.149 +02:00 [DBG] Connection id "0HN6IGSNPLG9L" completed keep alive response.
2024-09-11 19:40:10.151 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 403 0 null 63.6583ms
2024-09-11 19:40:10.161 +02:00 [DBG] Connection id "0HN6IGSNPLG9L", Request id "0HN6IGSNPLG9L:00000002": started reading request body.
2024-09-11 19:40:10.165 +02:00 [DBG] Connection id "0HN6IGSNPLG9L", Request id "0HN6IGSNPLG9L:00000002": done reading request body.
2024-09-11 19:42:21.072 +02:00 [DBG] Connection id "0HN6IGSNPLG9L" disconnecting.
2024-09-11 19:42:21.077 +02:00 [DBG] Connection id "0HN6IGSNPLG9L" stopped.
2024-09-11 19:42:21.081 +02:00 [DBG] Connection id "0HN6IGSNPLG9L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 20:04:28.422 +02:00 [INF] Application is shutting down...
2024-09-11 20:04:28.424 +02:00 [DBG] Hosting stopping
2024-09-11 20:04:28.436 +02:00 [DBG] Hosting stopped
2024-09-11 20:06:46.111 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 20:06:46.241 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 20:06:46.332 +02:00 [DBG] Hosting starting
2024-09-11 20:06:46.344 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 20:06:46.357 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 20:06:46.373 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 20:06:46.382 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 20:06:46.388 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 20:06:46.392 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 20:06:46.400 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 20:06:46.405 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 20:06:46.410 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 20:06:46.414 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 20:06:46.510 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 20:06:46.513 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 20:06:46.516 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 20:06:46.519 +02:00 [INF] Hosting environment: Development
2024-09-11 20:06:46.521 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 20:06:46.524 +02:00 [DBG] Hosting started
2024-09-11 20:07:06.047 +02:00 [DBG] Connection id "0HN6IHI5QS80K" accepted.
2024-09-11 20:07:06.052 +02:00 [DBG] Connection id "0HN6IHI5QS80K" started.
2024-09-11 20:07:06.053 +02:00 [DBG] Connection id "0HN6IHI5QS80L" accepted.
2024-09-11 20:07:06.060 +02:00 [DBG] Connection id "0HN6IHI5QS80L" started.
2024-09-11 20:07:06.103 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 20:07:06.113 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 20:07:06.155 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 20:07:06.159 +02:00 [DBG] Request did not match any endpoints
2024-09-11 20:07:06.174 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 20:07:06.183 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 20:07:06.188 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 20:07:06.292 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 94.5088 ms
2024-09-11 20:07:06.303 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:07:06.307 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 205.4815ms
2024-09-11 20:07:06.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 20:07:06.327 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 20:07:06.330 +02:00 [DBG] Request did not match any endpoints
2024-09-11 20:07:06.336 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 20:07:06.340 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 20:07:06.343 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 20:07:06.348 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.7550 ms
2024-09-11 20:07:06.353 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:07:06.357 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 38.3298ms
2024-09-11 20:07:06.620 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 20:07:06.628 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 20:07:06.633 +02:00 [DBG] Request did not match any endpoints
2024-09-11 20:07:06.638 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 20:07:06.644 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 20:07:06.647 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 20:07:06.864 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 215.4298 ms
2024-09-11 20:07:06.872 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:07:06.876 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 255.0912ms
2024-09-11 20:07:24.162 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 20:07:24.177 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 20:07:24.185 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 20:07:24.190 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 20:07:24.194 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 20:07:24.197 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 20:07:24.202 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 20:07:24.206 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 20:07:24.212 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 20:07:24.222 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000004": started reading request body.
2024-09-11 20:07:24.226 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000004": done reading request body.
2024-09-11 20:07:24.357 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 20:07:24.730 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 20:07:24.781 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 20:07:25.040 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 20:07:25.047 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 20:07:25.110 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 20:07:25.116 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 20:07:25.120 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 20:07:25.266 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 20:07:25.531 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 20:07:25.618 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 20:07:25.883 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 20:07:25.945 +02:00 [DBG] Creating DbConnection.
2024-09-11 20:07:25.974 +02:00 [DBG] Created DbConnection. (27ms).
2024-09-11 20:07:25.983 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:26.209 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:26.218 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:07:26.230 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-11 20:07:26.245 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-09-11 20:07:26.262 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 20:07:26.571 +02:00 [INF] Executed DbCommand (311ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 20:07:26.669 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 20:07:26.745 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:26.759 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 176ms reading results.
2024-09-11 20:07:26.769 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:26.780 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (10ms).
2024-09-11 20:07:26.955 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 20:07:27.004 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 20:07:27.011 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.017 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.021 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:07:27.024 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 20:07:27.027 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 20:07:27.030 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 20:07:27.040 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 20:07:27.046 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.052 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 20:07:27.055 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.058 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 20:07:27.072 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 20:07:27.097 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 20:07:27.105 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.110 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.113 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:07:27.116 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 20:07:27.120 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 20:07:27.123 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 20:07:27.151 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 20:07:27.158 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.163 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 20:07:27.168 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.173 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 20:07:27.181 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 20:07:27.192 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 20:07:27.200 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.205 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.209 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:07:27.211 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:07:27.215 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 20:07:27.218 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 20:07:27.227 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 20:07:27.242 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 20:07:27.258 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.262 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-09-11 20:07:27.267 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.271 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:07:27.280 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 20:07:27.291 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 20:07:27.297 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.303 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.306 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:07:27.308 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:07:27.311 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 20:07:27.314 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 20:07:27.324 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 20:07:27.329 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.332 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 20:07:27.337 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.340 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:07:27.352 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 20:07:27.365 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 20:07:27.370 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3170.1557 ms
2024-09-11 20:07:27.375 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:07:27.381 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 20:07:27.390 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:27.394 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-11 20:07:27.399 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3236.1732ms
2024-09-11 20:07:56.153 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/5/adduser - application/json 8
2024-09-11 20:07:56.164 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/5/adduser'
2024-09-11 20:07:56.169 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/5/adduser'
2024-09-11 20:07:56.173 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 20:07:56.179 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 20:07:56.183 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 20:07:56.186 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 20:07:56.195 +02:00 [DBG] Authorization was successful.
2024-09-11 20:07:56.199 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 20:07:56.223 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 20:07:56.231 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 20:07:56.235 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 20:07:56.239 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 20:07:56.244 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 20:07:56.247 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 20:07:56.253 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:07:56.257 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:07:56.265 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:07:56.272 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 20:07:56.278 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:07:56.282 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:07:56.285 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:07:56.302 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:07:56.308 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:07:56.311 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 20:07:56.316 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 20:07:56.324 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000005": started reading request body.
2024-09-11 20:07:56.328 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000005": done reading request body.
2024-09-11 20:07:56.332 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 20:07:56.335 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:07:56.338 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:07:56.340 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:07:56.346 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:07:56.371 +02:00 [INF] admin@test.com adding string to Team with Id: 5.
2024-09-11 20:07:56.475 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 20:07:56.486 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .FirstOrDefault(t => t.TeamId == __teamId_0)'
2024-09-11 20:07:56.503 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 20:07:56.579 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Team>(
    asyncEnumerable: new SingleQueryingEnumerable<Team>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
                3 -> 2
                4 -> 3
            SELECT t0.TeamId, t0.TeamName, u.UserId, u.TeamId
            FROM 
            (
                SELECT TOP(1) t.TeamId, t.TeamName
                FROM TMS.Teams AS t
                WHERE t.TeamId == @__teamId_0
            ) AS t0
            LEFT JOIN TMS.UserTeams AS u ON t0.TeamId == u.TeamId
            ORDER BY t0.TeamId ASC, u.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 20:07:56.588 +02:00 [DBG] Creating DbConnection.
2024-09-11 20:07:56.593 +02:00 [DBG] Created DbConnection. (4ms).
2024-09-11 20:07:56.597 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:56.601 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:56.604 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:07:56.606 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 20:07:56.609 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 20:07:56.614 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:07:56.675 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__teamId_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:07:56.695 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:56.702 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 20:07:56.707 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:56.710 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:07:56.717 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-11 20:07:56.728 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 20:07:56.736 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:56.742 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:56.746 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:07:56.748 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:07:56.752 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 20:07:56.755 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:07:56.765 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:07:56.772 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:56.775 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 20:07:56.779 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:56.782 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 20:07:56.794 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 539.3076ms
2024-09-11 20:07:56.799 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 20:07:56.802 +02:00 [ERR] HTTP POST /api/v1/teams/5/adduser responded 500 in 616.6147 ms
TMS.Domain.Exceptions.NotFoundException: "Team" with givin (5) was not found.
   at TMS.Application.Teams.Commands.AddUserToTeam.AddUserToTeamCommandHandler.Handle(AddUserToTeamCommand request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\AddUserToTeam\AddUserToTeamCommandHandler.cs:line 31
   at TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 72
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 20:07:56.871 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:07:56.876 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 20:07:56.879 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:07:56.883 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 20:07:56.887 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/5/adduser - 404 null null 733.6464ms
2024-09-11 20:08:53.735 +02:00 [DBG] Connection id "0HN6IHI5QS80L" received FIN.
2024-09-11 20:08:53.736 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/5/removeuser - application/json 8
2024-09-11 20:08:53.740 +02:00 [DBG] Connection id "0HN6IHI5QS80L" disconnecting.
2024-09-11 20:08:53.762 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/5/removeuser'
2024-09-11 20:08:53.765 +02:00 [DBG] Connection id "0HN6IHI5QS80L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 20:08:53.768 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/removeuser' is valid for the request path '/api/v1/teams/5/removeuser'
2024-09-11 20:08:53.775 +02:00 [DBG] Connection id "0HN6IHI5QS80L" stopped.
2024-09-11 20:08:53.776 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:08:53.784 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 20:08:53.787 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 20:08:53.789 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 20:08:53.794 +02:00 [DBG] Authorization was successful.
2024-09-11 20:08:53.798 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:08:53.808 +02:00 [INF] Route matched with {action = "removeUserFromTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] removeUserFromTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 20:08:53.813 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 20:08:53.816 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 20:08:53.819 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 20:08:53.824 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 20:08:53.827 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 20:08:53.832 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:08:53.835 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:08:53.839 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:08:53.842 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 20:08:53.846 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:08:53.849 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:08:53.852 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:08:53.857 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:08:53.859 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:08:53.863 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 20:08:53.866 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 20:08:53.870 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000006": started reading request body.
2024-09-11 20:08:53.873 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000006": done reading request body.
2024-09-11 20:08:53.876 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 20:08:53.879 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:08:53.883 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:08:53.886 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:08:53.890 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:08:53.901 +02:00 [INF] admin@test.com is Deletting string from team with Id: 5
2024-09-11 20:08:53.925 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 20:08:53.935 +02:00 [DBG] Creating DbConnection.
2024-09-11 20:08:53.937 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 20:08:53.939 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:08:53.942 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:08:53.946 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:08:53.948 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:08:53.952 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 20:08:53.955 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:08:53.992 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__teamId_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:08:53.998 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:08:54.001 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 20:08:54.004 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:08:54.008 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:08:54.014 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:08:54.017 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:08:54.020 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:08:54.022 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:08:54.025 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 20:08:54.029 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:08:54.046 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:08:54.050 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:08:54.053 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 20:08:54.056 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:08:54.059 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 20:08:54.063 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API) in 231.4572ms
2024-09-11 20:08:54.066 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:08:54.069 +02:00 [ERR] HTTP POST /api/v1/teams/5/removeuser responded 500 in 279.6540 ms
TMS.Domain.Exceptions.NotFoundException: "Team" with givin (5) was not found.
   at TMS.Application.Teams.Commands.RemoveUserFormTeam.RemoveUserFormTeamQueryHandler.Handle(RemoveUserFormTeamQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\RemoveUserFormTeam\RemoveUserFormTeamQueryHandler.cs:line 31
   at TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 86
   at lambda_method227(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 20:08:54.084 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:08:54.087 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 20:08:54.089 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:08:54.092 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 20:08:54.095 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/5/removeuser - 404 null null 359.7372ms
2024-09-11 20:09:07.166 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/removeuser - application/json 8
2024-09-11 20:09:07.174 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/removeuser'
2024-09-11 20:09:07.177 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/removeuser' is valid for the request path '/api/v1/teams/1/removeuser'
2024-09-11 20:09:07.181 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:09:07.185 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 20:09:07.188 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 20:09:07.192 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 20:09:07.198 +02:00 [DBG] Authorization was successful.
2024-09-11 20:09:07.201 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:09:07.204 +02:00 [INF] Route matched with {action = "removeUserFromTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] removeUserFromTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 20:09:07.211 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 20:09:07.215 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 20:09:07.218 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 20:09:07.222 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 20:09:07.227 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 20:09:07.230 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:09:07.233 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:09:07.236 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:09:07.239 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 20:09:07.243 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:09:07.246 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:09:07.248 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:09:07.252 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:09:07.255 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:09:07.258 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 20:09:07.261 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 20:09:07.263 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000007": started reading request body.
2024-09-11 20:09:07.265 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000007": done reading request body.
2024-09-11 20:09:07.268 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 20:09:07.270 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:09:07.273 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:09:07.276 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:09:07.279 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:09:07.282 +02:00 [INF] admin@test.com is Deletting string from team with Id: 1
2024-09-11 20:09:07.287 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 20:09:07.292 +02:00 [DBG] Creating DbConnection.
2024-09-11 20:09:07.294 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 20:09:07.296 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:07.299 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:07.302 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:09:07.304 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:09:07.306 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 20:09:07.310 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:09:07.352 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:09:07.389 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 20:09:07.426 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 20:09:07.433 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:07.436 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 69ms reading results.
2024-09-11 20:09:07.440 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:07.443 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:09:07.447 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:07.449 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:07.452 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:09:07.455 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:09:07.458 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 20:09:07.463 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:09:07.475 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='STRING' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:09:07.482 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:07.486 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 20:09:07.489 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:07.493 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:09:07.497 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API) in 267.186ms
2024-09-11 20:09:07.500 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:09:07.503 +02:00 [ERR] HTTP POST /api/v1/teams/1/removeuser responded 500 in 310.3039 ms
TMS.Domain.Exceptions.NotFoundException: "User" with givin (string) was not found.
   at TMS.Application.Teams.Commands.RemoveUserFormTeam.RemoveUserFormTeamQueryHandler.Handle(RemoveUserFormTeamQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\RemoveUserFormTeam\RemoveUserFormTeamQueryHandler.cs:line 36
   at TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 86
   at lambda_method227(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 20:09:07.520 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:09:07.524 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 20:09:07.527 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:07.531 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 20:09:07.534 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/removeuser - 404 null null 367.1398ms
2024-09-11 20:09:26.405 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/removeuser - application/json 14
2024-09-11 20:09:26.413 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/removeuser'
2024-09-11 20:09:26.416 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/removeuser' is valid for the request path '/api/v1/teams/1/removeuser'
2024-09-11 20:09:26.420 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:09:26.424 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 20:09:26.428 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 20:09:26.431 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 20:09:26.434 +02:00 [DBG] Authorization was successful.
2024-09-11 20:09:26.437 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:09:26.442 +02:00 [INF] Route matched with {action = "removeUserFromTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] removeUserFromTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 20:09:26.447 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 20:09:26.450 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 20:09:26.454 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 20:09:26.459 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 20:09:26.462 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 20:09:26.464 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:09:26.467 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:09:26.470 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:09:26.474 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 20:09:26.477 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:09:26.480 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:09:26.483 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:09:26.487 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:09:26.490 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:09:26.493 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 20:09:26.495 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 20:09:26.498 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000008": started reading request body.
2024-09-11 20:09:26.500 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000008": done reading request body.
2024-09-11 20:09:26.503 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 20:09:26.506 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:09:26.509 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:09:26.511 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:09:26.514 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:09:26.530 +02:00 [INF] admin@test.com is Deletting dev@test.com from team with Id: 1
2024-09-11 20:09:26.536 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 20:09:26.541 +02:00 [DBG] Creating DbConnection.
2024-09-11 20:09:26.543 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 20:09:26.545 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.548 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.551 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:09:26.554 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 20:09:26.557 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 20:09:26.560 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:09:26.566 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:09:26.572 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 20:09:26.575 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 20:09:26.579 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.582 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-09-11 20:09:26.585 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.589 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:09:26.592 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.595 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.597 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:09:26.599 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:09:26.602 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 20:09:26.605 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:09:26.610 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:09:26.622 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 20:09:26.628 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 20:09:26.631 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.634 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 19ms reading results.
2024-09-11 20:09:26.637 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.640 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:09:26.659 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 20:09:26.666 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 20:09:26.673 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 20:09:26.692 +02:00 [DBG] 0 entities were added and 1 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 20:09:26.700 +02:00 [DBG] The 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Deleted"'.
2024-09-11 20:09:26.711 +02:00 [DBG] The navigation 'UserTeam.Team' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 20:09:26.742 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 20:09:26.843 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 20:09:26.849 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.853 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.859 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 20:09:26.869 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 20:09:26.876 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:09:26.879 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:09:26.884 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-11 20:09:26.888 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
DELETE FROM [TMS].[UserTeams]
OUTPUT 1
WHERE [TeamId] = @p2 AND [UserId] = @p3;
2024-09-11 20:09:26.913 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
DELETE FROM [TMS].[UserTeams]
OUTPUT 1
WHERE [TeamId] = @p2 AND [UserId] = @p3;
2024-09-11 20:09:26.927 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.931 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-09-11 20:09:26.938 +02:00 [DBG] Committing transaction.
2024-09-11 20:09:26.947 +02:00 [DBG] Committed transaction.
2024-09-11 20:09:26.952 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:26.956 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:09:26.962 +02:00 [DBG] Disposing transaction.
2024-09-11 20:09:26.967 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-09-11 20:09:26.976 +02:00 [DBG] The 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Deleted"' to '"Detached"'.
2024-09-11 20:09:26.982 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 2 entities written to the database.
2024-09-11 20:09:26.989 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 20:09:26.997 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 20:09:26.998 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 20:09:27.001 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 20:09:27.005 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-11 20:09:27.009 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-11 20:09:27.013 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API) in 548.3418ms
2024-09-11 20:09:27.016 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:09:27.018 +02:00 [INF] HTTP POST /api/v1/teams/1/removeuser responded 200 in 586.7678 ms
2024-09-11 20:09:27.023 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:09:27.026 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 20:09:27.028 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:27.031 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 20:09:27.035 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/removeuser - 200 null text/plain; charset=utf-8 629.4247ms
2024-09-11 20:09:53.597 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/removeuser - application/json 14
2024-09-11 20:09:53.604 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/removeuser'
2024-09-11 20:09:53.607 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/removeuser' is valid for the request path '/api/v1/teams/1/removeuser'
2024-09-11 20:09:53.611 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:09:53.614 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 20:09:53.617 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 20:09:53.621 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 20:09:53.623 +02:00 [DBG] Authorization was successful.
2024-09-11 20:09:53.625 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:09:53.628 +02:00 [INF] Route matched with {action = "removeUserFromTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] removeUserFromTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 20:09:53.633 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 20:09:53.637 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 20:09:53.641 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 20:09:53.645 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 20:09:53.649 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 20:09:53.653 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:09:53.656 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:09:53.660 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:09:53.663 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 20:09:53.668 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:09:53.671 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:09:53.674 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:09:53.677 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:09:53.681 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:09:53.683 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 20:09:53.687 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 20:09:53.690 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000009": started reading request body.
2024-09-11 20:09:53.693 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:00000009": done reading request body.
2024-09-11 20:09:53.696 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 20:09:53.698 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:09:53.701 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:09:53.704 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:09:53.706 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:09:53.710 +02:00 [INF] admin@test.com is Deletting dev@test.com from team with Id: 1
2024-09-11 20:09:53.714 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 20:09:53.718 +02:00 [DBG] Creating DbConnection.
2024-09-11 20:09:53.721 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 20:09:53.723 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:53.726 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:53.728 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:09:53.731 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:09:53.734 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 20:09:53.736 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:09:53.741 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:09:53.748 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 20:09:53.751 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:53.757 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-09-11 20:09:53.760 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:53.764 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:09:53.768 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:53.772 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:53.774 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:09:53.776 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:09:53.779 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 20:09:53.782 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:09:53.787 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:09:53.792 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 20:09:53.796 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:53.799 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 20:09:53.802 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:53.804 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 20:09:53.808 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API) in 155.0213ms
2024-09-11 20:09:53.811 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam (TaskManagementSystem.API)'
2024-09-11 20:09:53.813 +02:00 [ERR] HTTP POST /api/v1/teams/1/removeuser responded 500 in 192.4349 ms
TMS.Domain.Exceptions.NotFoundException: dev@test.com is not a member of the team with Id: 1 to be deleted.
   at TMS.Application.Teams.Commands.RemoveUserFormTeam.RemoveUserFormTeamQueryHandler.Handle(RemoveUserFormTeamQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Commands\RemoveUserFormTeam\RemoveUserFormTeamQueryHandler.cs:line 43
   at TaskManagementSystem.API.Controllers.TeamsController.removeUserFromTeam(Int32 teamId, String UserEmail) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 86
   at lambda_method227(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 20:09:53.830 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:09:53.834 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 20:09:53.837 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:09:53.840 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 20:09:53.843 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/removeuser - 404 null null 246.3211ms
2024-09-11 20:10:02.787 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 14
2024-09-11 20:10:02.795 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 20:10:02.798 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 20:10:02.801 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 20:10:02.805 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 20:10:02.808 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 20:10:02.812 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 20:10:02.816 +02:00 [DBG] Authorization was successful.
2024-09-11 20:10:02.819 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 20:10:02.823 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 20:10:02.828 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 20:10:02.834 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 20:10:02.838 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 20:10:02.842 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 20:10:02.847 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 20:10:02.851 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:10:02.855 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:10:02.857 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:10:02.861 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 20:10:02.867 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:10:02.871 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:10:02.874 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 20:10:02.880 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 20:10:02.884 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:10:02.887 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 20:10:02.891 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 20:10:02.895 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:0000000A": started reading request body.
2024-09-11 20:10:02.899 +02:00 [DBG] Connection id "0HN6IHI5QS80K", Request id "0HN6IHI5QS80K:0000000A": done reading request body.
2024-09-11 20:10:02.903 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 20:10:02.906 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:10:02.909 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:10:02.913 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 20:10:02.917 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 20:10:02.922 +02:00 [INF] admin@test.com adding dev@test.com to Team with Id: 1.
2024-09-11 20:10:02.926 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 20:10:02.931 +02:00 [DBG] Creating DbConnection.
2024-09-11 20:10:02.933 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 20:10:02.935 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:02.939 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:02.942 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:10:02.945 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:10:02.948 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 20:10:02.951 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:10:03.001 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 20:10:03.007 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 20:10:03.010 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.013 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 20:10:03.017 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.020 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:10:03.025 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.028 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.031 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:10:03.034 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:10:03.036 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 20:10:03.039 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:10:03.055 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='DEV@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 20:10:03.061 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 20:10:03.066 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.069 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 20:10:03.072 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.074 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 20:10:03.078 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 20:10:03.084 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 20:10:03.086 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 20:10:03.089 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 20:10:03.104 +02:00 [DBG] The navigation 'UserTeam.Team' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 20:10:03.109 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 20:10:03.118 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 20:10:03.122 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 20:10:03.133 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 20:10:03.142 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.146 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.150 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 20:10:03.153 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 20:10:03.156 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:10:03.158 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:10:03.161 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 20:10:03.165 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 20:10:03.212 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 20:10:03.218 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.221 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 20:10:03.225 +02:00 [DBG] Committing transaction.
2024-09-11 20:10:03.229 +02:00 [DBG] Committed transaction.
2024-09-11 20:10:03.231 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.234 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 20:10:03.238 +02:00 [DBG] Disposing transaction.
2024-09-11 20:10:03.242 +02:00 [DBG] The 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-09-11 20:10:03.248 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-09-11 20:10:03.252 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 2 entities written to the database.
2024-09-11 20:10:03.256 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 20:10:03.262 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 20:10:03.263 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 20:10:03.265 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 20:10:03.267 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-11 20:10:03.269 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-11 20:10:03.272 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 421.0652ms
2024-09-11 20:10:03.275 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 20:10:03.277 +02:00 [INF] HTTP POST /api/v1/teams/1/adduser responded 200 in 464.9055 ms
2024-09-11 20:10:03.281 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:10:03.283 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 20:10:03.285 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:10:03.288 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 20:10:03.291 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 200 null text/plain; charset=utf-8 504.3818ms
2024-09-11 20:11:12.084 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams/all - null null
2024-09-11 20:11:12.092 +02:00 [DBG] 2 candidate(s) found for the request path '/api/v1/teams/all'
2024-09-11 20:11:12.095 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams/all' is valid for the request path '/api/v1/teams/all'
2024-09-11 20:11:12.098 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetTeamDetails (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}' is valid for the request path '/api/v1/teams/all'
2024-09-11 20:11:12.102 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 20:11:12.106 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 20:11:12.108 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 20:11:12.111 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 20:11:12.114 +02:00 [DBG] Authorization was successful.
2024-09-11 20:11:12.117 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 20:11:12.126 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 20:11:12.132 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 20:11:12.135 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 20:11:12.138 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 20:11:12.142 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 20:11:12.148 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 20:11:12.153 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:11:12.156 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 20:11:12.166 +02:00 [INF] Getting all Teams
2024-09-11 20:11:12.172 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 20:11:12.178 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()'
2024-09-11 20:11:12.187 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
        SELECT t.TeamId, t.TeamName
        FROM TMS.Teams AS t), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 20:11:12.192 +02:00 [DBG] Creating DbConnection.
2024-09-11 20:11:12.195 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 20:11:12.198 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:11:12.202 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:11:12.204 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 20:11:12.206 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 20:11:12.209 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 20:11:12.213 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
2024-09-11 20:11:12.254 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName]
FROM [TMS].[Teams] AS [t]
2024-09-11 20:11:12.259 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 20:11:12.265 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:11:12.268 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-09-11 20:11:12.271 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:11:12.274 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 20:11:12.299 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 20:11:12.306 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 20:11:12.310 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 20:11:12.314 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 20:11:12.316 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 20:11:12.318 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 20:11:12.322 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 20:11:12.336 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 182.9372ms
2024-09-11 20:11:12.341 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 20:11:12.343 +02:00 [INF] HTTP GET /api/v1/teams/all responded 200 in 231.9483 ms
2024-09-11 20:11:12.348 +02:00 [DBG] Connection id "0HN6IHI5QS80K" completed keep alive response.
2024-09-11 20:11:12.352 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 20:11:12.355 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 20:11:12.358 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 20:11:12.364 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams/all - 200 null application/json; charset=utf-8 280.3442ms
2024-09-11 20:13:23.302 +02:00 [DBG] Connection id "0HN6IHI5QS80K" disconnecting.
2024-09-11 20:13:23.312 +02:00 [DBG] Connection id "0HN6IHI5QS80K" stopped.
2024-09-11 20:13:23.320 +02:00 [DBG] Connection id "0HN6IHI5QS80K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 22:07:55.575 +02:00 [INF] Application is shutting down...
2024-09-11 22:07:55.577 +02:00 [DBG] Hosting stopping
2024-09-11 22:07:55.590 +02:00 [DBG] Hosting stopped
2024-09-11 23:14:54.614 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 23:14:54.740 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 23:14:54.846 +02:00 [DBG] Hosting starting
2024-09-11 23:14:54.862 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 23:14:54.878 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 23:14:54.895 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 23:14:54.902 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:14:54.907 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 23:14:54.911 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:14:54.918 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 23:14:54.923 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 23:14:54.927 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 23:14:54.931 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 23:14:55.034 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 23:14:55.037 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 23:14:55.039 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 23:14:55.041 +02:00 [INF] Hosting environment: Development
2024-09-11 23:14:55.043 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 23:14:55.045 +02:00 [DBG] Hosting started
2024-09-11 23:15:03.253 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" accepted.
2024-09-11 23:15:03.258 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" started.
2024-09-11 23:15:03.258 +02:00 [DBG] Connection id "0HN6IKR6MM9UK" accepted.
2024-09-11 23:15:03.264 +02:00 [DBG] Connection id "0HN6IKR6MM9UK" started.
2024-09-11 23:15:03.309 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 23:15:03.321 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 23:15:03.374 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 23:15:03.377 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:15:03.394 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:15:03.406 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:15:03.409 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:15:03.535 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 113.5176 ms
2024-09-11 23:15:03.547 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" completed keep alive response.
2024-09-11 23:15:03.553 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 245.7832ms
2024-09-11 23:15:03.588 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 23:15:03.593 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 23:15:03.595 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:15:03.602 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:15:03.605 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:15:03.613 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:15:03.620 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.8199 ms
2024-09-11 23:15:03.624 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" completed keep alive response.
2024-09-11 23:15:03.628 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 39.8523ms
2024-09-11 23:15:04.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 23:15:04.026 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 23:15:04.033 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:15:04.040 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:15:04.043 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:15:04.046 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:15:04.287 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 236.6786 ms
2024-09-11 23:15:04.292 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" completed keep alive response.
2024-09-11 23:15:04.295 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 275.4549ms
2024-09-11 23:15:17.465 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:15:17.481 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:15:17.490 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:15:17.498 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:15:17.503 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:15:17.506 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:15:17.508 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:15:17.512 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:15:17.517 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 23:15:17.523 +02:00 [DBG] Policy authentication schemes  did not succeed
2024-09-11 23:15:17.533 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-11 23:15:17.539 +02:00 [INF] AuthenticationScheme: Identity.Bearer was challenged.
2024-09-11 23:15:17.541 +02:00 [INF] HTTP GET /api/v1/teams responded 401 in 31.3644 ms
2024-09-11 23:15:17.546 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" completed keep alive response.
2024-09-11 23:15:17.549 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 401 0 null 83.7859ms
2024-09-11 23:16:02.940 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 23:16:02.948 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:16:02.951 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:16:02.955 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:16:02.957 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:16:02.960 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:16:02.965 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:16:02.969 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:16:02.980 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ", Request id "0HN6IKR6MM9UJ:00000005": started reading request body.
2024-09-11 23:16:02.985 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ", Request id "0HN6IKR6MM9UJ:00000005": done reading request body.
2024-09-11 23:16:03.117 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 23:16:03.481 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:16:03.539 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:16:03.777 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:16:03.784 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:16:03.840 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 23:16:03.845 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 23:16:03.848 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 23:16:03.991 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 23:16:04.245 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:16:04.328 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 23:16:04.587 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:16:04.646 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:16:04.674 +02:00 [DBG] Created DbConnection. (25ms).
2024-09-11 23:16:04.682 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:04.903 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:04.912 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:16:04.924 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 23:16:04.940 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-09-11 23:16:04.955 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:16:05.263 +02:00 [INF] Executed DbCommand (310ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:16:05.351 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 23:16:05.418 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.431 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 155ms reading results.
2024-09-11 23:16:05.441 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.452 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (10ms).
2024-09-11 23:16:05.633 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 23:16:05.678 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:16:05.685 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.691 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.694 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:16:05.697 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:16:05.701 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:16:05.704 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:16:05.714 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:16:05.721 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.725 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 23:16:05.728 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.731 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:16:05.745 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 23:16:05.769 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:16:05.776 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.780 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.784 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:16:05.787 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:16:05.790 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:16:05.793 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:16:05.806 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:16:05.812 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.817 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 23:16:05.823 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.826 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:16:05.835 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 23:16:05.846 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:16:05.854 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.858 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.861 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:16:05.864 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:16:05.868 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:16:05.871 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:16:05.880 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:16:05.895 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 23:16:05.911 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.915 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-09-11 23:16:05.920 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.923 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:16:05.930 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 23:16:05.939 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:16:05.945 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.949 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.953 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:16:05.955 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:16:05.959 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:16:05.962 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:16:05.970 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:16:05.977 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.980 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:16:05.984 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:05.989 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (5ms).
2024-09-11 23:16:06.002 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:16:06.018 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:16:06.024 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3059.3424 ms
2024-09-11 23:16:06.031 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" completed keep alive response.
2024-09-11 23:16:06.038 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:16:06.047 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:06.053 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-11 23:16:06.059 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3118.928ms
2024-09-11 23:16:26.099 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:16:26.099 +02:00 [DBG] Connection id "0HN6IKR6MM9UK" received FIN.
2024-09-11 23:16:26.106 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:16:26.110 +02:00 [DBG] Connection id "0HN6IKR6MM9UK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:16:26.111 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:16:26.116 +02:00 [DBG] Connection id "0HN6IKR6MM9UK" disconnecting.
2024-09-11 23:16:26.118 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:16:26.125 +02:00 [DBG] Connection id "0HN6IKR6MM9UK" stopped.
2024-09-11 23:16:26.128 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:16:26.133 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:16:26.138 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:16:26.143 +02:00 [DBG] Authorization was successful.
2024-09-11 23:16:26.146 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:16:26.164 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:16:26.170 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:16:26.174 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:16:26.179 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:16:26.183 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:16:26.187 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:16:26.192 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:16:26.196 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:16:26.211 +02:00 [INF] Getting all Teams for admin@test.com with Role : Administrator
2024-09-11 23:16:26.300 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:16:26.313 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .ThenInclude(ut => ut.User)'
2024-09-11 23:16:26.330 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:16:26.340 +02:00 [DBG] Including navigation: 'UserTeam.User'.
2024-09-11 23:16:26.420 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 4], [Property: User.AccessFailedCount (int) Required, 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.FirstName (string) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20] }
            4 -> 2
            5 -> 3
            6 -> 4
        SELECT t.TeamId, t.TeamName, t0.UserId, t0.TeamId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
        FROM TMS.Teams AS t
        LEFT JOIN 
        (
            SELECT u.UserId, u.TeamId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.UserTeams AS u
            INNER JOIN TMS.AspNetUsers AS a ON u.UserId == a.Id
        ) AS t0 ON t.TeamId == t0.TeamId
        ORDER BY t.TeamId ASC, t0.UserId ASC, t0.TeamId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:16:26.432 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:16:26.435 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 23:16:26.439 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:26.443 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:26.447 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:16:26.450 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:16:26.454 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:16:26.458 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:16:26.607 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:16:26.636 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:16:26.671 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:16:26.686 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:16:26.694 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:16:26.700 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:26.703 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 88ms reading results.
2024-09-11 23:16:26.707 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:26.710 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:16:26.740 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 544.5773ms
2024-09-11 23:16:26.745 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:16:26.747 +02:00 [ERR] HTTP GET /api/v1/teams responded 500 in 609.8693 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> ICollection`1
System.Collections.Generic.List`1[[TMS.Domain.Entities.Team, TMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.ICollection`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.ArgumentException: TMS.Application.Teams.Dtos.TeamViewDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method277(Closure, Object, ICollection`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method277(Closure, Object, ICollection`1, ResolutionContext)
   at TMS.Application.Teams.Queries.GetAllTeams.GetAllTemsQueryHandler.Handle(GetAllTemsQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Queries\GetAllTeams\GetAllTemsQueryHandler.cs:line 38
   at TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams() in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 27
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 23:16:26.801 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" completed keep alive response.
2024-09-11 23:16:26.804 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:16:26.808 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:16:26.811 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:16:26.816 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 500 null null 716.7562ms
2024-09-11 23:18:37.067 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" disconnecting.
2024-09-11 23:18:37.077 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" stopped.
2024-09-11 23:18:37.087 +02:00 [DBG] Connection id "0HN6IKR6MM9UJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:22:07.890 +02:00 [INF] Application is shutting down...
2024-09-11 23:22:07.892 +02:00 [DBG] Hosting stopping
2024-09-11 23:22:07.904 +02:00 [DBG] Hosting stopped
2024-09-11 23:22:18.033 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 23:22:18.150 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 23:22:18.264 +02:00 [DBG] Hosting starting
2024-09-11 23:22:18.280 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 23:22:18.299 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 23:22:18.317 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 23:22:18.324 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:22:18.331 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 23:22:18.335 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:22:18.343 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 23:22:18.348 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 23:22:18.353 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 23:22:18.357 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 23:22:18.456 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 23:22:18.459 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 23:22:18.462 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 23:22:18.464 +02:00 [INF] Hosting environment: Development
2024-09-11 23:22:18.466 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 23:22:18.468 +02:00 [DBG] Hosting started
2024-09-11 23:22:25.441 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" accepted.
2024-09-11 23:22:25.446 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" started.
2024-09-11 23:22:25.446 +02:00 [DBG] Connection id "0HN6IKVAFNHK8" accepted.
2024-09-11 23:22:25.452 +02:00 [DBG] Connection id "0HN6IKVAFNHK8" started.
2024-09-11 23:22:25.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 23:22:25.506 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 23:22:25.552 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 23:22:25.556 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:22:25.570 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:22:25.579 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:22:25.583 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:22:25.687 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 95.6972 ms
2024-09-11 23:22:25.699 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" completed keep alive response.
2024-09-11 23:22:25.704 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 208.3035ms
2024-09-11 23:22:25.717 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 23:22:25.724 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 23:22:25.727 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:22:25.733 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:22:25.738 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:22:25.741 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:22:25.747 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.0415 ms
2024-09-11 23:22:25.752 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" completed keep alive response.
2024-09-11 23:22:25.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 37.8717ms
2024-09-11 23:22:26.019 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 23:22:26.031 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 23:22:26.035 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:22:26.040 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:22:26.045 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:22:26.051 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:22:26.272 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 218.8810 ms
2024-09-11 23:22:26.279 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" completed keep alive response.
2024-09-11 23:22:26.282 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 263.1076ms
2024-09-11 23:22:44.569 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 23:22:44.587 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:22:44.593 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:22:44.598 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:22:44.602 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:22:44.605 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:22:44.610 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:22:44.614 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 23:22:44.618 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:22:44.628 +02:00 [DBG] Connection id "0HN6IKVAFNHK7", Request id "0HN6IKVAFNHK7:00000004": started reading request body.
2024-09-11 23:22:44.631 +02:00 [DBG] Connection id "0HN6IKVAFNHK7", Request id "0HN6IKVAFNHK7:00000004": done reading request body.
2024-09-11 23:22:44.763 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 23:22:45.146 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:22:45.198 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:22:45.455 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:22:45.462 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:22:45.520 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 23:22:45.525 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 23:22:45.529 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 23:22:45.678 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 23:22:45.952 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:22:46.048 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 23:22:46.316 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:22:46.375 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:22:46.403 +02:00 [DBG] Created DbConnection. (26ms).
2024-09-11 23:22:46.411 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:46.640 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:46.648 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:22:46.661 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 23:22:46.675 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-09-11 23:22:46.691 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:22:46.996 +02:00 [INF] Executed DbCommand (307ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:22:47.087 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 23:22:47.157 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.171 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 161ms reading results.
2024-09-11 23:22:47.179 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.194 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (14ms).
2024-09-11 23:22:47.375 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 23:22:47.428 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:22:47.436 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.441 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.446 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:22:47.449 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:22:47.453 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 23:22:47.458 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:22:47.469 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:22:47.476 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.480 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:22:47.484 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.488 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:22:47.504 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 23:22:47.530 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:22:47.538 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.542 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.546 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:22:47.548 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:22:47.551 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:22:47.555 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:22:47.565 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:22:47.572 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.576 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:22:47.580 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.582 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:22:47.590 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 23:22:47.599 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:22:47.607 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.609 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.612 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:22:47.615 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:22:47.617 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:22:47.621 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:22:47.629 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:22:47.643 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 23:22:47.658 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.660 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 27ms reading results.
2024-09-11 23:22:47.663 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.665 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:22:47.675 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 23:22:47.681 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:22:47.686 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.690 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.692 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:22:47.694 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:22:47.697 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:22:47.700 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:22:47.708 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:22:47.713 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.716 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:22:47.719 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.722 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:22:47.733 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:22:47.746 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:22:47.750 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3141.4012 ms
2024-09-11 23:22:47.756 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" completed keep alive response.
2024-09-11 23:22:47.761 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:22:47.771 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:22:47.775 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 23:22:47.779 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3209.1717ms
2024-09-11 23:23:08.993 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:23:09.002 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:23:09.007 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:23:09.012 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:23:09.018 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:23:09.023 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:23:09.026 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:23:09.033 +02:00 [DBG] Authorization was successful.
2024-09-11 23:23:09.036 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:23:09.054 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:23:09.060 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:23:09.063 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:23:09.069 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:23:09.074 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:23:09.079 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:23:09.086 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:23:09.090 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:23:09.106 +02:00 [INF] Getting all Teams for admin@test.com with Role : Administrator
2024-09-11 23:23:09.199 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:23:09.211 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .ThenInclude(ut => ut.User)'
2024-09-11 23:23:09.227 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:23:09.237 +02:00 [DBG] Including navigation: 'UserTeam.User'.
2024-09-11 23:23:09.313 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 4], [Property: User.AccessFailedCount (int) Required, 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.FirstName (string) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20] }
            4 -> 2
            5 -> 3
            6 -> 4
        SELECT t.TeamId, t.TeamName, t0.UserId, t0.TeamId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
        FROM TMS.Teams AS t
        LEFT JOIN 
        (
            SELECT u.UserId, u.TeamId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.UserTeams AS u
            INNER JOIN TMS.AspNetUsers AS a ON u.UserId == a.Id
        ) AS t0 ON t.TeamId == t0.TeamId
        ORDER BY t.TeamId ASC, t0.UserId ASC, t0.TeamId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:23:09.324 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:23:09.328 +02:00 [DBG] Created DbConnection. (4ms).
2024-09-11 23:23:09.331 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:23:09.336 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:23:09.340 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:23:09.343 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:23:09.346 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:23:09.350 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:23:09.494 +02:00 [INF] Executed DbCommand (145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:23:09.521 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:23:09.557 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:23:09.570 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:23:09.577 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:23:09.582 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:23:09.586 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 84ms reading results.
2024-09-11 23:23:09.589 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:23:09.593 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:23:09.621 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 532.6997ms
2024-09-11 23:23:09.624 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:23:09.627 +02:00 [ERR] HTTP GET /api/v1/teams responded 500 in 600.8922 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[TMS.Domain.Entities.Team, TMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.ArgumentException: TMS.Application.Teams.Dtos.TeamViewDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   at TMS.Application.Teams.Queries.GetAllTeams.GetAllTemsQueryHandler.Handle(GetAllTemsQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Queries\GetAllTeams\GetAllTemsQueryHandler.cs:line 38
   at TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams() in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 27
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 23:23:09.679 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" completed keep alive response.
2024-09-11 23:23:09.683 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:23:09.687 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:23:09.690 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 23:23:09.694 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 500 null null 700.8798ms
2024-09-11 23:24:36.730 +02:00 [DBG] Connection id "0HN6IKVAFNHK8" disconnecting.
2024-09-11 23:24:36.737 +02:00 [DBG] Connection id "0HN6IKVAFNHK8" stopped.
2024-09-11 23:24:36.743 +02:00 [DBG] Connection id "0HN6IKVAFNHK8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:25:20.152 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" disconnecting.
2024-09-11 23:25:20.156 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" stopped.
2024-09-11 23:25:20.159 +02:00 [DBG] Connection id "0HN6IKVAFNHK7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:28:30.021 +02:00 [INF] Application is shutting down...
2024-09-11 23:28:30.022 +02:00 [DBG] Hosting stopping
2024-09-11 23:28:30.037 +02:00 [DBG] Hosting stopped
2024-09-11 23:28:37.851 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 23:28:37.974 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 23:28:38.089 +02:00 [DBG] Hosting starting
2024-09-11 23:28:38.102 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 23:28:38.119 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 23:28:38.137 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 23:28:38.143 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:28:38.148 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 23:28:38.152 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:28:38.159 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 23:28:38.162 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 23:28:38.166 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 23:28:38.170 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 23:28:38.266 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 23:28:38.270 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 23:28:38.271 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 23:28:38.274 +02:00 [INF] Hosting environment: Development
2024-09-11 23:28:38.276 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 23:28:38.279 +02:00 [DBG] Hosting started
2024-09-11 23:28:46.107 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" accepted.
2024-09-11 23:28:46.112 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" started.
2024-09-11 23:28:46.112 +02:00 [DBG] Connection id "0HN6IL2RU1GDV" accepted.
2024-09-11 23:28:46.117 +02:00 [DBG] Connection id "0HN6IL2RU1GDV" started.
2024-09-11 23:28:46.159 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 23:28:46.170 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 23:28:46.213 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 23:28:46.217 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:28:46.230 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:28:46.240 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:28:46.244 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:28:46.351 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 98.8095 ms
2024-09-11 23:28:46.365 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" completed keep alive response.
2024-09-11 23:28:46.371 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 212.5336ms
2024-09-11 23:28:46.382 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 23:28:46.389 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 23:28:46.391 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:28:46.397 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:28:46.402 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:28:46.404 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:28:46.410 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 3.0821 ms
2024-09-11 23:28:46.416 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" completed keep alive response.
2024-09-11 23:28:46.419 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 37.1924ms
2024-09-11 23:28:46.676 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 23:28:46.688 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 23:28:46.692 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:28:46.696 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:28:46.701 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:28:46.705 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:28:46.932 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 221.5388 ms
2024-09-11 23:28:46.939 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" completed keep alive response.
2024-09-11 23:28:46.942 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 265.6402ms
2024-09-11 23:29:04.042 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 23:29:04.056 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:29:04.060 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:29:04.065 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:29:04.069 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:29:04.073 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:29:04.076 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:29:04.080 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 23:29:04.086 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:29:04.094 +02:00 [DBG] Connection id "0HN6IL2RU1GDU", Request id "0HN6IL2RU1GDU:00000004": started reading request body.
2024-09-11 23:29:04.099 +02:00 [DBG] Connection id "0HN6IL2RU1GDU", Request id "0HN6IL2RU1GDU:00000004": done reading request body.
2024-09-11 23:29:04.233 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 23:29:04.606 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:29:04.657 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:29:04.917 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:29:04.925 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:29:04.986 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 23:29:04.991 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 23:29:04.994 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 23:29:05.139 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 23:29:05.401 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:29:05.486 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 23:29:05.765 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:29:05.824 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:29:05.853 +02:00 [DBG] Created DbConnection. (25ms).
2024-09-11 23:29:05.859 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.102 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.111 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:29:06.124 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-09-11 23:29:06.140 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-09-11 23:29:06.156 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:29:06.360 +02:00 [INF] Executed DbCommand (207ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:29:06.452 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 23:29:06.520 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.534 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 159ms reading results.
2024-09-11 23:29:06.542 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.553 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (11ms).
2024-09-11 23:29:06.727 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 23:29:06.775 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:29:06.783 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.788 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.791 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:29:06.794 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:29:06.799 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 23:29:06.803 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:29:06.814 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:29:06.821 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.825 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 23:29:06.829 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.833 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:29:06.847 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 23:29:06.872 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:29:06.879 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.884 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.887 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:29:06.889 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:29:06.892 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:29:06.895 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:29:06.907 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:29:06.913 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.917 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:29:06.921 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.925 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:29:06.934 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 23:29:06.944 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:29:06.953 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.957 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:06.960 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:29:06.963 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:29:06.966 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:29:06.969 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:29:06.976 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:29:06.991 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 23:29:07.007 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:07.011 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 29ms reading results.
2024-09-11 23:29:07.015 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:07.019 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:29:07.026 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 23:29:07.037 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:29:07.042 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:07.045 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:07.052 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:29:07.055 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:29:07.058 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:29:07.062 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:29:07.072 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:29:07.077 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:07.082 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:29:07.086 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:07.089 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:29:07.101 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:29:07.117 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:29:07.122 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3046.6061 ms
2024-09-11 23:29:07.127 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" completed keep alive response.
2024-09-11 23:29:07.134 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:29:07.142 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:07.149 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-11 23:29:07.152 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3110.6198ms
2024-09-11 23:29:30.659 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:29:30.678 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:29:30.686 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:29:30.692 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:29:30.698 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:29:30.702 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:29:30.704 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:29:30.713 +02:00 [DBG] Authorization was successful.
2024-09-11 23:29:30.716 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:29:30.734 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:29:30.741 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:29:30.746 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:29:30.750 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:29:30.754 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:29:30.759 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:29:30.765 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:29:30.769 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:29:30.784 +02:00 [INF] Getting all Teams for admin@test.com with Role : Administrator
2024-09-11 23:29:30.876 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:29:30.889 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .ThenInclude(ut => ut.User)'
2024-09-11 23:29:30.906 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:29:30.915 +02:00 [DBG] Including navigation: 'UserTeam.User'.
2024-09-11 23:29:30.999 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 4], [Property: User.AccessFailedCount (int) Required, 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.FirstName (string) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20] }
            4 -> 2
            5 -> 3
            6 -> 4
        SELECT t.TeamId, t.TeamName, t0.UserId, t0.TeamId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
        FROM TMS.Teams AS t
        LEFT JOIN 
        (
            SELECT u.UserId, u.TeamId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.UserTeams AS u
            INNER JOIN TMS.AspNetUsers AS a ON u.UserId == a.Id
        ) AS t0 ON t.TeamId == t0.TeamId
        ORDER BY t.TeamId ASC, t0.UserId ASC, t0.TeamId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:29:31.010 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:29:31.014 +02:00 [DBG] Created DbConnection. (4ms).
2024-09-11 23:29:31.017 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:31.021 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:31.024 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:29:31.027 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:29:31.032 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 23:29:31.035 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:29:31.060 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:29:31.086 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:29:31.123 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:29:31.138 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:29:31.149 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:29:31.155 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:31.158 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 92ms reading results.
2024-09-11 23:29:31.163 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:31.166 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:29:31.197 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 430.0301ms
2024-09-11 23:29:31.203 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:29:31.206 +02:00 [ERR] HTTP GET /api/v1/teams responded 500 in 501.7748 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[TMS.Domain.Entities.Team, TMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.ArgumentException: TMS.Application.Teams.Dtos.TeamViewDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   at TMS.Application.Teams.Queries.GetAllTeams.GetAllTemsQueryHandler.Handle(GetAllTemsQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Queries\GetAllTeams\GetAllTemsQueryHandler.cs:line 38
   at TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams() in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 27
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 23:29:31.247 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" completed keep alive response.
2024-09-11 23:29:31.251 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:29:31.254 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:29:31.258 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:29:31.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 500 null null 603.2352ms
2024-09-11 23:30:57.507 +02:00 [DBG] Connection id "0HN6IL2RU1GDV" disconnecting.
2024-09-11 23:30:57.515 +02:00 [DBG] Connection id "0HN6IL2RU1GDV" stopped.
2024-09-11 23:30:57.519 +02:00 [DBG] Connection id "0HN6IL2RU1GDV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:31:41.855 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" disconnecting.
2024-09-11 23:31:41.859 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" stopped.
2024-09-11 23:31:41.861 +02:00 [DBG] Connection id "0HN6IL2RU1GDU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:33:43.541 +02:00 [INF] Application is shutting down...
2024-09-11 23:33:43.543 +02:00 [DBG] Hosting stopping
2024-09-11 23:33:43.561 +02:00 [DBG] Hosting stopped
2024-09-11 23:33:53.288 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 23:33:53.419 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 23:33:53.505 +02:00 [DBG] Hosting starting
2024-09-11 23:33:53.516 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 23:33:53.532 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 23:33:53.547 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 23:33:53.555 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:33:53.561 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 23:33:53.566 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:33:53.574 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 23:33:53.580 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 23:33:53.585 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 23:33:53.588 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 23:33:53.684 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 23:33:53.687 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 23:33:53.691 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 23:33:53.693 +02:00 [INF] Hosting environment: Development
2024-09-11 23:33:53.696 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 23:33:53.698 +02:00 [DBG] Hosting started
2024-09-11 23:33:57.723 +02:00 [DBG] Connection id "0HN6IL5OPR615" accepted.
2024-09-11 23:33:57.727 +02:00 [DBG] Connection id "0HN6IL5OPR615" started.
2024-09-11 23:33:57.728 +02:00 [DBG] Connection id "0HN6IL5OPR616" accepted.
2024-09-11 23:33:57.734 +02:00 [DBG] Connection id "0HN6IL5OPR616" started.
2024-09-11 23:33:57.777 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 23:33:57.789 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 23:33:57.833 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 23:33:57.837 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:33:57.851 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:33:57.862 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:33:57.866 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:33:57.969 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 95.6257 ms
2024-09-11 23:33:57.982 +02:00 [DBG] Connection id "0HN6IL5OPR615" completed keep alive response.
2024-09-11 23:33:57.987 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 211.3792ms
2024-09-11 23:33:58.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 23:33:58.008 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 23:33:58.011 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:33:58.016 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:33:58.020 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:33:58.023 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:33:58.028 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.8619 ms
2024-09-11 23:33:58.033 +02:00 [DBG] Connection id "0HN6IL5OPR615" completed keep alive response.
2024-09-11 23:33:58.036 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 35.3409ms
2024-09-11 23:33:58.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 23:33:58.294 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 23:33:58.298 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:33:58.304 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:33:58.307 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:33:58.310 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:33:58.517 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 202.5722 ms
2024-09-11 23:33:58.523 +02:00 [DBG] Connection id "0HN6IL5OPR615" completed keep alive response.
2024-09-11 23:33:58.526 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 239.38ms
2024-09-11 23:34:16.691 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 23:34:16.707 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:34:16.713 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:34:16.717 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:34:16.720 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:34:16.722 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:34:16.727 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:34:16.730 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 23:34:16.734 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:34:16.744 +02:00 [DBG] Connection id "0HN6IL5OPR615", Request id "0HN6IL5OPR615:00000004": started reading request body.
2024-09-11 23:34:16.748 +02:00 [DBG] Connection id "0HN6IL5OPR615", Request id "0HN6IL5OPR615:00000004": done reading request body.
2024-09-11 23:34:16.878 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 23:34:17.251 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:34:17.313 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:34:17.592 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:34:17.600 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:34:17.664 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 23:34:17.669 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 23:34:17.672 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 23:34:17.828 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 23:34:18.103 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:34:18.197 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 23:34:18.506 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:34:18.581 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:34:18.612 +02:00 [DBG] Created DbConnection. (28ms).
2024-09-11 23:34:18.619 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:18.875 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:18.882 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:34:18.894 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-11 23:34:18.908 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-09-11 23:34:18.924 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:34:19.038 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:34:19.135 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 23:34:19.204 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.224 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 170ms reading results.
2024-09-11 23:34:19.232 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.244 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (12ms).
2024-09-11 23:34:19.448 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 23:34:19.505 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:34:19.512 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.517 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.521 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:34:19.525 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:34:19.528 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:34:19.532 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:34:19.566 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:34:19.573 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.577 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 23:34:19.581 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.584 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:34:19.602 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 23:34:19.629 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:34:19.635 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.638 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.641 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:34:19.645 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:34:19.648 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:34:19.650 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:34:19.674 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:34:19.679 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.682 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:34:19.686 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.689 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:34:19.700 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 23:34:19.717 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:34:19.726 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.731 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.735 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:34:19.738 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:34:19.744 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-11 23:34:19.747 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:34:19.783 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:34:19.801 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 23:34:19.823 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.826 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 38ms reading results.
2024-09-11 23:34:19.830 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.833 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:34:19.844 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 23:34:19.855 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:34:19.861 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.864 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.867 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:34:19.869 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:34:19.871 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:34:19.875 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:34:19.917 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:34:19.931 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.938 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 23:34:19.945 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:19.948 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:34:19.963 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:34:19.981 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:34:19.986 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3260.2237 ms
2024-09-11 23:34:19.993 +02:00 [DBG] Connection id "0HN6IL5OPR615" completed keep alive response.
2024-09-11 23:34:19.999 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:34:20.011 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:20.017 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 23:34:20.021 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3329.8161ms
2024-09-11 23:34:39.916 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:34:39.925 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:34:39.930 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:34:39.935 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:34:39.940 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:34:39.944 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:34:39.947 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:34:39.957 +02:00 [DBG] Authorization was successful.
2024-09-11 23:34:39.960 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:34:39.980 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:34:39.989 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:34:39.992 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:34:39.998 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:34:40.003 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:34:40.007 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:34:40.013 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:34:40.017 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:34:40.035 +02:00 [INF] Getting all Teams for admin@test.com with Role : Administrator
2024-09-11 23:34:40.124 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:34:40.136 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .ThenInclude(ut => ut.User)'
2024-09-11 23:34:40.151 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:34:40.160 +02:00 [DBG] Including navigation: 'UserTeam.User'.
2024-09-11 23:34:40.244 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 4], [Property: User.AccessFailedCount (int) Required, 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.FirstName (string) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20] }
            4 -> 2
            5 -> 3
            6 -> 4
        SELECT t.TeamId, t.TeamName, t0.UserId, t0.TeamId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
        FROM TMS.Teams AS t
        LEFT JOIN 
        (
            SELECT u.UserId, u.TeamId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.UserTeams AS u
            INNER JOIN TMS.AspNetUsers AS a ON u.UserId == a.Id
        ) AS t0 ON t.TeamId == t0.TeamId
        ORDER BY t.TeamId ASC, t0.UserId ASC, t0.TeamId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:34:40.256 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:34:40.260 +02:00 [DBG] Created DbConnection. (4ms).
2024-09-11 23:34:40.262 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:40.267 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:40.270 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:34:40.273 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:34:40.277 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:34:40.280 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:34:40.313 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:34:40.340 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:34:40.376 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:34:40.389 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:34:40.396 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:34:40.401 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:40.405 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 84ms reading results.
2024-09-11 23:34:40.409 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:40.412 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:34:40.441 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 426.7776ms
2024-09-11 23:34:40.445 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:34:40.448 +02:00 [ERR] HTTP GET /api/v1/teams responded 500 in 500.4068 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[TMS.Domain.Entities.Team, TMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.ArgumentException: TMS.Application.Teams.Dtos.TeamViewDto needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   at TMS.Application.Teams.Queries.GetAllTeams.GetAllTemsQueryHandler.Handle(GetAllTemsQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Queries\GetAllTeams\GetAllTemsQueryHandler.cs:line 38
   at TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams() in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 27
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 23:34:40.504 +02:00 [DBG] Connection id "0HN6IL5OPR615" completed keep alive response.
2024-09-11 23:34:40.507 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:34:40.511 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:34:40.514 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:34:40.518 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 500 null null 602.2077ms
2024-09-11 23:35:13.549 +02:00 [INF] Application is shutting down...
2024-09-11 23:35:13.551 +02:00 [DBG] Hosting stopping
2024-09-11 23:35:13.565 +02:00 [DBG] Connection id "0HN6IL5OPR615" disconnecting.
2024-09-11 23:35:13.565 +02:00 [DBG] Connection id "0HN6IL5OPR616" disconnecting.
2024-09-11 23:35:13.569 +02:00 [DBG] Connection id "0HN6IL5OPR615" stopped.
2024-09-11 23:35:13.571 +02:00 [DBG] Connection id "0HN6IL5OPR616" stopped.
2024-09-11 23:35:13.575 +02:00 [DBG] Connection id "0HN6IL5OPR615" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:35:13.576 +02:00 [DBG] Connection id "0HN6IL5OPR616" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:35:13.588 +02:00 [DBG] Hosting stopped
2024-09-11 23:35:24.417 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 23:35:24.565 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 23:35:24.669 +02:00 [DBG] Hosting starting
2024-09-11 23:35:24.681 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 23:35:24.695 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 23:35:24.710 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 23:35:24.717 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:35:24.722 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 23:35:24.728 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:35:24.735 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 23:35:24.740 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 23:35:24.745 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 23:35:24.747 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 23:35:24.844 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 23:35:24.848 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 23:35:24.851 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 23:35:24.853 +02:00 [INF] Hosting environment: Development
2024-09-11 23:35:24.856 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 23:35:24.858 +02:00 [DBG] Hosting started
2024-09-11 23:35:36.403 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" accepted.
2024-09-11 23:35:36.409 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" started.
2024-09-11 23:35:36.410 +02:00 [DBG] Connection id "0HN6IL6M6U3SL" accepted.
2024-09-11 23:35:36.415 +02:00 [DBG] Connection id "0HN6IL6M6U3SL" started.
2024-09-11 23:35:36.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 23:35:36.481 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 23:35:36.524 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 23:35:36.528 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:35:36.541 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:35:36.551 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:35:36.556 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:35:36.666 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 101.0687 ms
2024-09-11 23:35:36.679 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" completed keep alive response.
2024-09-11 23:35:36.685 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 219.3996ms
2024-09-11 23:35:36.697 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 23:35:36.705 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 23:35:36.708 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:35:36.713 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:35:36.717 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:35:36.720 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:35:36.726 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.3157 ms
2024-09-11 23:35:36.732 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" completed keep alive response.
2024-09-11 23:35:36.735 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 37.681ms
2024-09-11 23:35:36.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 23:35:36.829 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 23:35:36.833 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:35:36.838 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:35:36.844 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:35:36.847 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:35:37.055 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 205.9834 ms
2024-09-11 23:35:37.060 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" completed keep alive response.
2024-09-11 23:35:37.063 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 241.1762ms
2024-09-11 23:35:52.926 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 114
2024-09-11 23:35:52.940 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:35:52.944 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:35:52.947 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:35:52.951 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:35:52.956 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:35:52.962 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:35:52.966 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 23:35:52.972 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:35:52.981 +02:00 [DBG] Connection id "0HN6IL6M6U3SK", Request id "0HN6IL6M6U3SK:00000004": started reading request body.
2024-09-11 23:35:52.985 +02:00 [DBG] Connection id "0HN6IL6M6U3SK", Request id "0HN6IL6M6U3SK:00000004": done reading request body.
2024-09-11 23:35:53.118 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 23:35:53.484 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:35:53.535 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:35:53.788 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:35:53.795 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:35:53.853 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 23:35:53.857 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 23:35:53.860 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 23:35:54.008 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 23:35:54.266 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:35:54.351 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 23:35:54.618 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:35:54.679 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:35:54.708 +02:00 [DBG] Created DbConnection. (26ms).
2024-09-11 23:35:54.717 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:35:54.956 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:35:54.965 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:35:54.977 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 23:35:54.993 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-09-11 23:35:55.011 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:35:55.118 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:35:55.141 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:35:55.156 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 25ms reading results.
2024-09-11 23:35:55.164 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:35:55.176 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (11ms).
2024-09-11 23:35:55.188 +02:00 [INF] Setting HTTP status code 401.
2024-09-11 23:35:55.214 +02:00 [INF] Writing value of type 'ProblemDetails' as Json.
2024-09-11 23:35:55.221 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:35:55.227 +02:00 [INF] HTTP POST /api/v1/identity/login responded 401 in 2266.6640 ms
2024-09-11 23:35:55.233 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" completed keep alive response.
2024-09-11 23:35:55.240 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:35:55.248 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:35:55.254 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-11 23:35:55.260 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 401 null application/problem+json 2333.3165ms
2024-09-11 23:36:15.775 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 23:36:15.786 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:36:15.790 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:36:15.793 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:36:15.797 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:36:15.801 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:36:15.805 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:36:15.807 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:36:15.810 +02:00 [DBG] Connection id "0HN6IL6M6U3SK", Request id "0HN6IL6M6U3SK:00000005": started reading request body.
2024-09-11 23:36:15.814 +02:00 [DBG] Connection id "0HN6IL6M6U3SK", Request id "0HN6IL6M6U3SK:00000005": done reading request body.
2024-09-11 23:36:15.906 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:36:15.917 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:36:15.921 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 23:36:15.924 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:15.930 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:15.935 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:36:15.938 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:36:15.941 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:36:15.946 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:36:15.955 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:36:16.034 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 23:36:16.097 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.101 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 139ms reading results.
2024-09-11 23:36:16.104 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.107 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:36:16.276 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 23:36:16.323 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:36:16.331 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.335 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.339 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:36:16.341 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:36:16.344 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:36:16.348 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:36:16.355 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:36:16.362 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.367 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 23:36:16.370 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.374 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:36:16.389 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 23:36:16.417 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:36:16.424 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.429 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.433 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:36:16.436 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:36:16.438 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:36:16.441 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:36:16.454 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:36:16.462 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.466 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:36:16.470 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.473 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:36:16.481 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 23:36:16.492 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:36:16.499 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.503 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.507 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:36:16.509 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:36:16.513 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:36:16.516 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:36:16.524 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:36:16.539 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 23:36:16.556 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.560 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 29ms reading results.
2024-09-11 23:36:16.563 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.567 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:36:16.575 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 23:36:16.584 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:36:16.589 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.592 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.595 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:36:16.599 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:36:16.603 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 23:36:16.606 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:36:16.614 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:36:16.620 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.624 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:36:16.629 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.633 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:36:16.643 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:36:16.654 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:36:16.658 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 853.5376 ms
2024-09-11 23:36:16.664 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" completed keep alive response.
2024-09-11 23:36:16.668 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:36:16.671 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:16.674 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:36:16.679 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 903.699ms
2024-09-11 23:36:38.965 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:36:38.965 +02:00 [DBG] Connection id "0HN6IL6M6U3SL" received FIN.
2024-09-11 23:36:38.973 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:36:38.977 +02:00 [DBG] Connection id "0HN6IL6M6U3SL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:36:38.982 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:36:38.985 +02:00 [DBG] Connection id "0HN6IL6M6U3SL" disconnecting.
2024-09-11 23:36:38.989 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:36:38.994 +02:00 [DBG] Connection id "0HN6IL6M6U3SL" stopped.
2024-09-11 23:36:38.996 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:36:39.002 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:36:39.006 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:36:39.015 +02:00 [DBG] Authorization was successful.
2024-09-11 23:36:39.018 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:36:39.035 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:36:39.043 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:36:39.046 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:36:39.051 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:36:39.056 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:36:39.059 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:36:39.065 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:36:39.070 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:36:39.083 +02:00 [INF] Getting all Teams for admin@test.com with Role : Administrator
2024-09-11 23:36:39.106 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:36:39.117 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .ThenInclude(ut => ut.User)'
2024-09-11 23:36:39.134 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:36:39.143 +02:00 [DBG] Including navigation: 'UserTeam.User'.
2024-09-11 23:36:39.219 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 4], [Property: User.AccessFailedCount (int) Required, 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.FirstName (string) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20] }
            4 -> 2
            5 -> 3
            6 -> 4
        SELECT t.TeamId, t.TeamName, t0.UserId, t0.TeamId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
        FROM TMS.Teams AS t
        LEFT JOIN 
        (
            SELECT u.UserId, u.TeamId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.UserTeams AS u
            INNER JOIN TMS.AspNetUsers AS a ON u.UserId == a.Id
        ) AS t0 ON t.TeamId == t0.TeamId
        ORDER BY t.TeamId ASC, t0.UserId ASC, t0.TeamId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:36:39.230 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:36:39.234 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 23:36:39.237 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:39.241 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:39.245 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:36:39.247 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:36:39.250 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:36:39.253 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:36:39.286 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:36:39.315 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:36:39.356 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:36:39.370 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:36:39.378 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:36:39.382 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:39.386 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 92ms reading results.
2024-09-11 23:36:39.390 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:39.395 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:36:39.431 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 364.0982ms
2024-09-11 23:36:39.435 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:36:39.439 +02:00 [ERR] HTTP GET /api/v1/teams responded 500 in 432.6520 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[TMS.Domain.Entities.Team, TMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Team -> TeamViewDto
TMS.Domain.Entities.Team -> TMS.Application.Teams.Dtos.TeamViewDto

Type Map configuration:
Team -> TeamViewDto
TMS.Domain.Entities.Team -> TMS.Application.Teams.Dtos.TeamViewDto

Destination Member:
Void .ctor(Int32, System.String, System.Collections.Generic.List`1[TMS.Application.Users.Dtos.UserViewDto]), parameter Members

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
User -> UserViewDto
TMS.Domain.Entities.User -> TMS.Application.Users.Dtos.UserViewDto
   at lambda_method279(Closure, User, UserViewDto, ResolutionContext)
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   at TMS.Application.Teams.Queries.GetAllTeams.GetAllTemsQueryHandler.Handle(GetAllTemsQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Queries\GetAllTeams\GetAllTemsQueryHandler.cs:line 38
   at TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams() in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 27
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 23:36:39.507 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" completed keep alive response.
2024-09-11 23:36:39.511 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:36:39.515 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:36:39.518 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 23:36:39.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 500 null null 558.1638ms
2024-09-11 23:38:50.637 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" disconnecting.
2024-09-11 23:38:50.641 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" stopped.
2024-09-11 23:38:50.644 +02:00 [DBG] Connection id "0HN6IL6M6U3SK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:40:24.662 +02:00 [INF] Application is shutting down...
2024-09-11 23:40:24.666 +02:00 [DBG] Hosting stopping
2024-09-11 23:40:24.685 +02:00 [DBG] Hosting stopped
2024-09-11 23:40:33.774 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 23:40:33.896 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 23:40:33.990 +02:00 [DBG] Hosting starting
2024-09-11 23:40:34.002 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 23:40:34.019 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 23:40:34.037 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 23:40:34.044 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:40:34.052 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 23:40:34.057 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:40:34.066 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 23:40:34.070 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 23:40:34.074 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 23:40:34.078 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 23:40:34.177 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 23:40:34.180 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 23:40:34.183 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 23:40:34.185 +02:00 [INF] Hosting environment: Development
2024-09-11 23:40:34.187 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 23:40:34.190 +02:00 [DBG] Hosting started
2024-09-11 23:41:01.749 +02:00 [INF] Application is shutting down...
2024-09-11 23:41:01.750 +02:00 [DBG] Hosting stopping
2024-09-11 23:41:01.764 +02:00 [DBG] Hosting stopped
2024-09-11 23:41:11.165 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 23:41:11.279 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 23:41:11.364 +02:00 [DBG] Hosting starting
2024-09-11 23:41:11.376 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 23:41:11.391 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 23:41:11.405 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 23:41:11.412 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:41:11.418 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 23:41:11.423 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:41:11.432 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 23:41:11.437 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 23:41:11.442 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 23:41:11.447 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 23:41:11.553 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 23:41:11.557 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 23:41:11.561 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 23:41:11.563 +02:00 [INF] Hosting environment: Development
2024-09-11 23:41:11.565 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 23:41:11.567 +02:00 [DBG] Hosting started
2024-09-11 23:41:16.214 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" accepted.
2024-09-11 23:41:16.218 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" started.
2024-09-11 23:41:16.218 +02:00 [DBG] Connection id "0HN6IL9RFJVC8" accepted.
2024-09-11 23:41:16.223 +02:00 [DBG] Connection id "0HN6IL9RFJVC8" started.
2024-09-11 23:41:16.267 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 23:41:16.278 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 23:41:16.319 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 23:41:16.324 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:41:16.341 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:41:16.351 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:41:16.354 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:41:16.466 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 101.8425 ms
2024-09-11 23:41:16.478 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" completed keep alive response.
2024-09-11 23:41:16.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 217.3526ms
2024-09-11 23:41:16.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 23:41:16.502 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 23:41:16.505 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:41:16.512 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:41:16.516 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:41:16.520 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:41:16.525 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.7089 ms
2024-09-11 23:41:16.530 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" completed keep alive response.
2024-09-11 23:41:16.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 38.9112ms
2024-09-11 23:41:16.805 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 23:41:16.818 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 23:41:16.822 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:41:16.827 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:41:16.834 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:41:16.837 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:41:17.049 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 209.8685 ms
2024-09-11 23:41:17.056 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" completed keep alive response.
2024-09-11 23:41:17.059 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 253.5753ms
2024-09-11 23:41:32.153 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 23:41:32.171 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:41:32.177 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:41:32.183 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:41:32.187 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:41:32.192 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:41:32.196 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:41:32.200 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 23:41:32.206 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:41:32.215 +02:00 [DBG] Connection id "0HN6IL9RFJVC7", Request id "0HN6IL9RFJVC7:00000004": started reading request body.
2024-09-11 23:41:32.219 +02:00 [DBG] Connection id "0HN6IL9RFJVC7", Request id "0HN6IL9RFJVC7:00000004": done reading request body.
2024-09-11 23:41:32.460 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 23:41:32.826 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:41:32.878 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:41:33.138 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:41:33.145 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:41:33.205 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 23:41:33.209 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 23:41:33.212 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 23:41:33.358 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 23:41:33.618 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:41:33.704 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 23:41:33.970 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:41:34.031 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:41:34.060 +02:00 [DBG] Created DbConnection. (26ms).
2024-09-11 23:41:34.068 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.291 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.299 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:41:34.311 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 23:41:34.327 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-09-11 23:41:34.342 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:41:34.424 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:41:34.512 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 23:41:34.582 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.597 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 161ms reading results.
2024-09-11 23:41:34.606 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.617 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (10ms).
2024-09-11 23:41:34.792 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 23:41:34.839 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:41:34.847 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.852 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.856 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:41:34.858 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:41:34.861 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:41:34.864 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:41:34.874 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:41:34.880 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.885 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 23:41:34.890 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.893 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:41:34.909 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 23:41:34.936 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:41:34.943 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.948 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.951 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:41:34.954 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:41:34.956 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:41:34.959 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:41:34.973 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:41:34.981 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.984 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:41:34.989 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:34.991 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:41:34.998 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 23:41:35.009 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:41:35.016 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:35.021 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:35.025 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:41:35.028 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:41:35.030 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:41:35.032 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:41:35.041 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:41:35.057 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 23:41:35.073 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:35.077 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 29ms reading results.
2024-09-11 23:41:35.080 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:35.085 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:41:35.093 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 23:41:35.102 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:41:35.108 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:35.112 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:35.116 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:41:35.120 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:41:35.124 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-11 23:41:35.128 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:41:35.148 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:41:35.156 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:35.160 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:41:35.163 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:35.166 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:41:35.177 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:41:35.192 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:41:35.197 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3001.9806 ms
2024-09-11 23:41:35.204 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" completed keep alive response.
2024-09-11 23:41:35.210 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:41:35.221 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:35.226 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-11 23:41:35.230 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3076.5747ms
2024-09-11 23:41:53.609 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:41:53.626 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:41:53.635 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:41:53.641 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:41:53.645 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:41:53.648 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:41:53.652 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:41:53.660 +02:00 [DBG] Authorization was successful.
2024-09-11 23:41:53.662 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:41:53.679 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamViewDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:41:53.685 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:41:53.690 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:41:53.694 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:41:53.698 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:41:53.702 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:41:53.707 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:41:53.710 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:41:53.725 +02:00 [INF] Getting all Teams for admin@test.com with Role : Administrator
2024-09-11 23:41:53.816 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:41:53.827 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .ThenInclude(ut => ut.User)'
2024-09-11 23:41:53.843 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:41:53.853 +02:00 [DBG] Including navigation: 'UserTeam.User'.
2024-09-11 23:41:53.932 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 4], [Property: User.AccessFailedCount (int) Required, 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.FirstName (string) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20] }
            4 -> 2
            5 -> 3
            6 -> 4
        SELECT t.TeamId, t.TeamName, t0.UserId, t0.TeamId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
        FROM TMS.Teams AS t
        LEFT JOIN 
        (
            SELECT u.UserId, u.TeamId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.UserTeams AS u
            INNER JOIN TMS.AspNetUsers AS a ON u.UserId == a.Id
        ) AS t0 ON t.TeamId == t0.TeamId
        ORDER BY t.TeamId ASC, t0.UserId ASC, t0.TeamId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:41:53.944 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:41:53.947 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 23:41:53.951 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:53.956 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:53.960 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:41:53.963 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:41:53.966 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:41:53.969 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:41:53.990 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:41:54.019 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:41:54.057 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:41:54.072 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:41:54.080 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:41:54.087 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:54.091 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 94ms reading results.
2024-09-11 23:41:54.096 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:54.100 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:41:54.133 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 423.0794ms
2024-09-11 23:41:54.138 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:41:54.140 +02:00 [ERR] HTTP GET /api/v1/teams responded 500 in 487.6483 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[TMS.Domain.Entities.Team, TMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Team -> TeamViewDto
TMS.Domain.Entities.Team -> TMS.Application.Teams.Dtos.TeamViewDto

Type Map configuration:
Team -> TeamViewDto
TMS.Domain.Entities.Team -> TMS.Application.Teams.Dtos.TeamViewDto

Destination Member:
Members

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
User -> UserViewDto
TMS.Domain.Entities.User -> TMS.Application.Users.Dtos.UserViewDto
   at lambda_method279(Closure, User, UserViewDto, ResolutionContext)
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method277(Closure, Object, List`1, ResolutionContext)
   at TMS.Application.Teams.Queries.GetAllTeams.GetAllTemsQueryHandler.Handle(GetAllTemsQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Queries\GetAllTeams\GetAllTemsQueryHandler.cs:line 38
   at TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams() in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 27
   at lambda_method205(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 23:41:54.203 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" completed keep alive response.
2024-09-11 23:41:54.207 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:41:54.211 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:41:54.215 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:41:54.219 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 500 null null 610.2623ms
2024-09-11 23:43:27.659 +02:00 [DBG] Connection id "0HN6IL9RFJVC8" disconnecting.
2024-09-11 23:43:27.663 +02:00 [DBG] Connection id "0HN6IL9RFJVC8" stopped.
2024-09-11 23:43:27.667 +02:00 [DBG] Connection id "0HN6IL9RFJVC8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:44:03.528 +02:00 [INF] Application is shutting down...
2024-09-11 23:44:03.531 +02:00 [DBG] Hosting stopping
2024-09-11 23:44:03.546 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" disconnecting.
2024-09-11 23:44:03.550 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" stopped.
2024-09-11 23:44:03.552 +02:00 [DBG] Connection id "0HN6IL9RFJVC7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:44:03.561 +02:00 [DBG] Hosting stopped
2024-09-11 23:44:13.530 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 23:44:13.668 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 23:44:13.766 +02:00 [DBG] Hosting starting
2024-09-11 23:44:13.777 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 23:44:13.790 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 23:44:13.807 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 23:44:13.817 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:44:13.823 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 23:44:13.828 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:44:13.836 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 23:44:13.841 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 23:44:13.847 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 23:44:13.850 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 23:44:13.949 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 23:44:13.953 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 23:44:13.956 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 23:44:13.959 +02:00 [INF] Hosting environment: Development
2024-09-11 23:44:13.961 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 23:44:13.964 +02:00 [DBG] Hosting started
2024-09-11 23:44:16.950 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" accepted.
2024-09-11 23:44:16.955 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" started.
2024-09-11 23:44:16.955 +02:00 [DBG] Connection id "0HN6ILBHB8D2U" accepted.
2024-09-11 23:44:16.960 +02:00 [DBG] Connection id "0HN6ILBHB8D2U" started.
2024-09-11 23:44:17.004 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 23:44:17.014 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 23:44:17.054 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 23:44:17.058 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:44:17.072 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:44:17.082 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:44:17.085 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:44:17.191 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 97.1738 ms
2024-09-11 23:44:17.202 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" completed keep alive response.
2024-09-11 23:44:17.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 205.8492ms
2024-09-11 23:44:17.221 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 23:44:17.229 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 23:44:17.232 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:44:17.237 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:44:17.242 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:44:17.245 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:44:17.250 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.3606 ms
2024-09-11 23:44:17.256 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" completed keep alive response.
2024-09-11 23:44:17.260 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 38.3212ms
2024-09-11 23:44:17.552 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 23:44:17.560 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 23:44:17.562 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:44:17.567 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:44:17.572 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:44:17.577 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:44:17.780 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 199.8385 ms
2024-09-11 23:44:17.787 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" completed keep alive response.
2024-09-11 23:44:17.789 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 237.2329ms
2024-09-11 23:44:46.284 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 23:44:46.299 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:44:46.304 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:44:46.312 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:44:46.316 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:44:46.318 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:44:46.323 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:44:46.327 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 23:44:46.331 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:44:46.340 +02:00 [DBG] Connection id "0HN6ILBHB8D2T", Request id "0HN6ILBHB8D2T:00000004": started reading request body.
2024-09-11 23:44:46.344 +02:00 [DBG] Connection id "0HN6ILBHB8D2T", Request id "0HN6ILBHB8D2T:00000004": done reading request body.
2024-09-11 23:44:46.473 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 23:44:46.854 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:44:46.906 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:44:47.162 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:44:47.167 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:44:47.234 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 23:44:47.240 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 23:44:47.246 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 23:44:47.403 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 23:44:47.693 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:44:47.779 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 23:44:48.057 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:44:48.121 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:44:48.153 +02:00 [DBG] Created DbConnection. (29ms).
2024-09-11 23:44:48.164 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:48.483 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:48.493 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:44:48.504 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 23:44:48.520 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-09-11 23:44:48.536 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:44:48.621 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:44:48.717 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 23:44:48.787 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:48.801 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 166ms reading results.
2024-09-11 23:44:48.811 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:48.821 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (9ms).
2024-09-11 23:44:48.998 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 23:44:49.045 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:44:49.052 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.057 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.061 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:44:49.063 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:44:49.066 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:44:49.070 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:44:49.080 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:44:49.087 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.091 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 23:44:49.097 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.100 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:44:49.116 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 23:44:49.143 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:44:49.149 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.152 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.157 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:44:49.160 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:44:49.163 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:44:49.166 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:44:49.178 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:44:49.183 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.188 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 23:44:49.194 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.197 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:44:49.205 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 23:44:49.216 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:44:49.223 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.226 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.230 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:44:49.232 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:44:49.235 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:44:49.238 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:44:49.247 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:44:49.263 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 23:44:49.277 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.281 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-09-11 23:44:49.285 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.289 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:44:49.297 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 23:44:49.305 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:44:49.310 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.313 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.316 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:44:49.318 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:44:49.322 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:44:49.327 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:44:49.334 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:44:49.340 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.343 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:44:49.346 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.349 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:44:49.362 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:44:49.377 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:44:49.381 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 3060.6082 ms
2024-09-11 23:44:49.386 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" completed keep alive response.
2024-09-11 23:44:49.393 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:44:49.400 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:44:49.406 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-11 23:44:49.411 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3127.04ms
2024-09-11 23:45:14.524 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks - null null
2024-09-11 23:45:14.532 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-11 23:45:14.536 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-11 23:45:14.541 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 23:45:14.545 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:45:14.549 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:45:14.554 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:45:14.562 +02:00 [DBG] Authorization was successful.
2024-09-11 23:45:14.566 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 23:45:14.585 +02:00 [INF] Route matched with {action = "GetAllUserTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllUserTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 23:45:14.591 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:45:14.596 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:45:14.601 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:45:14.605 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:45:14.609 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:45:14.616 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 23:45:14.619 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 23:45:14.635 +02:00 [INF] Getting all admin@test.com Tasks.
2024-09-11 23:45:14.729 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:45:14.738 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()
    .Where(t => t.CreatedByUserId == __userId_0 || t.AssignedToUserId == __userId_0)'
2024-09-11 23:45:14.749 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TaskItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
        SELECT t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
        FROM TMS.Tasks AS t
        WHERE (t.CreatedByUserId == @__userId_0) || (t.AssignedToUserId == @__userId_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:45:14.759 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:45:14.762 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 23:45:14.766 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:14.771 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:14.774 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:45:14.777 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:45:14.779 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:45:14.783 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 23:45:14.884 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 23:45:14.890 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:14.894 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:45:14.897 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:14.901 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:45:14.925 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 23:45:14.934 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 23:45:14.939 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 23:45:14.943 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 23:45:14.945 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 23:45:14.948 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 23:45:14.952 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 23:45:14.981 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API) in 364.4676ms
2024-09-11 23:45:14.987 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 23:45:14.989 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 435.3919 ms
2024-09-11 23:45:14.994 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" completed keep alive response.
2024-09-11 23:45:14.997 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:45:15.000 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:15.004 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 23:45:15.010 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks - 200 null application/json; charset=utf-8 485.7406ms
2024-09-11 23:45:47.947 +02:00 [DBG] Connection id "0HN6ILBHB8D2U" received FIN.
2024-09-11 23:45:47.947 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:45:47.961 +02:00 [DBG] Connection id "0HN6ILBHB8D2U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:45:47.972 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:45:47.979 +02:00 [DBG] Connection id "0HN6ILBHB8D2U" disconnecting.
2024-09-11 23:45:47.982 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:45:47.988 +02:00 [DBG] Connection id "0HN6ILBHB8D2U" stopped.
2024-09-11 23:45:47.989 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:45:47.996 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:45:48.000 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:45:48.003 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:45:48.008 +02:00 [DBG] Authorization was successful.
2024-09-11 23:45:48.012 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:45:48.022 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamViewDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:45:48.028 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:45:48.031 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:45:48.035 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:45:48.040 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:45:48.045 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:45:48.049 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:45:48.052 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:45:48.064 +02:00 [INF] Getting all Teams for admin@test.com with Role : Administrator
2024-09-11 23:45:48.092 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:45:48.104 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .ThenInclude(ut => ut.User)'
2024-09-11 23:45:48.122 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:45:48.130 +02:00 [DBG] Including navigation: 'UserTeam.User'.
2024-09-11 23:45:48.218 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 4], [Property: User.AccessFailedCount (int) Required, 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.FirstName (string) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20] }
            4 -> 2
            5 -> 3
            6 -> 4
        SELECT t.TeamId, t.TeamName, t0.UserId, t0.TeamId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
        FROM TMS.Teams AS t
        LEFT JOIN 
        (
            SELECT u.UserId, u.TeamId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.UserTeams AS u
            INNER JOIN TMS.AspNetUsers AS a ON u.UserId == a.Id
        ) AS t0 ON t.TeamId == t0.TeamId
        ORDER BY t.TeamId ASC, t0.UserId ASC, t0.TeamId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:45:48.231 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:45:48.233 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 23:45:48.236 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:48.241 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:48.245 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:45:48.248 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:45:48.252 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:45:48.256 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:45:48.317 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:45:48.344 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:45:48.380 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:45:48.393 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:45:48.400 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:45:48.405 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:48.409 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 87ms reading results.
2024-09-11 23:45:48.413 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:48.416 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:45:48.434 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 385.4426ms
2024-09-11 23:45:48.439 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:45:48.442 +02:00 [ERR] HTTP GET /api/v1/teams responded 500 in 438.9118 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[TMS.Domain.Entities.Team, TMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Team -> TeamViewDto
TMS.Domain.Entities.Team -> TMS.Application.Teams.Dtos.TeamViewDto

Type Map configuration:
Team -> TeamViewDto
TMS.Domain.Entities.Team -> TMS.Application.Teams.Dtos.TeamViewDto

Destination Member:
Members

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
User -> UserViewDto
TMS.Domain.Entities.User -> TMS.Application.Users.Dtos.UserViewDto
   at lambda_method290(Closure, User, UserViewDto, ResolutionContext)
   at lambda_method288(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method288(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method288(Closure, Object, List`1, ResolutionContext)
   at TMS.Application.Teams.Queries.GetAllTeams.GetAllTemsQueryHandler.Handle(GetAllTemsQuery request, CancellationToken cancellationToken) in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TMS.Application\Teams\Queries\GetAllTeams\GetAllTemsQueryHandler.cs:line 41
   at TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams() in D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API\Controllers\TeamsController.cs:line 27
   at lambda_method216(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-09-11 23:45:48.493 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" completed keep alive response.
2024-09-11 23:45:48.496 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:45:48.500 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:45:48.503 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:45:48.507 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 500 null null 559.1725ms
2024-09-11 23:47:59.204 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" disconnecting.
2024-09-11 23:47:59.208 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" stopped.
2024-09-11 23:47:59.210 +02:00 [DBG] Connection id "0HN6ILBHB8D2T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:48:05.126 +02:00 [INF] Application is shutting down...
2024-09-11 23:48:05.129 +02:00 [DBG] Hosting stopping
2024-09-11 23:48:05.151 +02:00 [DBG] Hosting stopped
2024-09-11 23:48:36.981 +02:00 [INF] User profile is available. Using 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-11 23:48:37.139 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 23:48:37.256 +02:00 [DBG] Hosting starting
2024-09-11 23:48:37.273 +02:00 [DBG] Reading data from file 'C:\Users\Mostafa Cflifu\AppData\Local\ASP.NET\DataProtection-Keys\key-721d6600-3b82-4250-a3d8-e126281ffcfb.xml'.
2024-09-11 23:48:37.294 +02:00 [DBG] Found key {721d6600-3b82-4250-a3d8-e126281ffcfb}.
2024-09-11 23:48:37.319 +02:00 [DBG] Considering key {721d6600-3b82-4250-a3d8-e126281ffcfb} with expiration date 2024-11-29 11:26:48Z as default key.
2024-09-11 23:48:37.328 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:48:37.335 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-11 23:48:37.339 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-11 23:48:37.346 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-11 23:48:37.351 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-11 23:48:37.356 +02:00 [DBG] Using key {721d6600-3b82-4250-a3d8-e126281ffcfb} as the default key.
2024-09-11 23:48:37.359 +02:00 [DBG] Key ring with default key {721d6600-3b82-4250-a3d8-e126281ffcfb} was loaded during application startup.
2024-09-11 23:48:37.461 +02:00 [INF] Now listening on: http://localhost:5091
2024-09-11 23:48:37.464 +02:00 [DBG] Loaded hosting startup assembly TaskManagementSystem.API
2024-09-11 23:48:37.466 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 23:48:37.468 +02:00 [INF] Hosting environment: Development
2024-09-11 23:48:37.471 +02:00 [INF] Content root path: D:\Users\mosta\Documents\projects\expertflow\clean\Task Mangement System\TaskManagementSystem.API
2024-09-11 23:48:37.474 +02:00 [DBG] Hosting started
2024-09-11 23:48:48.629 +02:00 [DBG] Connection id "0HN6ILE2A64P8" accepted.
2024-09-11 23:48:48.636 +02:00 [DBG] Connection id "0HN6ILE2A64P8" started.
2024-09-11 23:48:48.636 +02:00 [DBG] Connection id "0HN6ILE2A64P9" accepted.
2024-09-11 23:48:48.642 +02:00 [DBG] Connection id "0HN6ILE2A64P9" started.
2024-09-11 23:48:48.685 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.html - null null
2024-09-11 23:48:48.694 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 23:48:48.737 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 23:48:48.741 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:48:48.755 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:48:48.766 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:48:48.770 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:48:48.878 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 100.4185 ms
2024-09-11 23:48:48.890 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:48:48.895 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.html - 200 null text/html;charset=utf-8 211.9867ms
2024-09-11 23:48:48.907 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/index.js - null null
2024-09-11 23:48:48.915 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2024-09-11 23:48:48.918 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:48:48.925 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:48:48.930 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:48:48.933 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:48:48.940 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.9112 ms
2024-09-11 23:48:48.945 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:48:48.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/index.js - 200 null application/javascript;charset=utf-8 41.214ms
2024-09-11 23:48:49.025 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - null null
2024-09-11 23:48:49.034 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 23:48:49.039 +02:00 [DBG] Request did not match any endpoints
2024-09-11 23:48:49.043 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:48:49.047 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:48:49.051 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:48:49.274 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 219.7770 ms
2024-09-11 23:48:49.279 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:48:49.282 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 257.2177ms
2024-09-11 23:49:14.510 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 123
2024-09-11 23:49:14.525 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:49:14.529 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:49:14.536 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:49:14.540 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:49:14.544 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:49:14.549 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:49:14.552 +02:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 23:49:14.556 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:49:14.566 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:00000004": started reading request body.
2024-09-11 23:49:14.569 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:00000004": done reading request body.
2024-09-11 23:49:14.700 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 23:49:15.076 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:49:15.133 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:49:15.404 +02:00 [DBG] No relationship from 'TaskItem' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedToUser', 'CreatedByUser'} that could be matched with the properties on the other entity type - {'AssignedTasks', 'CreatedTasks'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:49:15.411 +02:00 [DBG] No relationship from 'User' to 'TaskItem' has been configured by convention because there are multiple properties on one entity type - {'AssignedTasks', 'CreatedTasks'} that could be matched with the properties on the other entity type - {'AssignedToUser', 'CreatedByUser'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-11 23:49:15.477 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-11 23:49:15.481 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-11 23:49:15.484 +02:00 [DBG] The index {'UserId'} was not created on entity type 'UserTeam' as the properties are already covered by the index {'UserId', 'TeamId'}.
2024-09-11 23:49:15.646 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-11 23:49:15.921 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:49:16.010 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-11 23:49:16.291 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:49:16.350 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:49:16.378 +02:00 [DBG] Created DbConnection. (24ms).
2024-09-11 23:49:16.386 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:16.616 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:16.625 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:49:16.638 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-11 23:49:16.652 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-09-11 23:49:16.668 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:49:16.751 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedUserName_0='ADMIN@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:49:16.843 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 17f5cb8c-7249-47a5-b5ce-aab765ceed49}'.
2024-09-11 23:49:16.911 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:16.926 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 162ms reading results.
2024-09-11 23:49:16.936 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:16.947 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (10ms).
2024-09-11 23:49:17.119 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-09-11 23:49:17.166 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM TMS.AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:49:17.173 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.179 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.184 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:49:17.186 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:49:17.189 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:49:17.192 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:49:17.202 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:49:17.209 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.214 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 23:49:17.219 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.222 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:49:17.237 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-11 23:49:17.262 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM TMS.AspNetUserRoles AS a
        INNER JOIN TMS.AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:49:17.269 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.274 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.279 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:49:17.282 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:49:17.285 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:49:17.288 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:49:17.299 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:49:17.306 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.309 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:49:17.314 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.317 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:49:17.326 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-09-11 23:49:17.336 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM TMS.AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:49:17.345 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.349 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.352 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:49:17.354 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:49:17.358 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:49:17.362 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:49:17.371 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:49:17.388 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 490dcf48-6a7d-4933-bb54-8344c3b49c68}'.
2024-09-11 23:49:17.404 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.410 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-09-11 23:49:17.412 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.416 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:49:17.425 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2024-09-11 23:49:17.433 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM TMS.AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:49:17.439 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.443 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.446 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:49:17.449 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:49:17.453 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:49:17.456 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:49:17.465 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='490dcf48-6a7d-4933-bb54-8344c3b49c68' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:49:17.471 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.475 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:49:17.479 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.483 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:49:17.493 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:49:17.507 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:49:17.513 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 2965.7476 ms
2024-09-11 23:49:17.519 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:49:17.527 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:49:17.536 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:17.542 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-11 23:49:17.547 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 3037.0304ms
2024-09-11 23:49:38.008 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/tasks - null null
2024-09-11 23:49:38.016 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tasks'
2024-09-11 23:49:38.020 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)' with route pattern 'api/v1/tasks' is valid for the request path '/api/v1/tasks'
2024-09-11 23:49:38.026 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 23:49:38.031 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:49:38.034 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:49:38.038 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:49:38.047 +02:00 [DBG] Authorization was successful.
2024-09-11 23:49:38.050 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 23:49:38.068 +02:00 [INF] Route matched with {action = "GetAllUserTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Tasks.Dtos.TaskDto]]] GetAllUserTasks() on controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API).
2024-09-11 23:49:38.075 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:49:38.079 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:49:38.083 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:49:38.088 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:49:38.092 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:49:38.098 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 23:49:38.102 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TasksController (TaskManagementSystem.API)
2024-09-11 23:49:38.117 +02:00 [INF] Getting all admin@test.com Tasks.
2024-09-11 23:49:38.217 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:49:38.228 +02:00 [DBG] Compiling query expression: 
'DbSet<TaskItem>()
    .Where(t => t.CreatedByUserId == __userId_0 || t.AssignedToUserId == __userId_0)'
2024-09-11 23:49:38.242 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TaskItem>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TaskItem.TaskId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TaskItem.AssignedToTeamId (int?) FK Index, 1], [Property: TaskItem.AssignedToUserId (string) FK Index, 2], [Property: TaskItem.CreatedByUserId (string) Required FK Index, 3], [Property: TaskItem.Description (string), 4], [Property: TaskItem.DueDate (DateTime) Required, 5], [Property: TaskItem.PriorityLevel (PriorityLevel) Required, 6], [Property: TaskItem.Status (Status) Required, 7], [Property: TaskItem.Title (string) Required, 8] }
        SELECT t.TaskId, t.AssignedToTeamId, t.AssignedToUserId, t.CreatedByUserId, t.Description, t.DueDate, t.PriorityLevel, t.Status, t.Title
        FROM TMS.Tasks AS t
        WHERE (t.CreatedByUserId == @__userId_0) || (t.AssignedToUserId == @__userId_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TaskItem>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:49:38.254 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:49:38.257 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 23:49:38.260 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:38.263 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:38.266 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:49:38.270 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:49:38.274 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 23:49:38.278 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 23:49:38.296 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='17f5cb8c-7249-47a5-b5ce-aab765ceed49' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TaskId], [t].[AssignedToTeamId], [t].[AssignedToUserId], [t].[CreatedByUserId], [t].[Description], [t].[DueDate], [t].[PriorityLevel], [t].[Status], [t].[Title]
FROM [TMS].[Tasks] AS [t]
WHERE [t].[CreatedByUserId] = @__userId_0 OR [t].[AssignedToUserId] = @__userId_0
2024-09-11 23:49:38.303 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:38.307 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-11 23:49:38.311 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:38.314 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:49:38.339 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 23:49:38.345 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 23:49:38.350 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 23:49:38.354 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 23:49:38.355 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 23:49:38.358 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 23:49:38.362 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Tasks.Dtos.TaskDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 23:49:38.392 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API) in 291.1457ms
2024-09-11 23:49:38.395 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TasksController.GetAllUserTasks (TaskManagementSystem.API)'
2024-09-11 23:49:38.398 +02:00 [INF] HTTP GET /api/v1/tasks responded 200 in 359.5615 ms
2024-09-11 23:49:38.403 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:49:38.407 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:49:38.411 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:49:38.415 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:49:38.420 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/tasks - 200 null application/json; charset=utf-8 412.0042ms
2024-09-11 23:50:02.376 +02:00 [DBG] Connection id "0HN6ILE2A64P9" received FIN.
2024-09-11 23:50:02.376 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:50:02.381 +02:00 [DBG] Connection id "0HN6ILE2A64P9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:50:02.387 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:50:02.391 +02:00 [DBG] Connection id "0HN6ILE2A64P9" disconnecting.
2024-09-11 23:50:02.393 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:50:02.398 +02:00 [DBG] Connection id "0HN6ILE2A64P9" stopped.
2024-09-11 23:50:02.401 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:50:02.409 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:50:02.412 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:50:02.416 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:50:02.422 +02:00 [DBG] Authorization was successful.
2024-09-11 23:50:02.425 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:50:02.435 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamViewDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:50:02.440 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:50:02.444 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:50:02.450 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:50:02.456 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:50:02.459 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:50:02.463 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:50:02.468 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:50:02.476 +02:00 [INF] Getting all Teams for admin@test.com with Role : Administrator
2024-09-11 23:50:02.502 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:50:02.514 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .ThenInclude(ut => ut.User)'
2024-09-11 23:50:02.531 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:50:02.539 +02:00 [DBG] Including navigation: 'UserTeam.User'.
2024-09-11 23:50:02.619 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 4], [Property: User.AccessFailedCount (int) Required, 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.FirstName (string) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20] }
            4 -> 2
            5 -> 3
            6 -> 4
        SELECT t.TeamId, t.TeamName, t0.UserId, t0.TeamId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
        FROM TMS.Teams AS t
        LEFT JOIN 
        (
            SELECT u.UserId, u.TeamId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.UserTeams AS u
            INNER JOIN TMS.AspNetUsers AS a ON u.UserId == a.Id
        ) AS t0 ON t.TeamId == t0.TeamId
        ORDER BY t.TeamId ASC, t0.UserId ASC, t0.TeamId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:50:02.629 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:50:02.633 +02:00 [DBG] Created DbConnection. (3ms).
2024-09-11 23:50:02.637 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:50:02.642 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:50:02.645 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:50:02.648 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:50:02.653 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 23:50:02.657 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:50:02.718 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:50:02.745 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:50:02.782 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:50:02.795 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:50:02.803 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:50:02.808 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:50:02.812 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 87ms reading results.
2024-09-11 23:50:02.815 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:50:02.818 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:50:02.831 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 23:50:02.838 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 23:50:02.843 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 23:50:02.846 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 23:50:02.848 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 23:50:02.851 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 23:50:02.855 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 23:50:02.863 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 400.7068ms
2024-09-11 23:50:02.868 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:50:02.871 +02:00 [INF] HTTP GET /api/v1/teams responded 200 in 455.1918 ms
2024-09-11 23:50:02.876 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:50:02.879 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:50:02.882 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:50:02.886 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:50:02.890 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 200 null application/json; charset=utf-8 513.1335ms
2024-09-11 23:51:27.176 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 15
2024-09-11 23:51:27.184 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 23:51:27.187 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 23:51:27.191 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 23:51:27.195 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:51:27.199 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:51:27.202 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:51:27.207 +02:00 [DBG] Authorization was successful.
2024-09-11 23:51:27.209 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 23:51:27.226 +02:00 [INF] Route matched with {action = "addUserToTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] addUserToTeam(Int32, System.String) on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:51:27.231 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:51:27.236 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:51:27.239 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:51:27.244 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:51:27.249 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:51:27.252 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:51:27.254 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:51:27.262 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' ...
2024-09-11 23:51:27.269 +02:00 [DBG] Attempting to bind parameter 'teamId' of type 'System.Int32' using the name 'teamId' in request data ...
2024-09-11 23:51:27.274 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 23:51:27.278 +02:00 [DBG] Done attempting to bind parameter 'teamId' of type 'System.Int32'.
2024-09-11 23:51:27.282 +02:00 [DBG] Attempting to validate the bound parameter 'teamId' of type 'System.Int32' ...
2024-09-11 23:51:27.300 +02:00 [DBG] Done attempting to validate the bound parameter 'teamId' of type 'System.Int32'.
2024-09-11 23:51:27.304 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' ...
2024-09-11 23:51:27.307 +02:00 [DBG] Attempting to bind parameter 'UserEmail' of type 'System.String' using the name '' in request data ...
2024-09-11 23:51:27.313 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 23:51:27.319 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:00000007": started reading request body.
2024-09-11 23:51:27.322 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:00000007": done reading request body.
2024-09-11 23:51:27.326 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'System.String'
2024-09-11 23:51:27.331 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 23:51:27.335 +02:00 [DBG] Done attempting to bind parameter 'UserEmail' of type 'System.String'.
2024-09-11 23:51:27.337 +02:00 [DBG] Attempting to validate the bound parameter 'UserEmail' of type 'System.String' ...
2024-09-11 23:51:27.342 +02:00 [DBG] Done attempting to validate the bound parameter 'UserEmail' of type 'System.String'.
2024-09-11 23:51:27.357 +02:00 [INF] admin@test.com adding lead@test.com to Team with Id: 1.
2024-09-11 23:51:27.366 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:51:27.372 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .FirstOrDefault(t => t.TeamId == __teamId_0)'
2024-09-11 23:51:27.377 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:51:27.401 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Team>(
    asyncEnumerable: new SingleQueryingEnumerable<Team>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
                3 -> 2
                4 -> 3
            SELECT t0.TeamId, t0.TeamName, u.UserId, u.TeamId
            FROM 
            (
                SELECT TOP(1) t.TeamId, t.TeamName
                FROM TMS.Teams AS t
                WHERE t.TeamId == @__teamId_0
            ) AS t0
            LEFT JOIN TMS.UserTeams AS u ON t0.TeamId == u.TeamId
            ORDER BY t0.TeamId ASC, u.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:51:27.408 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:51:27.410 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 23:51:27.413 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.416 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.419 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:51:27.421 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:51:27.424 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:51:27.428 +02:00 [DBG] Executing DbCommand [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 23:51:27.556 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__teamId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[TeamId], [t0].[TeamName], [u].[UserId], [u].[TeamId]
FROM (
    SELECT TOP(1) [t].[TeamId], [t].[TeamName]
    FROM [TMS].[Teams] AS [t]
    WHERE [t].[TeamId] = @__teamId_0
) AS [t0]
LEFT JOIN [TMS].[UserTeams] AS [u] ON [t0].[TeamId] = [u].[TeamId]
ORDER BY [t0].[TeamId], [u].[UserId]
2024-09-11 23:51:27.578 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:51:27.587 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:51:27.590 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.595 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 18ms reading results.
2024-09-11 23:51:27.599 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.601 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:51:27.607 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-09-11 23:51:27.618 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.LastName (string) Required, 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        TMS.Infrastructure.Persistence.TMSDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 23:51:27.624 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.629 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.633 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:51:27.635 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 23:51:27.637 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:51:27.639 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='LEAD@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 23:51:27.650 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='LEAD@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-09-11 23:51:27.656 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: b018de2e-7622-49cf-8392-c3ffbe73143b}'.
2024-09-11 23:51:27.659 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.663 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 23:51:27.666 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.668 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:51:27.687 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-11 23:51:27.697 +02:00 [DBG] SaveChanges starting for 'TMSDbContext'.
2024-09-11 23:51:27.703 +02:00 [DBG] DetectChanges starting for 'TMSDbContext'.
2024-09-11 23:51:27.723 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Team.UserTeams' on entity with key '{TeamId: 1}'.
2024-09-11 23:51:27.740 +02:00 [DBG] The navigation 'UserTeam.Team' for entity with key '{UserId: b018de2e-7622-49cf-8392-c3ffbe73143b, TeamId: 1}' was detected as changed.
2024-09-11 23:51:27.747 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: b018de2e-7622-49cf-8392-c3ffbe73143b, TeamId: 1}' was detected as changed.
2024-09-11 23:51:27.755 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: b018de2e-7622-49cf-8392-c3ffbe73143b, TeamId: 1}'.
2024-09-11 23:51:27.789 +02:00 [DBG] DetectChanges completed for 'TMSDbContext'.
2024-09-11 23:51:27.895 +02:00 [DBG] Executing 2 update commands as a batch.
2024-09-11 23:51:27.908 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.913 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.918 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-11 23:51:27.930 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-11 23:51:27.938 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:51:27.942 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:51:27.947 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-11 23:51:27.952 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='b018de2e-7622-49cf-8392-c3ffbe73143b' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 23:51:27.976 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p1='1', @p0='first team' (Nullable = false) (Size = 4000), @p2='1', @p3='b018de2e-7622-49cf-8392-c3ffbe73143b' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [TMS].[Teams] SET [TeamName] = @p0
OUTPUT 1
WHERE [TeamId] = @p1;
INSERT INTO [TMS].[UserTeams] ([TeamId], [UserId])
VALUES (@p2, @p3);
2024-09-11 23:51:27.990 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:27.995 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 12ms reading results.
2024-09-11 23:51:28.003 +02:00 [DBG] Committing transaction.
2024-09-11 23:51:28.011 +02:00 [DBG] Committed transaction.
2024-09-11 23:51:28.017 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:28.021 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:51:28.026 +02:00 [DBG] Disposing transaction.
2024-09-11 23:51:28.034 +02:00 [DBG] The 'UserTeam' entity with key '{UserId: b018de2e-7622-49cf-8392-c3ffbe73143b, TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-09-11 23:51:28.040 +02:00 [DBG] The 'Team' entity with key '{TeamId: 1}' tracked by 'TMSDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-09-11 23:51:28.048 +02:00 [DBG] SaveChanges completed for 'TMSDbContext' with 2 entities written to the database.
2024-09-11 23:51:28.053 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 23:51:28.058 +02:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 23:51:28.060 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 23:51:28.062 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 23:51:28.064 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-11 23:51:28.068 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-11 23:51:28.072 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API) in 819.9073ms
2024-09-11 23:51:28.074 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 23:51:28.078 +02:00 [INF] HTTP POST /api/v1/teams/1/adduser responded 200 in 875.9482 ms
2024-09-11 23:51:28.083 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:51:28.087 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:51:28.089 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:28.093 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:51:28.097 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 200 null text/plain; charset=utf-8 920.3861ms
2024-09-11 23:51:45.313 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:51:45.320 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:51:45.323 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:51:45.327 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:51:45.330 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:51:45.333 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:51:45.336 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:51:45.340 +02:00 [DBG] Authorization was successful.
2024-09-11 23:51:45.343 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:51:45.347 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamViewDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:51:45.352 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:51:45.356 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:51:45.361 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:51:45.364 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:51:45.368 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:51:45.371 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:51:45.375 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:51:45.379 +02:00 [INF] Getting all Teams for admin@test.com with Role : Administrator
2024-09-11 23:51:45.383 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:51:45.392 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:51:45.394 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 23:51:45.397 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:45.401 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:45.403 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:51:45.406 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:51:45.410 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 23:51:45.414 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:51:45.432 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:51:45.439 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:51:45.444 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: b018de2e-7622-49cf-8392-c3ffbe73143b, TeamId: 1}'.
2024-09-11 23:51:45.448 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: b018de2e-7622-49cf-8392-c3ffbe73143b, TeamId: 1}' was detected as changed.
2024-09-11 23:51:45.451 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: b018de2e-7622-49cf-8392-c3ffbe73143b}'.
2024-09-11 23:51:45.454 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:51:45.458 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:51:45.462 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:51:45.465 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:45.467 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 29ms reading results.
2024-09-11 23:51:45.470 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:45.473 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:51:45.478 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 23:51:45.483 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 23:51:45.486 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 23:51:45.488 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 23:51:45.491 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 23:51:45.493 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 23:51:45.495 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 23:51:45.499 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 127.6929ms
2024-09-11 23:51:45.501 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:51:45.503 +02:00 [INF] HTTP GET /api/v1/teams responded 200 in 166.9798 ms
2024-09-11 23:51:45.508 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:51:45.511 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:51:45.513 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:51:45.516 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 23:51:45.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 200 null application/json; charset=utf-8 206.6017ms
2024-09-11 23:52:24.891 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 23:52:24.901 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:52:24.905 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:52:24.908 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:52:24.911 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:52:24.914 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:52:24.917 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:52:24.922 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:00000009": started reading request body.
2024-09-11 23:52:24.927 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:00000009": done reading request body.
2024-09-11 23:52:24.936 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:52:24.942 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:52:24.944 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 23:52:24.947 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:24.952 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:24.955 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:24.957 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:24.960 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:52:24.963 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:52:25.011 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:52:25.017 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 23:52:25.022 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.024 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 23:52:25.027 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.031 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:25.178 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.183 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.185 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:25.188 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:25.191 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:52:25.194 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:52:25.202 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:52:25.208 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.211 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:52:25.216 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.219 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:25.226 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.232 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.235 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:25.238 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:25.241 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:52:25.245 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:52:25.260 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:52:25.266 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.269 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:52:25.273 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.275 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:52:25.279 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.282 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.285 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:25.287 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:25.290 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:52:25.293 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:52:25.300 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:52:25.308 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 23:52:25.311 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.314 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 23:52:25.319 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.322 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:25.326 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.329 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.333 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:25.335 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:25.337 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:52:25.340 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:52:25.348 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:52:25.354 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.357 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 23:52:25.360 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.363 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:25.368 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.371 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.373 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:25.376 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:25.378 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:52:25.383 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:52:25.389 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:52:25.393 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 23:52:25.397 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.401 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 23:52:25.405 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.407 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:52:25.412 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.416 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.420 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:25.422 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:25.425 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:52:25.428 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:52:25.433 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:52:25.438 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.441 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 23:52:25.445 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.449 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (4ms).
2024-09-11 23:52:25.454 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:52:25.457 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:52:25.460 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 545.7461 ms
2024-09-11 23:52:25.464 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:52:25.467 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:52:25.470 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:25.473 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:52:25.476 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 585.0422ms
2024-09-11 23:52:51.888 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 124
2024-09-11 23:52:51.896 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:52:51.911 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:52:51.918 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:52:51.923 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:52:51.926 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:52:51.930 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:52:51.933 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:52:51.935 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:0000000A": started reading request body.
2024-09-11 23:52:51.938 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:0000000A": done reading request body.
2024-09-11 23:52:51.962 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:52:51.967 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:52:51.970 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 23:52:51.973 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:51.976 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:51.979 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:51.981 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:51.984 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:52:51.987 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:52:51.992 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='STRING@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:52:51.999 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: 827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed}'.
2024-09-11 23:52:52.004 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.007 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 23:52:52.012 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.015 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:52.158 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.162 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.165 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:52.167 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:52.170 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:52:52.174 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:52:52.180 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:52:52.185 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.188 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 23:52:52.192 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.195 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:52.199 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.202 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.205 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:52.208 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:52.211 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:52:52.215 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:52:52.220 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:52:52.226 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.229 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:52:52.235 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.238 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:52.243 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.246 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.248 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:52.251 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:52.253 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:52:52.256 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:52:52.261 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:52:52.266 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 23:52:52.269 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.273 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 23:52:52.276 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.279 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:52.283 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.286 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.289 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:52.291 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:52.293 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:52:52.296 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:52:52.301 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:52:52.306 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.309 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:52:52.313 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.316 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:52.320 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.324 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.327 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:52.331 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:52:52.333 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:52:52.335 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:52:52.340 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='REGULARUSER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:52:52.346 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2}'.
2024-09-11 23:52:52.348 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.352 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-11 23:52:52.355 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.358 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:52:52.362 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.365 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.368 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:52:52.370 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:52:52.372 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:52:52.375 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:52:52.381 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='eb1d12f5-116c-4c7a-8eea-d8f1dcbaa0a2' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:52:52.386 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.389 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-11 23:52:52.393 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.396 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:52:52.399 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:52:52.402 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:52:52.404 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 473.7077 ms
2024-09-11 23:52:52.409 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:52:52.412 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:52:52.414 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:52:52.417 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 23:52:52.421 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 532.4779ms
2024-09-11 23:53:24.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:53:24.458 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:53:24.461 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:53:24.465 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:53:24.468 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:53:24.472 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:53:24.475 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:53:24.477 +02:00 [DBG] Authorization was successful.
2024-09-11 23:53:24.480 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:53:24.483 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamViewDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:53:24.490 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:53:24.493 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:53:24.496 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:53:24.501 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:53:24.505 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:53:24.508 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:53:24.512 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:53:24.519 +02:00 [INF] Getting all Teams for string@test.com with Role : TeamLead
2024-09-11 23:53:24.526 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:53:24.533 +02:00 [DBG] Compiling query expression: 
'DbSet<Team>()
    .Include(t => t.UserTeams)
    .ThenInclude(ut => ut.User)
    .Where(t => t.UserTeams
        .Any(ut => ut.UserId == __userId_0))'
2024-09-11 23:53:24.544 +02:00 [DBG] Including navigation: 'Team.UserTeams'.
2024-09-11 23:53:24.549 +02:00 [DBG] Including navigation: 'UserTeam.User'.
2024-09-11 23:53:24.601 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Team>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Team.TeamId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Team.TeamName (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: UserTeam.UserId (string) Required PK FK AfterSave:Throw, 2], [Property: UserTeam.TeamId (int) Required PK FK Index AfterSave:Throw, 3] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 4], [Property: User.AccessFailedCount (int) Required, 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Email (string) MaxLength(256), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.FirstName (string) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string) Index MaxLength(256), 13], [Property: User.NormalizedUserName (string) Index MaxLength(256), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string) MaxLength(256), 20] }
            4 -> 2
            5 -> 3
            6 -> 4
        SELECT t.TeamId, t.TeamName, t0.UserId, t0.TeamId, t0.Id, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName
        FROM TMS.Teams AS t
        LEFT JOIN 
        (
            SELECT u0.UserId, u0.TeamId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM TMS.UserTeams AS u0
            INNER JOIN TMS.AspNetUsers AS a ON u0.UserId == a.Id
        ) AS t0 ON t.TeamId == t0.TeamId
        WHERE EXISTS (
            SELECT 1
            FROM TMS.UserTeams AS u
            WHERE ((t.TeamId != NULL) && (t.TeamId == u.TeamId)) && (u.UserId == @__userId_0))
        ORDER BY t.TeamId ASC, t0.UserId ASC, t0.TeamId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Team>, 
    TMS.Infrastructure.Persistence.TMSDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 23:53:24.612 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:53:24.613 +02:00 [DBG] Created DbConnection. (1ms).
2024-09-11 23:53:24.616 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:24.620 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:24.624 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:53:24.626 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:53:24.629 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:53:24.632 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u0]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
WHERE EXISTS (
    SELECT 1
    FROM [TMS].[UserTeams] AS [u]
    WHERE [t].[TeamId] = [u].[TeamId] AND [u].[UserId] = @__userId_0)
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:53:24.695 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='827964bd-b6e5-4f6a-bf63-e2e5ba40c2ed' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u0]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
WHERE EXISTS (
    SELECT 1
    FROM [TMS].[UserTeams] AS [u]
    WHERE [t].[TeamId] = [u].[TeamId] AND [u].[UserId] = @__userId_0)
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:53:24.712 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:24.717 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-11 23:53:24.722 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:24.725 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:53:24.729 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 23:53:24.734 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 23:53:24.736 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 23:53:24.739 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 23:53:24.741 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 23:53:24.742 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 23:53:24.745 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 23:53:24.748 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 239.8156ms
2024-09-11 23:53:24.751 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:53:24.753 +02:00 [INF] HTTP GET /api/v1/teams responded 200 in 278.1382 ms
2024-09-11 23:53:24.757 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:53:24.760 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:53:24.762 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:24.766 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-11 23:53:24.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 200 null application/json; charset=utf-8 317.3206ms
2024-09-11 23:53:37.699 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - application/json 15
2024-09-11 23:53:37.720 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams/1/adduser'
2024-09-11 23:53:37.725 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)' with route pattern 'api/v1/teams/{teamId}/adduser' is valid for the request path '/api/v1/teams/1/adduser'
2024-09-11 23:53:37.731 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.addUserToTeam (TaskManagementSystem.API)'
2024-09-11 23:53:37.735 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:53:37.738 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:53:37.742 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:53:37.746 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2024-09-11 23:53:37.751 +02:00 [INF] AuthenticationScheme: Identity.Bearer was forbidden.
2024-09-11 23:53:37.755 +02:00 [INF] HTTP POST /api/v1/teams/1/adduser responded 403 in 13.0623 ms
2024-09-11 23:53:37.759 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:53:37.762 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/teams/1/adduser - 403 0 null 62.1063ms
2024-09-11 23:53:37.771 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:0000000C": started reading request body.
2024-09-11 23:53:37.773 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:0000000C": done reading request body.
2024-09-11 23:53:59.086 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - application/json 122
2024-09-11 23:53:59.092 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/identity/login'
2024-09-11 23:53:59.097 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:53:59.100 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2024-09-11 23:53:59.103 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-09-11 23:53:59.106 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2024-09-11 23:53:59.109 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:53:59.111 +02:00 [INF] Executing endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:53:59.115 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:0000000D": started reading request body.
2024-09-11 23:53:59.119 +02:00 [DBG] Connection id "0HN6ILE2A64P8", Request id "0HN6ILE2A64P8:0000000D": done reading request body.
2024-09-11 23:53:59.125 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:53:59.131 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:53:59.133 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 23:53:59.135 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.139 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.143 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:53:59.146 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:53:59.148 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:53:59.151 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='LEAD@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:53:59.161 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='LEAD@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [TMS].[AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-11 23:53:59.167 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: b018de2e-7622-49cf-8392-c3ffbe73143b}'.
2024-09-11 23:53:59.171 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.175 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-11 23:53:59.179 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.181 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:53:59.325 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.329 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.331 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:53:59.334 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:53:59.336 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:53:59.339 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:53:59.347 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [TMS].[AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-09-11 23:53:59.352 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.355 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:53:59.359 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.362 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:53:59.366 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.369 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.371 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:53:59.374 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:53:59.378 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-11 23:53:59.381 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:53:59.392 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [TMS].[AspNetUserRoles] AS [a]
INNER JOIN [TMS].[AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-11 23:53:59.397 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.400 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:53:59.403 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.407 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:53:59.412 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.416 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.418 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:53:59.421 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:53:59.424 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:53:59.428 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:53:59.434 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='TEAMLEAD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [TMS].[AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-09-11 23:53:59.439 +02:00 [DBG] Context 'TMSDbContext' started tracking 'IdentityRole' entity with key '{Id: 6dc6018a-ee55-480c-9c99-440a27c43219}'.
2024-09-11 23:53:59.442 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.446 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-11 23:53:59.449 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.451 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:53:59.455 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.458 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.461 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:53:59.463 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-11 23:53:59.466 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 23:53:59.468 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:53:59.475 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='6dc6018a-ee55-480c-9c99-440a27c43219' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [TMS].[AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-09-11 23:53:59.480 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.483 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-11 23:53:59.487 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.490 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (3ms).
2024-09-11 23:53:59.495 +02:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-09-11 23:53:59.498 +02:00 [INF] Executed endpoint 'HTTP: POST api/v1/identity/login'
2024-09-11 23:53:59.501 +02:00 [INF] HTTP POST /api/v1/identity/login responded 200 in 392.4072 ms
2024-09-11 23:53:59.505 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:53:59.508 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:53:59.512 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:53:59.516 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-11 23:53:59.520 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5091/api/v1/identity/login - 200 null application/json; charset=utf-8 434.6785ms
2024-09-11 23:54:27.950 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5091/api/v1/teams - null null
2024-09-11 23:54:27.956 +02:00 [DBG] 1 candidate(s) found for the request path '/api/v1/teams'
2024-09-11 23:54:27.959 +02:00 [DBG] Endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)' with route pattern 'api/v1/teams' is valid for the request path '/api/v1/teams'
2024-09-11 23:54:27.963 +02:00 [DBG] Request matched endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:54:27.966 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was successfully authenticated.
2024-09-11 23:54:27.969 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2024-09-11 23:54:27.972 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 23:54:27.974 +02:00 [DBG] Authorization was successful.
2024-09-11 23:54:27.976 +02:00 [INF] Executing endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:54:27.980 +02:00 [INF] Route matched with {action = "GetAllTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TMS.Application.Teams.Dtos.TeamViewDto]]] GetAllTeams() on controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API).
2024-09-11 23:54:27.986 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 23:54:27.991 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 23:54:27.994 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 23:54:28.000 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 23:54:28.004 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 23:54:28.007 +02:00 [DBG] Executing controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:54:28.011 +02:00 [DBG] Executed controller factory for controller TaskManagementSystem.API.Controllers.TeamsController (TaskManagementSystem.API)
2024-09-11 23:54:28.015 +02:00 [INF] Getting all Teams for lead@test.com with Role : TeamLead
2024-09-11 23:54:28.020 +02:00 [DBG] Entity Framework Core 8.0.8 initialized 'TMSDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: SensitiveDataLoggingEnabled MigrationsHistoryTable=TMS.__EFMigrationsHistory 
2024-09-11 23:54:28.027 +02:00 [DBG] Creating DbConnection.
2024-09-11 23:54:28.029 +02:00 [DBG] Created DbConnection. (2ms).
2024-09-11 23:54:28.032 +02:00 [DBG] Opening connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:54:28.035 +02:00 [DBG] Opened connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:54:28.039 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 23:54:28.042 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-11 23:54:28.044 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-11 23:54:28.047 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u0]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
WHERE EXISTS (
    SELECT 1
    FROM [TMS].[UserTeams] AS [u]
    WHERE [t].[TeamId] = [u].[TeamId] AND [u].[UserId] = @__userId_0)
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:54:28.084 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='b018de2e-7622-49cf-8392-c3ffbe73143b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TeamId], [t].[TeamName], [t0].[UserId], [t0].[TeamId], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM [TMS].[Teams] AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[TeamId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [TMS].[UserTeams] AS [u0]
    INNER JOIN [TMS].[AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
) AS [t0] ON [t].[TeamId] = [t0].[TeamId]
WHERE EXISTS (
    SELECT 1
    FROM [TMS].[UserTeams] AS [u]
    WHERE [t].[TeamId] = [u].[TeamId] AND [u].[UserId] = @__userId_0)
ORDER BY [t].[TeamId], [t0].[UserId], [t0].[TeamId]
2024-09-11 23:54:28.091 +02:00 [DBG] Context 'TMSDbContext' started tracking 'Team' entity with key '{TeamId: 1}'.
2024-09-11 23:54:28.094 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: b018de2e-7622-49cf-8392-c3ffbe73143b, TeamId: 1}'.
2024-09-11 23:54:28.098 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: b018de2e-7622-49cf-8392-c3ffbe73143b, TeamId: 1}' was detected as changed.
2024-09-11 23:54:28.103 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: b018de2e-7622-49cf-8392-c3ffbe73143b}'.
2024-09-11 23:54:28.108 +02:00 [DBG] Context 'TMSDbContext' started tracking 'UserTeam' entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}'.
2024-09-11 23:54:28.112 +02:00 [DBG] The navigation 'UserTeam.User' for entity with key '{UserId: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1, TeamId: 1}' was detected as changed.
2024-09-11 23:54:28.115 +02:00 [DBG] Context 'TMSDbContext' started tracking 'User' entity with key '{Id: f9d14ca6-133a-45ac-a2b6-bebe56f5b8e1}'.
2024-09-11 23:54:28.119 +02:00 [DBG] Closing data reader to 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:54:28.123 +02:00 [DBG] A data reader for 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' is being disposed after spending 32ms reading results.
2024-09-11 23:54:28.128 +02:00 [DBG] Closing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:54:28.130 +02:00 [DBG] Closed connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS' (2ms).
2024-09-11 23:54:28.135 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 23:54:28.142 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-11 23:54:28.144 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-11 23:54:28.147 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 23:54:28.149 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 23:54:28.152 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 23:54:28.156 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TMS.Application.Teams.Dtos.TeamViewDto, TMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 23:54:28.160 +02:00 [INF] Executed action TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API) in 152.2667ms
2024-09-11 23:54:28.163 +02:00 [INF] Executed endpoint 'TaskManagementSystem.API.Controllers.TeamsController.GetAllTeams (TaskManagementSystem.API)'
2024-09-11 23:54:28.166 +02:00 [INF] HTTP GET /api/v1/teams responded 200 in 194.0030 ms
2024-09-11 23:54:28.171 +02:00 [DBG] Connection id "0HN6ILE2A64P8" completed keep alive response.
2024-09-11 23:54:28.174 +02:00 [DBG] 'TMSDbContext' disposed.
2024-09-11 23:54:28.176 +02:00 [DBG] Disposing connection to database 'TMSDb' on server 'DESKTOP-3IK5A23\SQLEXPRESS'.
2024-09-11 23:54:28.179 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-11 23:54:28.183 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5091/api/v1/teams - 200 null application/json; charset=utf-8 232.7646ms
2024-09-11 23:55:55.644 +02:00 [DBG] Connection id "0HN6ILE2A64P8" received FIN.
2024-09-11 23:55:55.686 +02:00 [DBG] Connection id "0HN6ILE2A64P8" disconnecting.
2024-09-11 23:55:55.690 +02:00 [DBG] Connection id "0HN6ILE2A64P8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 23:55:55.697 +02:00 [DBG] Connection id "0HN6ILE2A64P8" stopped.
2024-09-11 23:56:07.939 +02:00 [INF] Application is shutting down...
2024-09-11 23:56:07.941 +02:00 [DBG] Hosting stopping
2024-09-11 23:56:07.954 +02:00 [DBG] Hosting stopped
